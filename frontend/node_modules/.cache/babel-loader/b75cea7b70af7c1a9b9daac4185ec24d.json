{"ast":null,"code":"/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { readTask, writeTask, HTMLElement, h, Host, proxyCustomElement } from '@stencil/core/internal/client';\nimport { b as getIonMode } from './ionic-global.js';\nimport { d as clamp, c as componentOnReady, i as inheritAttributes } from './helpers.js';\nimport { h as hostContext } from './theme.js';\nconst TRANSITION = 'all 0.2s ease-in-out';\n\nconst cloneElement = tagName => {\n  const getCachedEl = document.querySelector(`${tagName}.ion-cloned-element`);\n\n  if (getCachedEl !== null) {\n    return getCachedEl;\n  }\n\n  const clonedEl = document.createElement(tagName);\n  clonedEl.classList.add('ion-cloned-element');\n  clonedEl.style.setProperty('display', 'none');\n  document.body.appendChild(clonedEl);\n  return clonedEl;\n};\n\nconst createHeaderIndex = headerEl => {\n  if (!headerEl) {\n    return;\n  }\n\n  const toolbars = headerEl.querySelectorAll('ion-toolbar');\n  return {\n    el: headerEl,\n    toolbars: Array.from(toolbars).map(toolbar => {\n      const ionTitleEl = toolbar.querySelector('ion-title');\n      return {\n        el: toolbar,\n        background: toolbar.shadowRoot.querySelector('.toolbar-background'),\n        ionTitleEl,\n        innerTitleEl: ionTitleEl ? ionTitleEl.shadowRoot.querySelector('.toolbar-title') : null,\n        ionButtonsEl: Array.from(toolbar.querySelectorAll('ion-buttons')) || []\n      };\n    }) || []\n  };\n};\n\nconst handleContentScroll = (scrollEl, scrollHeaderIndex, contentEl) => {\n  readTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    const scale = clamp(1, 1 + -scrollTop / 500, 1.1); // Native refresher should not cause titles to scale\n\n    const nativeRefresher = contentEl.querySelector('ion-refresher.refresher-native');\n\n    if (nativeRefresher === null) {\n      writeTask(() => {\n        scaleLargeTitles(scrollHeaderIndex.toolbars, scale);\n      });\n    }\n  });\n};\n\nconst setToolbarBackgroundOpacity = (headerEl, opacity) => {\n  /**\n   * Fading in the backdrop opacity\n   * should happen after the large title\n   * has collapsed, so it is handled\n   * by handleHeaderFade()\n   */\n  if (headerEl.collapse === 'fade') {\n    return;\n  }\n\n  if (opacity === undefined) {\n    headerEl.style.removeProperty('--opacity-scale');\n  } else {\n    headerEl.style.setProperty('--opacity-scale', opacity.toString());\n  }\n};\n\nconst handleToolbarBorderIntersection = (ev, mainHeaderIndex, scrollTop) => {\n  if (!ev[0].isIntersecting) {\n    return;\n  }\n  /**\n   * There is a bug in Safari where overflow scrolling on a non-body element\n   * does not always reset the scrollTop position to 0 when letting go. It will\n   * set to 1 once the rubber band effect has ended. This causes the background to\n   * appear slightly on certain app setups.\n   *\n   * Additionally, we check if user is rubber banding (scrolling is negative)\n   * as this can mean they are using pull to refresh. Once the refresher starts,\n   * the content is transformed which can cause the intersection observer to erroneously\n   * fire here as well.\n   */\n\n\n  const scale = ev[0].intersectionRatio > 0.9 || scrollTop <= 0 ? 0 : (1 - ev[0].intersectionRatio) * 100 / 75;\n  setToolbarBackgroundOpacity(mainHeaderIndex.el, scale === 1 ? undefined : scale);\n};\n/**\n * If toolbars are intersecting, hide the scrollable toolbar content\n * and show the primary toolbar content. If the toolbars are not intersecting,\n * hide the primary toolbar content and show the scrollable toolbar content\n */\n\n\nconst handleToolbarIntersection = (ev, mainHeaderIndex, scrollHeaderIndex, scrollEl) => {\n  writeTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    handleToolbarBorderIntersection(ev, mainHeaderIndex, scrollTop);\n    const event = ev[0];\n    const intersection = event.intersectionRect;\n    const intersectionArea = intersection.width * intersection.height;\n    const rootArea = event.rootBounds.width * event.rootBounds.height;\n    const isPageHidden = intersectionArea === 0 && rootArea === 0;\n    const leftDiff = Math.abs(intersection.left - event.boundingClientRect.left);\n    const rightDiff = Math.abs(intersection.right - event.boundingClientRect.right);\n    const isPageTransitioning = intersectionArea > 0 && (leftDiff >= 5 || rightDiff >= 5);\n\n    if (isPageHidden || isPageTransitioning) {\n      return;\n    }\n\n    if (event.isIntersecting) {\n      setHeaderActive(mainHeaderIndex, false);\n      setHeaderActive(scrollHeaderIndex);\n    } else {\n      /**\n       * There is a bug with IntersectionObserver on Safari\n       * where `event.isIntersecting === false` when cancelling\n       * a swipe to go back gesture. Checking the intersection\n       * x, y, width, and height provides a workaround. This bug\n       * does not happen when using Safari + Web Animations,\n       * only Safari + CSS Animations.\n       */\n      const hasValidIntersection = intersection.x === 0 && intersection.y === 0 || intersection.width !== 0 && intersection.height !== 0;\n\n      if (hasValidIntersection && scrollTop > 0) {\n        setHeaderActive(mainHeaderIndex);\n        setHeaderActive(scrollHeaderIndex, false);\n        setToolbarBackgroundOpacity(mainHeaderIndex.el);\n      }\n    }\n  });\n};\n\nconst setHeaderActive = function (headerIndex) {\n  let active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (active) {\n    headerIndex.el.classList.remove('header-collapse-condense-inactive');\n  } else {\n    headerIndex.el.classList.add('header-collapse-condense-inactive');\n  }\n};\n\nconst scaleLargeTitles = function () {\n  let toolbars = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  let transition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  toolbars.forEach(toolbar => {\n    const ionTitle = toolbar.ionTitleEl;\n    const titleDiv = toolbar.innerTitleEl;\n\n    if (!ionTitle || ionTitle.size !== 'large') {\n      return;\n    }\n\n    titleDiv.style.transition = transition ? TRANSITION : '';\n    titleDiv.style.transform = `scale3d(${scale}, ${scale}, 1)`;\n  });\n};\n\nconst handleHeaderFade = (scrollEl, baseEl, condenseHeader) => {\n  readTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    const baseElHeight = baseEl.clientHeight;\n    const fadeStart = condenseHeader ? condenseHeader.clientHeight : 0;\n    /**\n     * If we are using fade header with a condense\n     * header, then the toolbar backgrounds should\n     * not begin to fade in until the condense\n     * header has fully collapsed.\n     *\n     * Additionally, the main content should not\n     * overflow out of the container until the\n     * condense header has fully collapsed. When\n     * using just the condense header the content\n     * should overflow out of the container.\n     */\n\n    if (condenseHeader !== null && scrollTop < fadeStart) {\n      baseEl.style.setProperty('--opacity-scale', '0');\n      scrollEl.style.setProperty('clip-path', `inset(${baseElHeight}px 0px 0px 0px)`);\n      return;\n    }\n\n    const distanceToStart = scrollTop - fadeStart;\n    const fadeDuration = 10;\n    const scale = clamp(0, distanceToStart / fadeDuration, 1);\n    writeTask(() => {\n      scrollEl.style.removeProperty('clip-path');\n      baseEl.style.setProperty('--opacity-scale', scale.toString());\n    });\n  });\n};\n\nconst headerIosCss = \"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}\";\nconst headerMdCss = \"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:\\\"\\\"}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}\";\nlet Header = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.inheritedAttributes = {};\n    /**\n     * If `true`, the header will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     *\n     * Note: In order to scroll content behind the header, the `fullscreen`\n     * attribute needs to be set on the content.\n     */\n\n    this.translucent = false;\n\n    this.setupFadeHeader = async (contentEl, condenseHeader) => {\n      if (!contentEl) {\n        console.error('ion-header requires a content to collapse. Make sure there is an ion-content.');\n        return;\n      }\n\n      await new Promise(resolve => componentOnReady(contentEl, resolve));\n      const scrollEl = this.scrollEl = await contentEl.getScrollElement();\n      /**\n       * Handle fading of toolbars on scroll\n       */\n\n      this.contentScrollCallback = () => {\n        handleHeaderFade(this.scrollEl, this.el, condenseHeader);\n      };\n\n      scrollEl.addEventListener('scroll', this.contentScrollCallback);\n      handleHeaderFade(this.scrollEl, this.el, condenseHeader);\n    };\n  }\n\n  componentWillLoad() {\n    this.inheritedAttributes = inheritAttributes(this.el, ['role']);\n  }\n\n  componentDidLoad() {\n    this.checkCollapsibleHeader();\n  }\n\n  componentDidUpdate() {\n    this.checkCollapsibleHeader();\n  }\n\n  disconnectedCallback() {\n    this.destroyCollapsibleHeader();\n  }\n\n  async checkCollapsibleHeader() {\n    const mode = getIonMode(this);\n\n    if (mode !== 'ios') {\n      return;\n    }\n\n    const {\n      collapse\n    } = this;\n    const hasCondense = collapse === 'condense';\n    const hasFade = collapse === 'fade';\n    this.destroyCollapsibleHeader();\n\n    if (hasCondense) {\n      const pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\n      const contentEl = pageEl ? pageEl.querySelector('ion-content') : null; // Cloned elements are always needed in iOS transition\n\n      writeTask(() => {\n        const title = cloneElement('ion-title');\n        title.size = 'large';\n        cloneElement('ion-back-button');\n      });\n      await this.setupCondenseHeader(contentEl, pageEl);\n    } else if (hasFade) {\n      const pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\n      const contentEl = pageEl ? pageEl.querySelector('ion-content') : null;\n      const condenseHeader = contentEl ? contentEl.querySelector('ion-header[collapse=\"condense\"]') : null;\n      await this.setupFadeHeader(contentEl, condenseHeader);\n    }\n  }\n\n  destroyCollapsibleHeader() {\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n      this.intersectionObserver = undefined;\n    }\n\n    if (this.scrollEl && this.contentScrollCallback) {\n      this.scrollEl.removeEventListener('scroll', this.contentScrollCallback);\n      this.contentScrollCallback = undefined;\n    }\n\n    if (this.collapsibleMainHeader) {\n      this.collapsibleMainHeader.classList.remove('header-collapse-main');\n      this.collapsibleMainHeader = undefined;\n    }\n  }\n\n  async setupCondenseHeader(contentEl, pageEl) {\n    if (!contentEl || !pageEl) {\n      console.error('ion-header requires a content to collapse, make sure there is an ion-content.');\n      return;\n    }\n\n    if (typeof IntersectionObserver === 'undefined') {\n      return;\n    }\n\n    await new Promise(resolve => componentOnReady(contentEl, resolve));\n    this.scrollEl = await contentEl.getScrollElement();\n    const headers = pageEl.querySelectorAll('ion-header');\n    this.collapsibleMainHeader = Array.from(headers).find(header => header.collapse !== 'condense');\n\n    if (!this.collapsibleMainHeader) {\n      return;\n    }\n\n    const mainHeaderIndex = createHeaderIndex(this.collapsibleMainHeader);\n    const scrollHeaderIndex = createHeaderIndex(this.el);\n\n    if (!mainHeaderIndex || !scrollHeaderIndex) {\n      return;\n    }\n\n    setHeaderActive(mainHeaderIndex, false);\n    setToolbarBackgroundOpacity(mainHeaderIndex.el, 0);\n    /**\n     * Handle interaction between toolbar collapse and\n     * showing/hiding content in the primary ion-header\n     * as well as progressively showing/hiding the main header\n     * border as the top-most toolbar collapses or expands.\n     */\n\n    const toolbarIntersection = ev => {\n      handleToolbarIntersection(ev, mainHeaderIndex, scrollHeaderIndex, this.scrollEl);\n    };\n\n    this.intersectionObserver = new IntersectionObserver(toolbarIntersection, {\n      root: contentEl,\n      threshold: [0.25, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]\n    });\n    this.intersectionObserver.observe(scrollHeaderIndex.toolbars[scrollHeaderIndex.toolbars.length - 1].el);\n    /**\n     * Handle scaling of large iOS titles and\n     * showing/hiding border on last toolbar\n     * in primary header\n     */\n\n    this.contentScrollCallback = () => {\n      handleContentScroll(this.scrollEl, scrollHeaderIndex, contentEl);\n    };\n\n    this.scrollEl.addEventListener('scroll', this.contentScrollCallback);\n    writeTask(() => {\n      if (this.collapsibleMainHeader !== undefined) {\n        this.collapsibleMainHeader.classList.add('header-collapse-main');\n      }\n    });\n  }\n\n  render() {\n    const {\n      translucent,\n      inheritedAttributes\n    } = this;\n    const mode = getIonMode(this);\n    const collapse = this.collapse || 'none'; // banner role must be at top level, so remove role if inside a menu\n\n    const roleType = hostContext('ion-menu', this.el) ? 'none' : 'banner';\n    return h(Host, Object.assign({\n      role: roleType,\n      class: {\n        [mode]: true,\n        // Used internally for styling\n        [`header-${mode}`]: true,\n        [`header-translucent`]: this.translucent,\n        [`header-collapse-${collapse}`]: true,\n        [`header-translucent-${mode}`]: this.translucent\n      }\n    }, inheritedAttributes), mode === 'ios' && translucent && h(\"div\", {\n      class: \"header-background\"\n    }), h(\"slot\", null));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get style() {\n    return {\n      ios: headerIosCss,\n      md: headerMdCss\n    };\n  }\n\n};\nHeader = /*@__PURE__*/proxyCustomElement(Header, [36, \"ion-header\", {\n  \"collapse\": [1],\n  \"translucent\": [4]\n}]);\n\nfunction defineCustomElement$1() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-header\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-header\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Header);\n        }\n\n        break;\n    }\n  });\n}\n\nconst IonHeader = Header;\nconst defineCustomElement = defineCustomElement$1;\nexport { IonHeader, defineCustomElement };","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@ionic/core/components/ion-header.js"],"names":["readTask","writeTask","HTMLElement","h","Host","proxyCustomElement","b","getIonMode","d","clamp","c","componentOnReady","i","inheritAttributes","hostContext","TRANSITION","cloneElement","tagName","getCachedEl","document","querySelector","clonedEl","createElement","classList","add","style","setProperty","body","appendChild","createHeaderIndex","headerEl","toolbars","querySelectorAll","el","Array","from","map","toolbar","ionTitleEl","background","shadowRoot","innerTitleEl","ionButtonsEl","handleContentScroll","scrollEl","scrollHeaderIndex","contentEl","scrollTop","scale","nativeRefresher","scaleLargeTitles","setToolbarBackgroundOpacity","opacity","collapse","undefined","removeProperty","toString","handleToolbarBorderIntersection","ev","mainHeaderIndex","isIntersecting","intersectionRatio","handleToolbarIntersection","event","intersection","intersectionRect","intersectionArea","width","height","rootArea","rootBounds","isPageHidden","leftDiff","Math","abs","left","boundingClientRect","rightDiff","right","isPageTransitioning","setHeaderActive","hasValidIntersection","x","y","headerIndex","active","remove","transition","forEach","ionTitle","titleDiv","size","transform","handleHeaderFade","baseEl","condenseHeader","baseElHeight","clientHeight","fadeStart","distanceToStart","fadeDuration","headerIosCss","headerMdCss","Header","constructor","__registerHost","inheritedAttributes","translucent","setupFadeHeader","console","error","Promise","resolve","getScrollElement","contentScrollCallback","addEventListener","componentWillLoad","componentDidLoad","checkCollapsibleHeader","componentDidUpdate","disconnectedCallback","destroyCollapsibleHeader","mode","hasCondense","hasFade","pageEl","closest","title","setupCondenseHeader","intersectionObserver","disconnect","removeEventListener","collapsibleMainHeader","IntersectionObserver","headers","find","header","toolbarIntersection","root","threshold","observe","length","render","roleType","Object","assign","role","class","ios","md","defineCustomElement$1","customElements","components","get","define","IonHeader","defineCustomElement"],"mappings":"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","sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { readTask, writeTask, HTMLElement, h, Host, proxyCustomElement } from '@stencil/core/internal/client';\nimport { b as getIonMode } from './ionic-global.js';\nimport { d as clamp, c as componentOnReady, i as inheritAttributes } from './helpers.js';\nimport { h as hostContext } from './theme.js';\n\nconst TRANSITION = 'all 0.2s ease-in-out';\nconst cloneElement = (tagName) => {\n  const getCachedEl = document.querySelector(`${tagName}.ion-cloned-element`);\n  if (getCachedEl !== null) {\n    return getCachedEl;\n  }\n  const clonedEl = document.createElement(tagName);\n  clonedEl.classList.add('ion-cloned-element');\n  clonedEl.style.setProperty('display', 'none');\n  document.body.appendChild(clonedEl);\n  return clonedEl;\n};\nconst createHeaderIndex = (headerEl) => {\n  if (!headerEl) {\n    return;\n  }\n  const toolbars = headerEl.querySelectorAll('ion-toolbar');\n  return {\n    el: headerEl,\n    toolbars: Array.from(toolbars).map((toolbar) => {\n      const ionTitleEl = toolbar.querySelector('ion-title');\n      return {\n        el: toolbar,\n        background: toolbar.shadowRoot.querySelector('.toolbar-background'),\n        ionTitleEl,\n        innerTitleEl: (ionTitleEl) ? ionTitleEl.shadowRoot.querySelector('.toolbar-title') : null,\n        ionButtonsEl: Array.from(toolbar.querySelectorAll('ion-buttons')) || []\n      };\n    }) || []\n  };\n};\nconst handleContentScroll = (scrollEl, scrollHeaderIndex, contentEl) => {\n  readTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    const scale = clamp(1, 1 + (-scrollTop / 500), 1.1);\n    // Native refresher should not cause titles to scale\n    const nativeRefresher = contentEl.querySelector('ion-refresher.refresher-native');\n    if (nativeRefresher === null) {\n      writeTask(() => {\n        scaleLargeTitles(scrollHeaderIndex.toolbars, scale);\n      });\n    }\n  });\n};\nconst setToolbarBackgroundOpacity = (headerEl, opacity) => {\n  /**\n   * Fading in the backdrop opacity\n   * should happen after the large title\n   * has collapsed, so it is handled\n   * by handleHeaderFade()\n   */\n  if (headerEl.collapse === 'fade') {\n    return;\n  }\n  if (opacity === undefined) {\n    headerEl.style.removeProperty('--opacity-scale');\n  }\n  else {\n    headerEl.style.setProperty('--opacity-scale', opacity.toString());\n  }\n};\nconst handleToolbarBorderIntersection = (ev, mainHeaderIndex, scrollTop) => {\n  if (!ev[0].isIntersecting) {\n    return;\n  }\n  /**\n   * There is a bug in Safari where overflow scrolling on a non-body element\n   * does not always reset the scrollTop position to 0 when letting go. It will\n   * set to 1 once the rubber band effect has ended. This causes the background to\n   * appear slightly on certain app setups.\n   *\n   * Additionally, we check if user is rubber banding (scrolling is negative)\n   * as this can mean they are using pull to refresh. Once the refresher starts,\n   * the content is transformed which can cause the intersection observer to erroneously\n   * fire here as well.\n   */\n  const scale = (ev[0].intersectionRatio > 0.9 || scrollTop <= 0) ? 0 : ((1 - ev[0].intersectionRatio) * 100) / 75;\n  setToolbarBackgroundOpacity(mainHeaderIndex.el, (scale === 1) ? undefined : scale);\n};\n/**\n * If toolbars are intersecting, hide the scrollable toolbar content\n * and show the primary toolbar content. If the toolbars are not intersecting,\n * hide the primary toolbar content and show the scrollable toolbar content\n */\nconst handleToolbarIntersection = (ev, mainHeaderIndex, scrollHeaderIndex, scrollEl) => {\n  writeTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    handleToolbarBorderIntersection(ev, mainHeaderIndex, scrollTop);\n    const event = ev[0];\n    const intersection = event.intersectionRect;\n    const intersectionArea = intersection.width * intersection.height;\n    const rootArea = event.rootBounds.width * event.rootBounds.height;\n    const isPageHidden = intersectionArea === 0 && rootArea === 0;\n    const leftDiff = Math.abs(intersection.left - event.boundingClientRect.left);\n    const rightDiff = Math.abs(intersection.right - event.boundingClientRect.right);\n    const isPageTransitioning = intersectionArea > 0 && (leftDiff >= 5 || rightDiff >= 5);\n    if (isPageHidden || isPageTransitioning) {\n      return;\n    }\n    if (event.isIntersecting) {\n      setHeaderActive(mainHeaderIndex, false);\n      setHeaderActive(scrollHeaderIndex);\n    }\n    else {\n      /**\n       * There is a bug with IntersectionObserver on Safari\n       * where `event.isIntersecting === false` when cancelling\n       * a swipe to go back gesture. Checking the intersection\n       * x, y, width, and height provides a workaround. This bug\n       * does not happen when using Safari + Web Animations,\n       * only Safari + CSS Animations.\n       */\n      const hasValidIntersection = (intersection.x === 0 && intersection.y === 0) || (intersection.width !== 0 && intersection.height !== 0);\n      if (hasValidIntersection && scrollTop > 0) {\n        setHeaderActive(mainHeaderIndex);\n        setHeaderActive(scrollHeaderIndex, false);\n        setToolbarBackgroundOpacity(mainHeaderIndex.el);\n      }\n    }\n  });\n};\nconst setHeaderActive = (headerIndex, active = true) => {\n  if (active) {\n    headerIndex.el.classList.remove('header-collapse-condense-inactive');\n  }\n  else {\n    headerIndex.el.classList.add('header-collapse-condense-inactive');\n  }\n};\nconst scaleLargeTitles = (toolbars = [], scale = 1, transition = false) => {\n  toolbars.forEach(toolbar => {\n    const ionTitle = toolbar.ionTitleEl;\n    const titleDiv = toolbar.innerTitleEl;\n    if (!ionTitle || ionTitle.size !== 'large') {\n      return;\n    }\n    titleDiv.style.transition = (transition) ? TRANSITION : '';\n    titleDiv.style.transform = `scale3d(${scale}, ${scale}, 1)`;\n  });\n};\nconst handleHeaderFade = (scrollEl, baseEl, condenseHeader) => {\n  readTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    const baseElHeight = baseEl.clientHeight;\n    const fadeStart = (condenseHeader) ? condenseHeader.clientHeight : 0;\n    /**\n     * If we are using fade header with a condense\n     * header, then the toolbar backgrounds should\n     * not begin to fade in until the condense\n     * header has fully collapsed.\n     *\n     * Additionally, the main content should not\n     * overflow out of the container until the\n     * condense header has fully collapsed. When\n     * using just the condense header the content\n     * should overflow out of the container.\n     */\n    if ((condenseHeader !== null) && (scrollTop < fadeStart)) {\n      baseEl.style.setProperty('--opacity-scale', '0');\n      scrollEl.style.setProperty('clip-path', `inset(${baseElHeight}px 0px 0px 0px)`);\n      return;\n    }\n    const distanceToStart = scrollTop - fadeStart;\n    const fadeDuration = 10;\n    const scale = clamp(0, (distanceToStart / fadeDuration), 1);\n    writeTask(() => {\n      scrollEl.style.removeProperty('clip-path');\n      baseEl.style.setProperty('--opacity-scale', scale.toString());\n    });\n  });\n};\n\nconst headerIosCss = \"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}\";\n\nconst headerMdCss = \"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:\\\"\\\"}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}\";\n\nlet Header = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.inheritedAttributes = {};\n    /**\n     * If `true`, the header will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     *\n     * Note: In order to scroll content behind the header, the `fullscreen`\n     * attribute needs to be set on the content.\n     */\n    this.translucent = false;\n    this.setupFadeHeader = async (contentEl, condenseHeader) => {\n      if (!contentEl) {\n        console.error('ion-header requires a content to collapse. Make sure there is an ion-content.');\n        return;\n      }\n      await new Promise(resolve => componentOnReady(contentEl, resolve));\n      const scrollEl = this.scrollEl = await contentEl.getScrollElement();\n      /**\n       * Handle fading of toolbars on scroll\n       */\n      this.contentScrollCallback = () => { handleHeaderFade(this.scrollEl, this.el, condenseHeader); };\n      scrollEl.addEventListener('scroll', this.contentScrollCallback);\n      handleHeaderFade(this.scrollEl, this.el, condenseHeader);\n    };\n  }\n  componentWillLoad() {\n    this.inheritedAttributes = inheritAttributes(this.el, ['role']);\n  }\n  componentDidLoad() {\n    this.checkCollapsibleHeader();\n  }\n  componentDidUpdate() {\n    this.checkCollapsibleHeader();\n  }\n  disconnectedCallback() {\n    this.destroyCollapsibleHeader();\n  }\n  async checkCollapsibleHeader() {\n    const mode = getIonMode(this);\n    if (mode !== 'ios') {\n      return;\n    }\n    const { collapse } = this;\n    const hasCondense = collapse === 'condense';\n    const hasFade = collapse === 'fade';\n    this.destroyCollapsibleHeader();\n    if (hasCondense) {\n      const pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\n      const contentEl = (pageEl) ? pageEl.querySelector('ion-content') : null;\n      // Cloned elements are always needed in iOS transition\n      writeTask(() => {\n        const title = cloneElement('ion-title');\n        title.size = 'large';\n        cloneElement('ion-back-button');\n      });\n      await this.setupCondenseHeader(contentEl, pageEl);\n    }\n    else if (hasFade) {\n      const pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\n      const contentEl = (pageEl) ? pageEl.querySelector('ion-content') : null;\n      const condenseHeader = (contentEl) ? contentEl.querySelector('ion-header[collapse=\"condense\"]') : null;\n      await this.setupFadeHeader(contentEl, condenseHeader);\n    }\n  }\n  destroyCollapsibleHeader() {\n    if (this.intersectionObserver) {\n      this.intersectionObserver.disconnect();\n      this.intersectionObserver = undefined;\n    }\n    if (this.scrollEl && this.contentScrollCallback) {\n      this.scrollEl.removeEventListener('scroll', this.contentScrollCallback);\n      this.contentScrollCallback = undefined;\n    }\n    if (this.collapsibleMainHeader) {\n      this.collapsibleMainHeader.classList.remove('header-collapse-main');\n      this.collapsibleMainHeader = undefined;\n    }\n  }\n  async setupCondenseHeader(contentEl, pageEl) {\n    if (!contentEl || !pageEl) {\n      console.error('ion-header requires a content to collapse, make sure there is an ion-content.');\n      return;\n    }\n    if (typeof IntersectionObserver === 'undefined') {\n      return;\n    }\n    await new Promise(resolve => componentOnReady(contentEl, resolve));\n    this.scrollEl = await contentEl.getScrollElement();\n    const headers = pageEl.querySelectorAll('ion-header');\n    this.collapsibleMainHeader = Array.from(headers).find((header) => header.collapse !== 'condense');\n    if (!this.collapsibleMainHeader) {\n      return;\n    }\n    const mainHeaderIndex = createHeaderIndex(this.collapsibleMainHeader);\n    const scrollHeaderIndex = createHeaderIndex(this.el);\n    if (!mainHeaderIndex || !scrollHeaderIndex) {\n      return;\n    }\n    setHeaderActive(mainHeaderIndex, false);\n    setToolbarBackgroundOpacity(mainHeaderIndex.el, 0);\n    /**\n     * Handle interaction between toolbar collapse and\n     * showing/hiding content in the primary ion-header\n     * as well as progressively showing/hiding the main header\n     * border as the top-most toolbar collapses or expands.\n     */\n    const toolbarIntersection = (ev) => { handleToolbarIntersection(ev, mainHeaderIndex, scrollHeaderIndex, this.scrollEl); };\n    this.intersectionObserver = new IntersectionObserver(toolbarIntersection, { root: contentEl, threshold: [0.25, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1] });\n    this.intersectionObserver.observe(scrollHeaderIndex.toolbars[scrollHeaderIndex.toolbars.length - 1].el);\n    /**\n     * Handle scaling of large iOS titles and\n     * showing/hiding border on last toolbar\n     * in primary header\n     */\n    this.contentScrollCallback = () => { handleContentScroll(this.scrollEl, scrollHeaderIndex, contentEl); };\n    this.scrollEl.addEventListener('scroll', this.contentScrollCallback);\n    writeTask(() => {\n      if (this.collapsibleMainHeader !== undefined) {\n        this.collapsibleMainHeader.classList.add('header-collapse-main');\n      }\n    });\n  }\n  render() {\n    const { translucent, inheritedAttributes } = this;\n    const mode = getIonMode(this);\n    const collapse = this.collapse || 'none';\n    // banner role must be at top level, so remove role if inside a menu\n    const roleType = hostContext('ion-menu', this.el) ? 'none' : 'banner';\n    return (h(Host, Object.assign({ role: roleType, class: {\n        [mode]: true,\n        // Used internally for styling\n        [`header-${mode}`]: true,\n        [`header-translucent`]: this.translucent,\n        [`header-collapse-${collapse}`]: true,\n        [`header-translucent-${mode}`]: this.translucent,\n      } }, inheritedAttributes), mode === 'ios' && translucent &&\n      h(\"div\", { class: \"header-background\" }), h(\"slot\", null)));\n  }\n  get el() { return this; }\n  static get style() { return {\n    ios: headerIosCss,\n    md: headerMdCss\n  }; }\n};\nHeader = /*@__PURE__*/ proxyCustomElement(Header, [36, \"ion-header\", {\n    \"collapse\": [1],\n    \"translucent\": [4]\n  }]);\nfunction defineCustomElement$1() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-header\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-header\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Header);\n      }\n      break;\n  } });\n}\n\nconst IonHeader = Header;\nconst defineCustomElement = defineCustomElement$1;\n\nexport { IonHeader, defineCustomElement };\n"]},"metadata":{},"sourceType":"module"}