{"ast":null,"code":"/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { writeTask, HTMLElement, createEvent, readTask, h, Host, proxyCustomElement, forceUpdate } from '@stencil/core/internal/client';\nimport { b as getIonMode, c as config, a as isPlatform } from './ionic-global.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic.js';\nimport { createGesture } from './index2.js';\nimport { s as sanitizeDOMString } from './index3.js';\nimport { g as getClassMap, c as createColorClasses } from './theme.js';\nimport { c as createAnimation } from './animation.js';\nimport { d as defineCustomElement$9 } from './backdrop.js';\nimport { d as defineCustomElement$7 } from './ripple-effect.js';\nimport { d as defineCustomElement$a } from './spinner.js';\nimport { C as CoreDelegate, a as attachComponent, d as detachComponent } from './framework-delegate.js';\nimport { d as clamp, g as getElementRoot, r as raf, a as addEventListener, c as componentOnReady, f as focusElement, b as removeEventListener } from './helpers.js';\nimport { e as deepReady } from './index4.js';\nimport { g as getTimeGivenProgression } from './cubic-bezier.js';\nimport { d as defineCustomElement$b, P as PickerColumnCmp } from './picker-column.js';\nimport { d as defineCustomElement$8 } from './icon.js';\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    const target = document.elementFromPoint(x, y);\n\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n\n  const clearActiveButton = function () {\n    let dispatchClick = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (!currentTouchedButton) {\n      return;\n    }\n\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n\n    currentTouchedButton = undefined;\n  };\n\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n/**\n * iOS Action Sheet Enter Animation\n */\n\n\nconst iosEnterAnimation$6 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.action-sheet-wrapper')).fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * iOS Action Sheet Leave Animation\n */\n\n\nconst iosLeaveAnimation$6 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.action-sheet-wrapper')).fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(450).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * MD Action Sheet Enter Animation\n */\n\n\nconst mdEnterAnimation$5 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.action-sheet-wrapper')).fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * MD Action Sheet Leave Animation\n */\n\n\nconst mdLeaveAnimation$5 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.action-sheet-wrapper')).fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(450).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst actionSheetIosCss = \".sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}\";\nconst actionSheetMdCss = \".sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}\";\nlet ActionSheet = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.didPresent = createEvent(this, \"ionActionSheetDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionActionSheetWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionActionSheetWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionActionSheetDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * An array of buttons for the action sheet.\n     */\n\n    this.buttons = [];\n    /**\n     * If `true`, the action sheet will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the action sheet will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n\n    this.translucent = false;\n    /**\n     * If `true`, the action sheet will animate.\n     */\n\n    this.animated = true;\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n\n    this.dispatchCancelHandler = ev => {\n      const role = ev.detail.role;\n\n      if (isCancel(role)) {\n        const cancelButton = this.getButtons().find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n  /**\n   * Present the action sheet overlay after it has been created.\n   */\n\n\n  present() {\n    return present(this, 'actionSheetEnter', iosEnterAnimation$6, mdEnterAnimation$5);\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Dismiss the action sheet overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the action sheet.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the action sheet.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n\n\n  dismiss(data, role) {\n    return dismiss(this, data, role, 'actionSheetLeave', iosLeaveAnimation$6, mdLeaveAnimation$5);\n  }\n  /**\n   * Returns a promise that resolves when the action sheet did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionActionSheetDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the action sheet will dismiss.\n   *\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionActionSheetWillDismiss');\n  }\n\n  async buttonClick(button) {\n    const role = button.role;\n\n    if (isCancel(role)) {\n      return this.dismiss(button.data, role);\n    }\n\n    const shouldDismiss = await this.callButtonHandler(button);\n\n    if (shouldDismiss) {\n      return this.dismiss(button.data, button.role);\n    }\n\n    return Promise.resolve();\n  }\n\n  async callButtonHandler(button) {\n    if (button) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const rtn = await safeCall(button.handler);\n\n      if (rtn === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  getButtons() {\n    return this.buttons.map(b => {\n      return typeof b === 'string' ? {\n        text: b\n      } : b;\n    });\n  }\n\n  disconnectedCallback() {\n    if (this.gesture) {\n      this.gesture.destroy();\n      this.gesture = undefined;\n    }\n  }\n\n  componentDidLoad() {\n    /**\n     * Do not create gesture if:\n     * 1. A gesture already exists\n     * 2. App is running in MD mode\n     * 3. A wrapper ref does not exist\n     */\n    const {\n      groupEl,\n      wrapperEl\n    } = this;\n\n    if (this.gesture || getIonMode(this) === 'md' || !wrapperEl || !groupEl) {\n      return;\n    }\n\n    readTask(() => {\n      const isScrollable = groupEl.scrollHeight > groupEl.clientHeight;\n\n      if (!isScrollable) {\n        this.gesture = createButtonActiveGesture(wrapperEl, refEl => refEl.classList.contains('action-sheet-button'));\n        this.gesture.enable(true);\n      }\n    });\n  }\n\n  render() {\n    const {\n      htmlAttributes\n    } = this;\n    const mode = getIonMode(this);\n    const allButtons = this.getButtons();\n    const cancelButton = allButtons.find(b => b.role === 'cancel');\n    const buttons = allButtons.filter(b => b.role !== 'cancel');\n    return h(Host, Object.assign({\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${20000 + this.overlayIndex}`\n      },\n      class: Object.assign(Object.assign({\n        [mode]: true\n      }, getClassMap(this.cssClass)), {\n        'overlay-hidden': true,\n        'action-sheet-translucent': this.translucent\n      }),\n      onIonActionSheetWillDismiss: this.dispatchCancelHandler,\n      onIonBackdropTap: this.onBackdropTap\n    }), h(\"ion-backdrop\", {\n      tappable: this.backdropDismiss\n    }), h(\"div\", {\n      tabindex: \"0\"\n    }), h(\"div\", {\n      class: \"action-sheet-wrapper ion-overlay-wrapper\",\n      role: \"dialog\",\n      ref: el => this.wrapperEl = el\n    }, h(\"div\", {\n      class: \"action-sheet-container\"\n    }, h(\"div\", {\n      class: \"action-sheet-group\",\n      ref: el => this.groupEl = el\n    }, this.header !== undefined && h(\"div\", {\n      class: {\n        'action-sheet-title': true,\n        'action-sheet-has-sub-title': this.subHeader !== undefined\n      }\n    }, this.header, this.subHeader && h(\"div\", {\n      class: \"action-sheet-sub-title\"\n    }, this.subHeader)), buttons.map(b => h(\"button\", {\n      type: \"button\",\n      id: b.id,\n      class: buttonClass$3(b),\n      onClick: () => this.buttonClick(b)\n    }, h(\"span\", {\n      class: \"action-sheet-button-inner\"\n    }, b.icon && h(\"ion-icon\", {\n      icon: b.icon,\n      lazy: false,\n      class: \"action-sheet-icon\"\n    }), b.text), mode === 'md' && h(\"ion-ripple-effect\", null)))), cancelButton && h(\"div\", {\n      class: \"action-sheet-group action-sheet-group-cancel\"\n    }, h(\"button\", {\n      type: \"button\",\n      class: buttonClass$3(cancelButton),\n      onClick: () => this.buttonClick(cancelButton)\n    }, h(\"span\", {\n      class: \"action-sheet-button-inner\"\n    }, cancelButton.icon && h(\"ion-icon\", {\n      icon: cancelButton.icon,\n      lazy: false,\n      class: \"action-sheet-icon\"\n    }), cancelButton.text), mode === 'md' && h(\"ion-ripple-effect\", null))))), h(\"div\", {\n      tabindex: \"0\"\n    }));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get style() {\n    return {\n      ios: actionSheetIosCss,\n      md: actionSheetMdCss\n    };\n  }\n\n};\n\nconst buttonClass$3 = button => {\n  return Object.assign({\n    'action-sheet-button': true,\n    'ion-activatable': true,\n    'ion-focusable': true,\n    [`action-sheet-${button.role}`]: button.role !== undefined\n  }, getClassMap(button.cssClass));\n};\n\nActionSheet = /*@__PURE__*/proxyCustomElement(ActionSheet, [34, \"ion-action-sheet\", {\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"buttons\": [16],\n  \"cssClass\": [1, \"css-class\"],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"header\": [1],\n  \"subHeader\": [1, \"sub-header\"],\n  \"translucent\": [4],\n  \"animated\": [4],\n  \"htmlAttributes\": [16],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}]);\n\nfunction defineCustomElement$6() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-action-sheet\", \"ion-backdrop\", \"ion-icon\", \"ion-ripple-effect\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-action-sheet\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, ActionSheet);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n\n      case \"ion-icon\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$8();\n        }\n\n        break;\n\n      case \"ion-ripple-effect\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$7();\n        }\n\n        break;\n    }\n  });\n}\n/**\n * iOS Alert Enter Animation\n */\n\n\nconst iosEnterAnimation$5 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.alert-wrapper')).keyframes([{\n    offset: 0,\n    opacity: '0.01',\n    transform: 'scale(1.1)'\n  }, {\n    offset: 1,\n    opacity: '1',\n    transform: 'scale(1)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * iOS Alert Leave Animation\n */\n\n\nconst iosLeaveAnimation$5 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.alert-wrapper')).keyframes([{\n    offset: 0,\n    opacity: 0.99,\n    transform: 'scale(1)'\n  }, {\n    offset: 1,\n    opacity: 0,\n    transform: 'scale(0.9)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * Md Alert Enter Animation\n */\n\n\nconst mdEnterAnimation$4 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.alert-wrapper')).keyframes([{\n    offset: 0,\n    opacity: '0.01',\n    transform: 'scale(0.9)'\n  }, {\n    offset: 1,\n    opacity: '1',\n    transform: 'scale(1)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(150).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * Md Alert Leave Animation\n */\n\n\nconst mdLeaveAnimation$4 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.alert-wrapper')).fromTo('opacity', 0.99, 0);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(150).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst alertIosCss = \".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}\";\nconst alertMdCss = \".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}\";\nlet Alert = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.didPresent = createEvent(this, \"ionAlertDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionAlertWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionAlertWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionAlertDidDismiss\", 7);\n    this.processedInputs = [];\n    this.processedButtons = [];\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * Array of buttons to be added to the alert.\n     */\n\n    this.buttons = [];\n    /**\n     * Array of input to show in the alert.\n     */\n\n    this.inputs = [];\n    /**\n     * If `true`, the alert will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the alert will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n\n    this.translucent = false;\n    /**\n     * If `true`, the alert will animate.\n     */\n\n    this.animated = true;\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n\n    this.dispatchCancelHandler = ev => {\n      const role = ev.detail.role;\n\n      if (isCancel(role)) {\n        const cancelButton = this.processedButtons.find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n\n  onKeydown(ev) {\n    const inputTypes = new Set(this.processedInputs.map(i => i.type)); // The only inputs we want to navigate between using arrow keys are the radios\n    // ignore the keydown event if it is not on a radio button\n\n    if (!inputTypes.has('radio') || ev.target && !this.el.contains(ev.target) || ev.target.classList.contains('alert-button')) {\n      return;\n    } // Get all radios inside of the radio group and then\n    // filter out disabled radios since we need to skip those\n\n\n    const query = this.el.querySelectorAll('.alert-radio');\n    const radios = Array.from(query).filter(radio => !radio.disabled); // The focused radio is the one that shares the same id as\n    // the event target\n\n    const index = radios.findIndex(radio => radio.id === ev.target.id); // We need to know what the next radio element should\n    // be in order to change the focus\n\n    let nextEl; // If hitting arrow down or arrow right, move to the next radio\n    // If we're on the last radio, move to the first radio\n\n    if (['ArrowDown', 'ArrowRight'].includes(ev.code)) {\n      nextEl = index === radios.length - 1 ? radios[0] : radios[index + 1];\n    } // If hitting arrow up or arrow left, move to the previous radio\n    // If we're on the first radio, move to the last radio\n\n\n    if (['ArrowUp', 'ArrowLeft'].includes(ev.code)) {\n      nextEl = index === 0 ? radios[radios.length - 1] : radios[index - 1];\n    }\n\n    if (nextEl && radios.includes(nextEl)) {\n      const nextProcessed = this.processedInputs.find(input => input.id === (nextEl === null || nextEl === void 0 ? void 0 : nextEl.id));\n\n      if (nextProcessed) {\n        this.rbClick(nextProcessed);\n        nextEl.focus();\n      }\n    }\n  }\n\n  buttonsChanged() {\n    const buttons = this.buttons;\n    this.processedButtons = buttons.map(btn => {\n      return typeof btn === 'string' ? {\n        text: btn,\n        role: btn.toLowerCase() === 'cancel' ? 'cancel' : undefined\n      } : btn;\n    });\n  }\n\n  inputsChanged() {\n    const inputs = this.inputs; // Get the first input that is not disabled and the checked one\n    // If an enabled checked input exists, set it to be the focusable input\n    // otherwise we default to focus the first input\n    // This will only be used when the input is type radio\n\n    const first = inputs.find(input => !input.disabled);\n    const checked = inputs.find(input => input.checked && !input.disabled);\n    const focusable = checked || first; // An alert can be created with several different inputs. Radios,\n    // checkboxes and inputs are all accepted, but they cannot be mixed.\n\n    const inputTypes = new Set(inputs.map(i => i.type));\n\n    if (inputTypes.has('checkbox') && inputTypes.has('radio')) {\n      console.warn(`Alert cannot mix input types: ${Array.from(inputTypes.values()).join('/')}. Please see alert docs for more info.`);\n    }\n\n    this.inputType = inputTypes.values().next().value;\n    this.processedInputs = inputs.map((i, index) => ({\n      type: i.type || 'text',\n      name: i.name || `${index}`,\n      placeholder: i.placeholder || '',\n      value: i.value,\n      label: i.label,\n      checked: !!i.checked,\n      disabled: !!i.disabled,\n      id: i.id || `alert-input-${this.overlayIndex}-${index}`,\n      handler: i.handler,\n      min: i.min,\n      max: i.max,\n      cssClass: i.cssClass || '',\n      attributes: i.attributes || {},\n      tabindex: i.type === 'radio' && i !== focusable ? -1 : 0\n    }));\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n\n  componentWillLoad() {\n    this.inputsChanged();\n    this.buttonsChanged();\n  }\n\n  disconnectedCallback() {\n    if (this.gesture) {\n      this.gesture.destroy();\n      this.gesture = undefined;\n    }\n  }\n\n  componentDidLoad() {\n    /**\n     * Do not create gesture if:\n     * 1. A gesture already exists\n     * 2. App is running in MD mode\n     * 3. A wrapper ref does not exist\n     */\n    if (this.gesture || getIonMode(this) === 'md' || !this.wrapperEl) {\n      return;\n    }\n\n    this.gesture = createButtonActiveGesture(this.wrapperEl, refEl => refEl.classList.contains('alert-button'));\n    this.gesture.enable(true);\n  }\n  /**\n   * Present the alert overlay after it has been created.\n   */\n\n\n  present() {\n    return present(this, 'alertEnter', iosEnterAnimation$5, mdEnterAnimation$4);\n  }\n  /**\n   * Dismiss the alert overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the alert.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the alert.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n\n\n  dismiss(data, role) {\n    return dismiss(this, data, role, 'alertLeave', iosLeaveAnimation$5, mdLeaveAnimation$4);\n  }\n  /**\n   * Returns a promise that resolves when the alert did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionAlertDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the alert will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionAlertWillDismiss');\n  }\n\n  rbClick(selectedInput) {\n    for (const input of this.processedInputs) {\n      input.checked = input === selectedInput;\n      input.tabindex = input === selectedInput ? 0 : -1;\n    }\n\n    this.activeId = selectedInput.id;\n    safeCall(selectedInput.handler, selectedInput);\n    forceUpdate(this);\n  }\n\n  cbClick(selectedInput) {\n    selectedInput.checked = !selectedInput.checked;\n    safeCall(selectedInput.handler, selectedInput);\n    forceUpdate(this);\n  }\n\n  buttonClick(button) {\n    const role = button.role;\n    const values = this.getValues();\n\n    if (isCancel(role)) {\n      return this.dismiss({\n        values\n      }, role);\n    }\n\n    const returnData = this.callButtonHandler(button, values);\n\n    if (returnData !== false) {\n      return this.dismiss(Object.assign({\n        values\n      }, returnData), button.role);\n    }\n\n    return Promise.resolve(false);\n  }\n\n  callButtonHandler(button, data) {\n    if (button && button.handler) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const returnData = safeCall(button.handler, data);\n\n      if (returnData === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n\n      if (typeof returnData === 'object') {\n        return returnData;\n      }\n    }\n\n    return {};\n  }\n\n  getValues() {\n    if (this.processedInputs.length === 0) {\n      // this is an alert without any options/inputs at all\n      return undefined;\n    }\n\n    if (this.inputType === 'radio') {\n      // this is an alert with radio buttons (single value select)\n      // return the one value which is checked, otherwise undefined\n      const checkedInput = this.processedInputs.find(i => !!i.checked);\n      return checkedInput ? checkedInput.value : undefined;\n    }\n\n    if (this.inputType === 'checkbox') {\n      // this is an alert with checkboxes (multiple value select)\n      // return an array of all the checked values\n      return this.processedInputs.filter(i => i.checked).map(i => i.value);\n    } // this is an alert with text inputs\n    // return an object of all the values with the input name as the key\n\n\n    const values = {};\n    this.processedInputs.forEach(i => {\n      values[i.name] = i.value || '';\n    });\n    return values;\n  }\n\n  renderAlertInputs() {\n    switch (this.inputType) {\n      case 'checkbox':\n        return this.renderCheckbox();\n\n      case 'radio':\n        return this.renderRadio();\n\n      default:\n        return this.renderInput();\n    }\n  }\n\n  renderCheckbox() {\n    const inputs = this.processedInputs;\n    const mode = getIonMode(this);\n\n    if (inputs.length === 0) {\n      return null;\n    }\n\n    return h(\"div\", {\n      class: \"alert-checkbox-group\"\n    }, inputs.map(i => h(\"button\", {\n      type: \"button\",\n      onClick: () => this.cbClick(i),\n      \"aria-checked\": `${i.checked}`,\n      id: i.id,\n      disabled: i.disabled,\n      tabIndex: i.tabindex,\n      role: \"checkbox\",\n      class: Object.assign(Object.assign({}, getClassMap(i.cssClass)), {\n        'alert-tappable': true,\n        'alert-checkbox': true,\n        'alert-checkbox-button': true,\n        'ion-focusable': true,\n        'alert-checkbox-button-disabled': i.disabled || false\n      })\n    }, h(\"div\", {\n      class: \"alert-button-inner\"\n    }, h(\"div\", {\n      class: \"alert-checkbox-icon\"\n    }, h(\"div\", {\n      class: \"alert-checkbox-inner\"\n    })), h(\"div\", {\n      class: \"alert-checkbox-label\"\n    }, i.label)), mode === 'md' && h(\"ion-ripple-effect\", null))));\n  }\n\n  renderRadio() {\n    const inputs = this.processedInputs;\n\n    if (inputs.length === 0) {\n      return null;\n    }\n\n    return h(\"div\", {\n      class: \"alert-radio-group\",\n      role: \"radiogroup\",\n      \"aria-activedescendant\": this.activeId\n    }, inputs.map(i => h(\"button\", {\n      type: \"button\",\n      onClick: () => this.rbClick(i),\n      \"aria-checked\": `${i.checked}`,\n      disabled: i.disabled,\n      id: i.id,\n      tabIndex: i.tabindex,\n      class: Object.assign(Object.assign({}, getClassMap(i.cssClass)), {\n        'alert-radio-button': true,\n        'alert-tappable': true,\n        'alert-radio': true,\n        'ion-focusable': true,\n        'alert-radio-button-disabled': i.disabled || false\n      }),\n      role: \"radio\"\n    }, h(\"div\", {\n      class: \"alert-button-inner\"\n    }, h(\"div\", {\n      class: \"alert-radio-icon\"\n    }, h(\"div\", {\n      class: \"alert-radio-inner\"\n    })), h(\"div\", {\n      class: \"alert-radio-label\"\n    }, i.label)))));\n  }\n\n  renderInput() {\n    const inputs = this.processedInputs;\n\n    if (inputs.length === 0) {\n      return null;\n    }\n\n    return h(\"div\", {\n      class: \"alert-input-group\"\n    }, inputs.map(i => {\n      var _a, _b, _c, _d;\n\n      if (i.type === 'textarea') {\n        return h(\"div\", {\n          class: \"alert-input-wrapper\"\n        }, h(\"textarea\", Object.assign({\n          placeholder: i.placeholder,\n          value: i.value,\n          id: i.id,\n          tabIndex: i.tabindex\n        }, i.attributes, {\n          disabled: (_b = (_a = i.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : i.disabled,\n          class: inputClass(i),\n          onInput: e => {\n            var _a;\n\n            i.value = e.target.value;\n\n            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {\n              i.attributes.onInput(e);\n            }\n          }\n        })));\n      } else {\n        return h(\"div\", {\n          class: \"alert-input-wrapper\"\n        }, h(\"input\", Object.assign({\n          placeholder: i.placeholder,\n          type: i.type,\n          min: i.min,\n          max: i.max,\n          value: i.value,\n          id: i.id,\n          tabIndex: i.tabindex\n        }, i.attributes, {\n          disabled: (_d = (_c = i.attributes) === null || _c === void 0 ? void 0 : _c.disabled) !== null && _d !== void 0 ? _d : i.disabled,\n          class: inputClass(i),\n          onInput: e => {\n            var _a;\n\n            i.value = e.target.value;\n\n            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {\n              i.attributes.onInput(e);\n            }\n          }\n        })));\n      }\n    }));\n  }\n\n  renderAlertButtons() {\n    const buttons = this.processedButtons;\n    const mode = getIonMode(this);\n    const alertButtonGroupClass = {\n      'alert-button-group': true,\n      'alert-button-group-vertical': buttons.length > 2\n    };\n    return h(\"div\", {\n      class: alertButtonGroupClass\n    }, buttons.map(button => h(\"button\", {\n      type: \"button\",\n      id: button.id,\n      class: buttonClass$2(button),\n      tabIndex: 0,\n      onClick: () => this.buttonClick(button)\n    }, h(\"span\", {\n      class: \"alert-button-inner\"\n    }, button.text), mode === 'md' && h(\"ion-ripple-effect\", null))));\n  }\n\n  render() {\n    const {\n      overlayIndex,\n      header,\n      subHeader,\n      htmlAttributes\n    } = this;\n    const mode = getIonMode(this);\n    const hdrId = `alert-${overlayIndex}-hdr`;\n    const subHdrId = `alert-${overlayIndex}-sub-hdr`;\n    const msgId = `alert-${overlayIndex}-msg`;\n    const role = this.inputs.length > 0 || this.buttons.length > 0 ? 'alertdialog' : 'alert';\n    return h(Host, Object.assign({\n      role: role,\n      \"aria-modal\": \"true\",\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${20000 + overlayIndex}`\n      },\n      class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), {\n        [mode]: true,\n        'overlay-hidden': true,\n        'alert-translucent': this.translucent\n      }),\n      onIonAlertWillDismiss: this.dispatchCancelHandler,\n      onIonBackdropTap: this.onBackdropTap\n    }), h(\"ion-backdrop\", {\n      tappable: this.backdropDismiss\n    }), h(\"div\", {\n      tabindex: \"0\"\n    }), h(\"div\", {\n      class: \"alert-wrapper ion-overlay-wrapper\",\n      ref: el => this.wrapperEl = el\n    }, h(\"div\", {\n      class: \"alert-head\"\n    }, header && h(\"h2\", {\n      id: hdrId,\n      class: \"alert-title\"\n    }, header), subHeader && h(\"h2\", {\n      id: subHdrId,\n      class: \"alert-sub-title\"\n    }, subHeader)), h(\"div\", {\n      id: msgId,\n      class: \"alert-message\",\n      innerHTML: sanitizeDOMString(this.message)\n    }), this.renderAlertInputs(), this.renderAlertButtons()), h(\"div\", {\n      tabindex: \"0\"\n    }));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"buttons\": [\"buttonsChanged\"],\n      \"inputs\": [\"inputsChanged\"]\n    };\n  }\n\n  static get style() {\n    return {\n      ios: alertIosCss,\n      md: alertMdCss\n    };\n  }\n\n};\n\nconst inputClass = input => {\n  var _a, _b, _c;\n\n  return Object.assign(Object.assign({\n    'alert-input': true,\n    'alert-input-disabled': ((_b = (_a = input.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : input.disabled) || false\n  }, getClassMap(input.cssClass)), getClassMap(input.attributes ? (_c = input.attributes.class) === null || _c === void 0 ? void 0 : _c.toString() : ''));\n};\n\nconst buttonClass$2 = button => {\n  return Object.assign({\n    'alert-button': true,\n    'ion-focusable': true,\n    'ion-activatable': true,\n    [`alert-button-role-${button.role}`]: button.role !== undefined\n  }, getClassMap(button.cssClass));\n};\n\nAlert = /*@__PURE__*/proxyCustomElement(Alert, [34, \"ion-alert\", {\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"cssClass\": [1, \"css-class\"],\n  \"header\": [1],\n  \"subHeader\": [1, \"sub-header\"],\n  \"message\": [1],\n  \"buttons\": [16],\n  \"inputs\": [1040],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"translucent\": [4],\n  \"animated\": [4],\n  \"htmlAttributes\": [16],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}, [[4, \"keydown\", \"onKeydown\"]]]);\n\nfunction defineCustomElement$5() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-alert\", \"ion-backdrop\", \"ion-ripple-effect\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-alert\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Alert);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n\n      case \"ion-ripple-effect\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$7();\n        }\n\n        break;\n    }\n  });\n}\n/**\n * iOS Loading Enter Animation\n */\n\n\nconst iosEnterAnimation$4 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.loading-wrapper')).keyframes([{\n    offset: 0,\n    opacity: 0.01,\n    transform: 'scale(1.1)'\n  }, {\n    offset: 1,\n    opacity: 1,\n    transform: 'scale(1)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * iOS Loading Leave Animation\n */\n\n\nconst iosLeaveAnimation$4 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.loading-wrapper')).keyframes([{\n    offset: 0,\n    opacity: 0.99,\n    transform: 'scale(1)'\n  }, {\n    offset: 1,\n    opacity: 0,\n    transform: 'scale(0.9)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * Md Loading Enter Animation\n */\n\n\nconst mdEnterAnimation$3 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.loading-wrapper')).keyframes([{\n    offset: 0,\n    opacity: 0.01,\n    transform: 'scale(1.1)'\n  }, {\n    offset: 1,\n    opacity: 1,\n    transform: 'scale(1)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * Md Loading Leave Animation\n */\n\n\nconst mdLeaveAnimation$3 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(baseEl.querySelector('.loading-wrapper')).keyframes([{\n    offset: 0,\n    opacity: 0.99,\n    transform: 'scale(1)'\n  }, {\n    offset: 1,\n    opacity: 0,\n    transform: 'scale(0.9)'\n  }]);\n  return baseAnimation.addElement(baseEl).easing('ease-in-out').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst loadingIosCss = \".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}\";\nconst loadingMdCss = \".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}\";\nlet Loading = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.didPresent = createEvent(this, \"ionLoadingDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionLoadingWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionLoadingWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionLoadingDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * Number of milliseconds to wait before dismissing the loading indicator.\n     */\n\n    this.duration = 0;\n    /**\n     * If `true`, the loading indicator will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = false;\n    /**\n     * If `true`, a backdrop will be displayed behind the loading indicator.\n     */\n\n    this.showBackdrop = true;\n    /**\n     * If `true`, the loading indicator will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n\n    this.translucent = false;\n    /**\n     * If `true`, the loading indicator will animate.\n     */\n\n    this.animated = true;\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n\n  componentWillLoad() {\n    if (this.spinner === undefined) {\n      const mode = getIonMode(this);\n      this.spinner = config.get('loadingSpinner', config.get('spinner', mode === 'ios' ? 'lines' : 'crescent'));\n    }\n  }\n  /**\n   * Present the loading overlay after it has been created.\n   */\n\n\n  async present() {\n    await present(this, 'loadingEnter', iosEnterAnimation$4, mdEnterAnimation$3, undefined);\n\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration + 10);\n    }\n  }\n  /**\n   * Dismiss the loading overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the loading.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the loading.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n\n\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n\n    return dismiss(this, data, role, 'loadingLeave', iosLeaveAnimation$4, mdLeaveAnimation$3);\n  }\n  /**\n   * Returns a promise that resolves when the loading did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionLoadingDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the loading will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionLoadingWillDismiss');\n  }\n\n  render() {\n    const {\n      message,\n      spinner,\n      htmlAttributes\n    } = this;\n    const mode = getIonMode(this);\n    return h(Host, Object.assign({\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${40000 + this.overlayIndex}`\n      },\n      onIonBackdropTap: this.onBackdropTap,\n      class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), {\n        [mode]: true,\n        'overlay-hidden': true,\n        'loading-translucent': this.translucent\n      })\n    }), h(\"ion-backdrop\", {\n      visible: this.showBackdrop,\n      tappable: this.backdropDismiss\n    }), h(\"div\", {\n      tabindex: \"0\"\n    }), h(\"div\", {\n      class: \"loading-wrapper ion-overlay-wrapper\",\n      role: \"dialog\"\n    }, spinner && h(\"div\", {\n      class: \"loading-spinner\"\n    }, h(\"ion-spinner\", {\n      name: spinner,\n      \"aria-hidden\": \"true\"\n    })), message && h(\"div\", {\n      class: \"loading-content\",\n      innerHTML: sanitizeDOMString(message)\n    })), h(\"div\", {\n      tabindex: \"0\"\n    }));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get style() {\n    return {\n      ios: loadingIosCss,\n      md: loadingMdCss\n    };\n  }\n\n};\nLoading = /*@__PURE__*/proxyCustomElement(Loading, [34, \"ion-loading\", {\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"message\": [1],\n  \"cssClass\": [1, \"css-class\"],\n  \"duration\": [2],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"showBackdrop\": [4, \"show-backdrop\"],\n  \"spinner\": [1025],\n  \"translucent\": [4],\n  \"animated\": [4],\n  \"htmlAttributes\": [16],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}]);\n\nfunction defineCustomElement$4() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-loading\", \"ion-backdrop\", \"ion-spinner\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-loading\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Loading);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n\n      case \"ion-spinner\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$a();\n        }\n\n        break;\n    }\n  });\n} // Defaults for the card swipe animation\n\n\nconst SwipeToCloseDefaults = {\n  MIN_PRESENTING_SCALE: 0.93\n};\n\nconst createSwipeToCloseGesture = (el, animation, onDismiss) => {\n  const height = el.offsetHeight;\n  let isOpen = false;\n\n  const canStart = detail => {\n    const target = detail.event.target;\n\n    if (target === null || !target.closest) {\n      return true;\n    }\n\n    const contentOrFooter = target.closest('ion-content, ion-footer');\n\n    if (contentOrFooter === null) {\n      return true;\n    } // Target is in the content or the footer so do not start the gesture.\n    // We could be more nuanced here and allow it for content that\n    // does not need to scroll.\n\n\n    return false;\n  };\n\n  const onStart = () => {\n    animation.progressStart(true, isOpen ? 1 : 0);\n  };\n\n  const onMove = detail => {\n    const step = clamp(0.0001, detail.deltaY / height, 0.9999);\n    animation.progressStep(step);\n  };\n\n  const onEnd = detail => {\n    const velocity = detail.velocityY;\n    const step = clamp(0.0001, detail.deltaY / height, 0.9999);\n    const threshold = (detail.deltaY + velocity * 1000) / height;\n    const shouldComplete = threshold >= 0.5;\n    let newStepValue = shouldComplete ? -0.001 : 0.001;\n\n    if (!shouldComplete) {\n      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');\n      newStepValue += getTimeGivenProgression([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];\n    } else {\n      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');\n      newStepValue += getTimeGivenProgression([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];\n    }\n\n    const duration = shouldComplete ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);\n    isOpen = shouldComplete;\n    gesture.enable(false);\n    animation.onFinish(() => {\n      if (!shouldComplete) {\n        gesture.enable(true);\n      }\n    }).progressEnd(shouldComplete ? 1 : 0, newStepValue, duration);\n\n    if (shouldComplete) {\n      onDismiss();\n    }\n  };\n\n  const gesture = createGesture({\n    el,\n    gestureName: 'modalSwipeToClose',\n    gesturePriority: 40,\n    direction: 'y',\n    threshold: 10,\n    canStart,\n    onStart,\n    onMove,\n    onEnd\n  });\n  return gesture;\n};\n\nconst computeDuration = (remaining, velocity) => {\n  return clamp(400, remaining / Math.abs(velocity * 1.1), 500);\n};\n/**\n * Use y = mx + b to\n * figure out the backdrop value\n * at a particular x coordinate. This\n * is useful when the backdrop does\n * not begin to fade in until after\n * the 0 breakpoint.\n */\n\n\nconst getBackdropValueForSheet = (x, backdropBreakpoint) => {\n  /**\n   * We will use these points:\n   * (backdropBreakpoint, 0)\n   * (maxBreakpoint, 1)\n   * We know that at the beginning breakpoint,\n   * the backdrop will be hidden. We also\n   * know that at the maxBreakpoint, the backdrop\n   * must be fully visible. maxBreakpoint should\n   * always be 1 even if the maximum value\n   * of the breakpoints array is not 1 since\n   * the animation runs from a progress of 0\n   * to a progress of 1.\n   * m = (y2 - y1) / (x2 - x1)\n   *\n   * This is simplified from:\n   * m = (1 - 0) / (maxBreakpoint - backdropBreakpoint)\n   */\n  const slope = 1 / (1 - backdropBreakpoint);\n  /**\n   * From here, compute b which is\n   * the backdrop opacity if the offset\n   * is 0. If the backdrop does not\n   * begin to fade in until after the\n   * 0 breakpoint, this b value will be\n   * negative. This is fine as we never pass\n   * b directly into the animation keyframes.\n   * b = y - mx\n   * Use a known point: (backdropBreakpoint, 0)\n   * This is simplified from:\n   * b = 0 - (backdropBreakpoint * slope)\n   */\n\n  const b = -(backdropBreakpoint * slope);\n  /**\n   * Finally, we can now determine the\n   * backdrop offset given an arbitrary\n   * gesture offset.\n   */\n\n  return x * slope + b;\n};\n\nconst createSheetEnterAnimation = opts => {\n  const {\n    currentBreakpoint,\n    backdropBreakpoint\n  } = opts;\n  /**\n   * If the backdropBreakpoint is undefined, then the backdrop\n   * should always fade in. If the backdropBreakpoint came before the\n   * current breakpoint, then the backdrop should be fading in.\n   */\n\n  const shouldShowBackdrop = backdropBreakpoint === undefined || backdropBreakpoint < currentBreakpoint;\n  const initialBackdrop = shouldShowBackdrop ? `calc(var(--backdrop-opacity) * ${currentBreakpoint})` : '0';\n  const backdropAnimation = createAnimation('backdropAnimation').fromTo('opacity', 0, initialBackdrop);\n  const wrapperAnimation = createAnimation('wrapperAnimation').keyframes([{\n    offset: 0,\n    opacity: 1,\n    transform: 'translateY(100%)'\n  }, {\n    offset: 1,\n    opacity: 1,\n    transform: `translateY(${100 - currentBreakpoint * 100}%)`\n  }]);\n  return {\n    wrapperAnimation,\n    backdropAnimation\n  };\n};\n\nconst createSheetLeaveAnimation = opts => {\n  const {\n    currentBreakpoint,\n    backdropBreakpoint\n  } = opts;\n  /**\n   * Backdrop does not always fade in from 0 to 1 if backdropBreakpoint\n   * is defined, so we need to account for that offset by figuring out\n   * what the current backdrop value should be.\n   */\n\n  const backdropValue = `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(currentBreakpoint, backdropBreakpoint)})`;\n  const defaultBackdrop = [{\n    offset: 0,\n    opacity: backdropValue\n  }, {\n    offset: 1,\n    opacity: 0\n  }];\n  const customBackdrop = [{\n    offset: 0,\n    opacity: backdropValue\n  }, {\n    offset: backdropBreakpoint,\n    opacity: 0\n  }, {\n    offset: 1,\n    opacity: 0\n  }];\n  const backdropAnimation = createAnimation('backdropAnimation').keyframes(backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop);\n  const wrapperAnimation = createAnimation('wrapperAnimation').keyframes([{\n    offset: 0,\n    opacity: 1,\n    transform: `translateY(${100 - currentBreakpoint * 100}%)`\n  }, {\n    offset: 1,\n    opacity: 1,\n    transform: `translateY(100%)`\n  }]);\n  return {\n    wrapperAnimation,\n    backdropAnimation\n  };\n};\n\nconst createEnterAnimation$1 = () => {\n  const backdropAnimation = createAnimation().fromTo('opacity', 0.01, 'var(--backdrop-opacity)');\n  const wrapperAnimation = createAnimation().fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');\n  return {\n    backdropAnimation,\n    wrapperAnimation\n  };\n};\n/**\n * iOS Modal Enter Animation for the Card presentation style\n */\n\n\nconst iosEnterAnimation$3 = (baseEl, opts) => {\n  const {\n    presentingEl,\n    currentBreakpoint\n  } = opts;\n  const root = getElementRoot(baseEl);\n  const {\n    wrapperAnimation,\n    backdropAnimation\n  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation$1();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({\n    'opacity': 1\n  });\n  const baseAnimation = createAnimation('entering-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(500).addAnimation(wrapperAnimation);\n\n  if (presentingEl) {\n    const isMobile = window.innerWidth < 768;\n    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;\n    const presentingElRoot = getElementRoot(presentingEl);\n    const presentingAnimation = createAnimation().beforeStyles({\n      'transform': 'translateY(0)',\n      'transform-origin': 'top center',\n      'overflow': 'hidden'\n    });\n    const bodyEl = document.body;\n\n    if (isMobile) {\n      /**\n       * Fallback for browsers that does not support `max()` (ex: Firefox)\n       * No need to worry about statusbar padding since engines like Gecko\n       * are not used as the engine for standalone Cordova/Capacitor apps\n       */\n      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n      const modalTransform = hasCardModal ? '-10px' : transformOffset;\n      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;\n      presentingAnimation.afterStyles({\n        'transform': finalTransform\n      }).beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black')).addElement(presentingEl).keyframes([{\n        offset: 0,\n        filter: 'contrast(1)',\n        transform: 'translateY(0px) scale(1)',\n        borderRadius: '0px'\n      }, {\n        offset: 1,\n        filter: 'contrast(0.85)',\n        transform: finalTransform,\n        borderRadius: '10px 10px 0 0'\n      }]);\n      baseAnimation.addAnimation(presentingAnimation);\n    } else {\n      baseAnimation.addAnimation(backdropAnimation);\n\n      if (!hasCardModal) {\n        wrapperAnimation.fromTo('opacity', '0', '1');\n      } else {\n        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;\n        presentingAnimation.afterStyles({\n          'transform': finalTransform\n        }).addElement(presentingElRoot.querySelector('.modal-wrapper')).keyframes([{\n          offset: 0,\n          filter: 'contrast(1)',\n          transform: 'translateY(0) scale(1)'\n        }, {\n          offset: 1,\n          filter: 'contrast(0.85)',\n          transform: finalTransform\n        }]);\n        const shadowAnimation = createAnimation().afterStyles({\n          'transform': finalTransform\n        }).addElement(presentingElRoot.querySelector('.modal-shadow')).keyframes([{\n          offset: 0,\n          opacity: '1',\n          transform: 'translateY(0) scale(1)'\n        }, {\n          offset: 1,\n          opacity: '0',\n          transform: finalTransform\n        }]);\n        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n      }\n    }\n  } else {\n    baseAnimation.addAnimation(backdropAnimation);\n  }\n\n  return baseAnimation;\n};\n\nconst createLeaveAnimation$1 = () => {\n  const backdropAnimation = createAnimation().fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  const wrapperAnimation = createAnimation().fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');\n  return {\n    backdropAnimation,\n    wrapperAnimation\n  };\n};\n/**\n * iOS Modal Leave Animation\n */\n\n\nconst iosLeaveAnimation$3 = function (baseEl, opts) {\n  let duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500;\n  const {\n    presentingEl,\n    currentBreakpoint\n  } = opts;\n  const root = getElementRoot(baseEl);\n  const {\n    wrapperAnimation,\n    backdropAnimation\n  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation$1();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop'));\n  wrapperAnimation.addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow')).beforeStyles({\n    'opacity': 1\n  });\n  const baseAnimation = createAnimation('leaving-base').addElement(baseEl).easing('cubic-bezier(0.32,0.72,0,1)').duration(duration).addAnimation(wrapperAnimation);\n\n  if (presentingEl) {\n    const isMobile = window.innerWidth < 768;\n    const hasCardModal = presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined;\n    const presentingElRoot = getElementRoot(presentingEl);\n    const presentingAnimation = createAnimation().beforeClearStyles(['transform']).afterClearStyles(['transform']).onFinish(currentStep => {\n      // only reset background color if this is the last card-style modal\n      if (currentStep !== 1) {\n        return;\n      }\n\n      presentingEl.style.setProperty('overflow', '');\n      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(m => m.presentingElement !== undefined).length;\n\n      if (numModals <= 1) {\n        bodyEl.style.setProperty('background-color', '');\n      }\n    });\n    const bodyEl = document.body;\n\n    if (isMobile) {\n      const transformOffset = !CSS.supports('width', 'max(0px, 1px)') ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n      const modalTransform = hasCardModal ? '-10px' : transformOffset;\n      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;\n      presentingAnimation.addElement(presentingEl).keyframes([{\n        offset: 0,\n        filter: 'contrast(0.85)',\n        transform: finalTransform,\n        borderRadius: '10px 10px 0 0'\n      }, {\n        offset: 1,\n        filter: 'contrast(1)',\n        transform: 'translateY(0px) scale(1)',\n        borderRadius: '0px'\n      }]);\n      baseAnimation.addAnimation(presentingAnimation);\n    } else {\n      baseAnimation.addAnimation(backdropAnimation);\n\n      if (!hasCardModal) {\n        wrapperAnimation.fromTo('opacity', '1', '0');\n      } else {\n        const toPresentingScale = hasCardModal ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;\n        presentingAnimation.addElement(presentingElRoot.querySelector('.modal-wrapper')).afterStyles({\n          'transform': 'translate3d(0, 0, 0)'\n        }).keyframes([{\n          offset: 0,\n          filter: 'contrast(0.85)',\n          transform: finalTransform\n        }, {\n          offset: 1,\n          filter: 'contrast(1)',\n          transform: 'translateY(0) scale(1)'\n        }]);\n        const shadowAnimation = createAnimation().addElement(presentingElRoot.querySelector('.modal-shadow')).afterStyles({\n          'transform': 'translateY(0) scale(1)'\n        }).keyframes([{\n          offset: 0,\n          opacity: '0',\n          transform: finalTransform\n        }, {\n          offset: 1,\n          opacity: '1',\n          transform: 'translateY(0) scale(1)'\n        }]);\n        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n      }\n    }\n  } else {\n    baseAnimation.addAnimation(backdropAnimation);\n  }\n\n  return baseAnimation;\n};\n\nconst createEnterAnimation = () => {\n  const backdropAnimation = createAnimation().fromTo('opacity', 0.01, 'var(--backdrop-opacity)');\n  const wrapperAnimation = createAnimation().keyframes([{\n    offset: 0,\n    opacity: 0.01,\n    transform: 'translateY(40px)'\n  }, {\n    offset: 1,\n    opacity: 1,\n    transform: `translateY(0px)`\n  }]);\n  return {\n    backdropAnimation,\n    wrapperAnimation\n  };\n};\n/**\n * Md Modal Enter Animation\n */\n\n\nconst mdEnterAnimation$2 = (baseEl, opts) => {\n  const {\n    currentBreakpoint\n  } = opts;\n  const root = getElementRoot(baseEl);\n  const {\n    wrapperAnimation,\n    backdropAnimation\n  } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));\n  return createAnimation().addElement(baseEl).easing('cubic-bezier(0.36,0.66,0.04,1)').duration(280).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst createLeaveAnimation = () => {\n  const backdropAnimation = createAnimation().fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  const wrapperAnimation = createAnimation().keyframes([{\n    offset: 0,\n    opacity: 0.99,\n    transform: `translateY(0px)`\n  }, {\n    offset: 1,\n    opacity: 0,\n    transform: 'translateY(40px)'\n  }]);\n  return {\n    backdropAnimation,\n    wrapperAnimation\n  };\n};\n/**\n * Md Modal Leave Animation\n */\n\n\nconst mdLeaveAnimation$2 = (baseEl, opts) => {\n  const {\n    currentBreakpoint\n  } = opts;\n  const root = getElementRoot(baseEl);\n  const {\n    wrapperAnimation,\n    backdropAnimation\n  } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop'));\n  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));\n  return createAnimation().easing('cubic-bezier(0.47,0,0.745,0.715)').duration(200).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst createSheetGesture = function (baseEl, backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, animation) {\n  let breakpoints = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];\n  let onDismiss = arguments.length > 7 ? arguments[7] : undefined;\n  let onBreakpointChange = arguments.length > 8 ? arguments[8] : undefined;\n  // Defaults for the sheet swipe animation\n  const defaultBackdrop = [{\n    offset: 0,\n    opacity: 'var(--backdrop-opacity)'\n  }, {\n    offset: 1,\n    opacity: 0.01\n  }];\n  const customBackdrop = [{\n    offset: 0,\n    opacity: 'var(--backdrop-opacity)'\n  }, {\n    offset: 1 - backdropBreakpoint,\n    opacity: 0\n  }, {\n    offset: 1,\n    opacity: 0\n  }];\n  const SheetDefaults = {\n    WRAPPER_KEYFRAMES: [{\n      offset: 0,\n      transform: 'translateY(0%)'\n    }, {\n      offset: 1,\n      transform: 'translateY(100%)'\n    }],\n    BACKDROP_KEYFRAMES: backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop\n  };\n  const contentEl = baseEl.querySelector('ion-content');\n  const height = wrapperEl.clientHeight;\n  let currentBreakpoint = initialBreakpoint;\n  let offset = 0;\n  const wrapperAnimation = animation.childAnimations.find(ani => ani.id === 'wrapperAnimation');\n  const backdropAnimation = animation.childAnimations.find(ani => ani.id === 'backdropAnimation');\n  const maxBreakpoint = breakpoints[breakpoints.length - 1];\n  /**\n   * After the entering animation completes,\n   * we need to set the animation to go from\n   * offset 0 to offset 1 so that users can\n   * swipe in any direction. We then set the\n   * animation offset to the current breakpoint\n   * so there is no flickering.\n   */\n\n  if (wrapperAnimation && backdropAnimation) {\n    wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);\n    backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);\n    animation.progressStart(true, 1 - currentBreakpoint);\n    /**\n     * Backdrop should become enabled\n     * after the backdropBreakpoint value\n     */\n\n    const backdropEnabled = currentBreakpoint > backdropBreakpoint;\n    backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');\n  }\n\n  if (contentEl && currentBreakpoint !== maxBreakpoint) {\n    contentEl.scrollY = false;\n  }\n\n  const canStart = detail => {\n    /**\n     * If the sheet is fully expanded and\n     * the user is swiping on the content,\n     * the gesture should not start to\n     * allow for scrolling on the content.\n     */\n    const content = detail.event.target.closest('ion-content');\n\n    if (currentBreakpoint === 1 && content) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const onStart = () => {\n    /**\n     * If swiping on the content\n     * we should disable scrolling otherwise\n     * the sheet will expand and the content will scroll.\n     */\n    if (contentEl) {\n      contentEl.scrollY = false;\n    }\n\n    animation.progressStart(true, 1 - currentBreakpoint);\n  };\n\n  const onMove = detail => {\n    /**\n     * Given the change in gesture position on the Y axis,\n     * compute where the offset of the animation should be\n     * relative to where the user dragged.\n     */\n    const initialStep = 1 - currentBreakpoint;\n    offset = clamp(0.0001, initialStep + detail.deltaY / height, 0.9999);\n    animation.progressStep(offset);\n  };\n\n  const onEnd = detail => {\n    /**\n     * When the gesture releases, we need to determine\n     * the closest breakpoint to snap to.\n     */\n    const velocity = detail.velocityY;\n    const threshold = (detail.deltaY + velocity * 100) / height;\n    const diff = currentBreakpoint - threshold;\n    const closest = breakpoints.reduce((a, b) => {\n      return Math.abs(b - diff) < Math.abs(a - diff) ? b : a;\n    });\n    const shouldRemainOpen = closest !== 0;\n    currentBreakpoint = 0;\n    /**\n     * Update the animation so that it plays from\n     * the last offset to the closest snap point.\n     */\n\n    if (wrapperAnimation && backdropAnimation) {\n      wrapperAnimation.keyframes([{\n        offset: 0,\n        transform: `translateY(${offset * 100}%)`\n      }, {\n        offset: 1,\n        transform: `translateY(${(1 - closest) * 100}%)`\n      }]);\n      backdropAnimation.keyframes([{\n        offset: 0,\n        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(1 - offset, backdropBreakpoint)})`\n      }, {\n        offset: 1,\n        opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(closest, backdropBreakpoint)})`\n      }]);\n      animation.progressStep(0);\n    }\n    /**\n     * Gesture should remain disabled until the\n     * snapping animation completes.\n     */\n\n\n    gesture.enable(false);\n    animation.onFinish(() => {\n      if (shouldRemainOpen) {\n        /**\n         * Once the snapping animation completes,\n         * we need to reset the animation to go\n         * from 0 to 1 so users can swipe in any direction.\n         * We then set the animation offset to the current\n         * breakpoint so that it starts at the snapped position.\n         */\n        if (wrapperAnimation && backdropAnimation) {\n          raf(() => {\n            wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);\n            backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);\n            animation.progressStart(true, 1 - closest);\n            currentBreakpoint = closest;\n            onBreakpointChange(currentBreakpoint);\n            /**\n             * If the sheet is fully expanded, we can safely\n             * enable scrolling again.\n             */\n\n            if (contentEl && currentBreakpoint === breakpoints[breakpoints.length - 1]) {\n              contentEl.scrollY = true;\n            }\n            /**\n             * Backdrop should become enabled\n             * after the backdropBreakpoint value\n             */\n\n\n            const backdropEnabled = currentBreakpoint > backdropBreakpoint;\n            backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');\n            gesture.enable(true);\n          });\n        } else {\n          gesture.enable(true);\n        }\n      }\n      /**\n       * This must be a one time callback\n       * otherwise a new callback will\n       * be added every time onEnd runs.\n       */\n\n    }, {\n      oneTimeCallback: true\n    }).progressEnd(1, 0, 500);\n\n    if (!shouldRemainOpen) {\n      onDismiss();\n    }\n  };\n\n  const gesture = createGesture({\n    el: wrapperEl,\n    gestureName: 'modalSheet',\n    gesturePriority: 40,\n    direction: 'y',\n    threshold: 10,\n    canStart,\n    onStart,\n    onMove,\n    onEnd\n  });\n  return gesture;\n};\n\nconst modalIosCss = \":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}\";\nconst modalMdCss = \":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}\";\nlet Modal = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.__attachShadow();\n\n    this.didPresent = createEvent(this, \"ionModalDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionModalWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionModalWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionModalDidDismiss\", 7);\n    this.didPresentShorthand = createEvent(this, \"didPresent\", 7);\n    this.willPresentShorthand = createEvent(this, \"willPresent\", 7);\n    this.willDismissShorthand = createEvent(this, \"willDismiss\", 7);\n    this.didDismissShorthand = createEvent(this, \"didDismiss\", 7);\n    this.modalIndex = modalIds++;\n    this.coreDelegate = CoreDelegate();\n    this.isSheetModal = false;\n    this.inline = false; // Whether or not modal is being dismissed via gesture\n\n    this.gestureAnimationDismissing = false;\n    this.presented = false;\n    /** @internal */\n\n    this.hasController = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * A decimal value between 0 and 1 that indicates the\n     * point after which the backdrop will begin to fade in\n     * when using a sheet modal. Prior to this point, the\n     * backdrop will be hidden and the content underneath\n     * the sheet can be interacted with. This value is exclusive\n     * meaning the backdrop will become active after the value\n     * specified.\n     */\n\n    this.backdropBreakpoint = 0;\n    /**\n     * If `true`, the modal will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = true;\n    /**\n     * If `true`, a backdrop will be displayed behind the modal.\n     */\n\n    this.showBackdrop = true;\n    /**\n     * If `true`, the modal will animate.\n     */\n\n    this.animated = true;\n    /**\n     * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.\n     */\n\n    this.swipeToClose = false;\n    /**\n     * If `true`, the modal will open. If `false`, the modal will close.\n     * Use this if you need finer grained control over presentation, otherwise\n     * just use the modalController or the `trigger` property.\n     * Note: `isOpen` will not automatically be set back to `false` when\n     * the modal dismisses. You will need to do that in your code.\n     */\n\n    this.isOpen = false;\n\n    this.configureTriggerInteraction = () => {\n      const {\n        trigger,\n        el,\n        destroyTriggerInteraction\n      } = this;\n\n      if (destroyTriggerInteraction) {\n        destroyTriggerInteraction();\n      }\n\n      const triggerEl = trigger !== undefined ? document.getElementById(trigger) : null;\n\n      if (!triggerEl) {\n        return;\n      }\n\n      const configureTriggerInteraction = (triggerEl, modalEl) => {\n        const openModal = () => {\n          modalEl.present();\n        };\n\n        triggerEl.addEventListener('click', openModal);\n        return () => {\n          triggerEl.removeEventListener('click', openModal);\n        };\n      };\n\n      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, el);\n    };\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n\n    this.onDismiss = ev => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.dismiss();\n    };\n\n    this.onLifecycle = modalEvent => {\n      const el = this.usersElement;\n      const name = LIFECYCLE_MAP$1[modalEvent.type];\n\n      if (el && name) {\n        const ev = new CustomEvent(name, {\n          bubbles: false,\n          cancelable: false,\n          detail: modalEvent.detail\n        });\n        el.dispatchEvent(ev);\n      }\n    };\n  }\n\n  onIsOpenChange(newValue, oldValue) {\n    if (newValue === true && oldValue === false) {\n      this.present();\n    } else if (newValue === false && oldValue === true) {\n      this.dismiss();\n    }\n  }\n\n  onTriggerChange() {\n    this.configureTriggerInteraction();\n  }\n\n  swipeToCloseChanged(enable) {\n    if (this.gesture) {\n      this.gesture.enable(enable);\n    } else if (enable) {\n      this.initSwipeToClose();\n    }\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n\n  componentWillLoad() {\n    const {\n      breakpoints,\n      initialBreakpoint\n    } = this;\n    /**\n     * If user has custom ID set then we should\n     * not assign the default incrementing ID.\n     */\n\n    this.modalId = this.el.hasAttribute('id') ? this.el.getAttribute('id') : `ion-modal-${this.modalIndex}`;\n    this.isSheetModal = breakpoints !== undefined && initialBreakpoint !== undefined;\n\n    if (breakpoints !== undefined && initialBreakpoint !== undefined && !breakpoints.includes(initialBreakpoint)) {\n      console.warn('[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.');\n    }\n  }\n\n  componentDidLoad() {\n    /**\n     * If modal was rendered with isOpen=\"true\"\n     * then we should open modal immediately.\n     */\n    if (this.isOpen === true) {\n      raf(() => this.present());\n    }\n\n    this.configureTriggerInteraction();\n  }\n  /**\n   * Determines whether or not an overlay\n   * is being used inline or via a controller/JS\n   * and returns the correct delegate.\n   * By default, subsequent calls to getDelegate\n   * will use a cached version of the delegate.\n   * This is useful for calling dismiss after\n   * present so that the correct delegate is given.\n   */\n\n\n  getDelegate() {\n    let force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (this.workingDelegate && !force) {\n      return {\n        delegate: this.workingDelegate,\n        inline: this.inline\n      };\n    }\n    /**\n     * If using overlay inline\n     * we potentially need to use the coreDelegate\n     * so that this works in vanilla JS apps.\n     * If a developer has presented this component\n     * via a controller, then we can assume\n     * the component is already in the\n     * correct place.\n     */\n\n\n    const parentEl = this.el.parentNode;\n    const inline = this.inline = parentEl !== null && !this.hasController;\n    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;\n    return {\n      inline,\n      delegate\n    };\n  }\n  /**\n   * Present the modal overlay after it has been created.\n   */\n\n\n  async present() {\n    if (this.presented) {\n      return;\n    }\n    /**\n     * When using an inline modal\n     * and dismissing a modal it is possible to\n     * quickly present the modal while it is\n     * dismissing. We need to await any current\n     * transition to allow the dismiss to finish\n     * before presenting again.\n     */\n\n\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n\n    const data = Object.assign(Object.assign({}, this.componentProps), {\n      modal: this.el\n    });\n    const {\n      inline,\n      delegate\n    } = this.getDelegate(true);\n    this.usersElement = await attachComponent(delegate, this.el, this.component, ['ion-page'], data, inline);\n    await deepReady(this.usersElement);\n    writeTask(() => this.el.classList.add('show-modal'));\n    this.currentTransition = present(this, 'modalEnter', iosEnterAnimation$3, mdEnterAnimation$2, {\n      presentingEl: this.presentingElement,\n      currentBreakpoint: this.initialBreakpoint,\n      backdropBreakpoint: this.backdropBreakpoint\n    });\n    await this.currentTransition;\n\n    if (this.isSheetModal) {\n      this.initSheetGesture();\n    } else if (this.swipeToClose) {\n      this.initSwipeToClose();\n    }\n\n    this.currentTransition = undefined;\n  }\n\n  initSwipeToClose() {\n    if (getIonMode(this) !== 'ios') {\n      return;\n    } // All of the elements needed for the swipe gesture\n    // should be in the DOM and referenced by now, except\n    // for the presenting el\n\n\n    const animationBuilder = this.leaveAnimation || config.get('modalLeave', iosLeaveAnimation$3);\n    const ani = this.animation = animationBuilder(this.el, {\n      presentingEl: this.presentingElement\n    });\n    this.gesture = createSwipeToCloseGesture(this.el, ani, () => {\n      /**\n       * While the gesture animation is finishing\n       * it is possible for a user to tap the backdrop.\n       * This would result in the dismiss animation\n       * being played again. Typically this is avoided\n       * by setting `presented = false` on the overlay\n       * component; however, we cannot do that here as\n       * that would prevent the element from being\n       * removed from the DOM.\n       */\n      this.gestureAnimationDismissing = true;\n      this.animation.onFinish(async () => {\n        await this.dismiss(undefined, 'gesture');\n        this.gestureAnimationDismissing = false;\n      });\n    });\n    this.gesture.enable(true);\n  }\n\n  initSheetGesture() {\n    var _a;\n\n    const {\n      wrapperEl,\n      initialBreakpoint,\n      backdropBreakpoint\n    } = this;\n\n    if (!wrapperEl || initialBreakpoint === undefined) {\n      return;\n    }\n\n    const animationBuilder = this.enterAnimation || config.get('modalEnter', iosEnterAnimation$3);\n    const ani = this.animation = animationBuilder(this.el, {\n      presentingEl: this.presentingElement,\n      currentBreakpoint: initialBreakpoint,\n      backdropBreakpoint\n    });\n    ani.progressStart(true, 1);\n    const sortedBreakpoints = ((_a = this.breakpoints) === null || _a === void 0 ? void 0 : _a.sort((a, b) => a - b)) || [];\n    this.gesture = createSheetGesture(this.el, this.backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, ani, sortedBreakpoints, () => {\n      /**\n       * While the gesture animation is finishing\n       * it is possible for a user to tap the backdrop.\n       * This would result in the dismiss animation\n       * being played again. Typically this is avoided\n       * by setting `presented = false` on the overlay\n       * component; however, we cannot do that here as\n       * that would prevent the element from being\n       * removed from the DOM.\n       */\n      this.gestureAnimationDismissing = true;\n      this.animation.onFinish(async () => {\n        await this.dismiss(undefined, 'gesture');\n        this.gestureAnimationDismissing = false;\n      });\n    }, breakpoint => {\n      this.currentBreakpoint = breakpoint;\n    });\n    this.gesture.enable(true);\n  }\n  /**\n   * Dismiss the modal overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.\n   */\n\n\n  async dismiss(data, role) {\n    if (this.gestureAnimationDismissing && role !== 'gesture') {\n      return false;\n    }\n    /**\n     * When using an inline modal\n     * and presenting a modal it is possible to\n     * quickly dismiss the modal while it is\n     * presenting. We need to await any current\n     * transition to allow the present to finish\n     * before dismissing again.\n     */\n\n\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n\n    const enteringAnimation = activeAnimations.get(this) || [];\n    this.currentTransition = dismiss(this, data, role, 'modalLeave', iosLeaveAnimation$3, mdLeaveAnimation$2, {\n      presentingEl: this.presentingElement,\n      currentBreakpoint: this.currentBreakpoint || this.initialBreakpoint,\n      backdropBreakpoint: this.backdropBreakpoint\n    });\n    const dismissed = await this.currentTransition;\n\n    if (dismissed) {\n      const {\n        delegate\n      } = this.getDelegate();\n      /**\n       * If the modal is presented through a controller, we don't need to detach\n       * since the el was already removed during the `dismiss` call above. Skipping\n       * this step also prevents an issue where rapdily dismissing right after\n       * presenting could cause `detachComponent` to be called after the present\n       * finished, blanking out the newly opened modal.\n       *\n       * TODO(FW-423) try and find a way to resolve the race condition directly\n       */\n\n      if (this.inline) {\n        await detachComponent(delegate, this.usersElement);\n      }\n\n      if (this.animation) {\n        this.animation.destroy();\n      }\n\n      if (this.gesture) {\n        this.gesture.destroy();\n      }\n\n      enteringAnimation.forEach(ani => ani.destroy());\n    }\n\n    this.currentTransition = undefined;\n    this.animation = undefined;\n    return dismissed;\n  }\n  /**\n   * Returns a promise that resolves when the modal did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionModalDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the modal will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionModalWillDismiss');\n  }\n\n  render() {\n    const {\n      handle,\n      isSheetModal,\n      presentingElement,\n      htmlAttributes\n    } = this;\n    const showHandle = handle !== false && isSheetModal;\n    const mode = getIonMode(this);\n    const {\n      presented,\n      modalId\n    } = this;\n    const isCardModal = presentingElement !== undefined && mode === 'ios';\n    return h(Host, Object.assign({\n      \"no-router\": true,\n      \"aria-modal\": \"true\",\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${20000 + this.overlayIndex}`\n      },\n      class: Object.assign({\n        [mode]: true,\n        ['modal-default']: !isCardModal && !isSheetModal,\n        [`modal-card`]: isCardModal,\n        [`modal-sheet`]: isSheetModal,\n        'overlay-hidden': true,\n        'modal-interactive': presented\n      }, getClassMap(this.cssClass)),\n      id: modalId,\n      onIonBackdropTap: this.onBackdropTap,\n      onIonDismiss: this.onDismiss,\n      onIonModalDidPresent: this.onLifecycle,\n      onIonModalWillPresent: this.onLifecycle,\n      onIonModalWillDismiss: this.onLifecycle,\n      onIonModalDidDismiss: this.onLifecycle\n    }), h(\"ion-backdrop\", {\n      ref: el => this.backdropEl = el,\n      visible: this.showBackdrop,\n      tappable: this.backdropDismiss,\n      part: \"backdrop\"\n    }), mode === 'ios' && h(\"div\", {\n      class: \"modal-shadow\"\n    }), h(\"div\", {\n      role: \"dialog\",\n      class: \"modal-wrapper ion-overlay-wrapper\",\n      part: \"content\",\n      ref: el => this.wrapperEl = el\n    }, showHandle && h(\"div\", {\n      class: \"modal-handle\",\n      part: \"handle\"\n    }), h(\"slot\", null)));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"isOpen\": [\"onIsOpenChange\"],\n      \"trigger\": [\"onTriggerChange\"],\n      \"swipeToClose\": [\"swipeToCloseChanged\"]\n    };\n  }\n\n  static get style() {\n    return {\n      ios: modalIosCss,\n      md: modalMdCss\n    };\n  }\n\n};\nconst LIFECYCLE_MAP$1 = {\n  'ionModalDidPresent': 'ionViewDidEnter',\n  'ionModalWillPresent': 'ionViewWillEnter',\n  'ionModalWillDismiss': 'ionViewWillLeave',\n  'ionModalDidDismiss': 'ionViewDidLeave'\n};\nlet modalIds = 0;\nModal = /*@__PURE__*/proxyCustomElement(Modal, [33, \"ion-modal\", {\n  \"hasController\": [4, \"has-controller\"],\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"delegate\": [16],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"breakpoints\": [16],\n  \"initialBreakpoint\": [2, \"initial-breakpoint\"],\n  \"backdropBreakpoint\": [2, \"backdrop-breakpoint\"],\n  \"handle\": [4],\n  \"component\": [1],\n  \"componentProps\": [16],\n  \"cssClass\": [1, \"css-class\"],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"showBackdrop\": [4, \"show-backdrop\"],\n  \"animated\": [4],\n  \"swipeToClose\": [4, \"swipe-to-close\"],\n  \"presentingElement\": [16],\n  \"htmlAttributes\": [16],\n  \"isOpen\": [4, \"is-open\"],\n  \"trigger\": [1],\n  \"presented\": [32],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}]);\n\nfunction defineCustomElement$3() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-modal\", \"ion-backdrop\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-modal\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Modal);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n    }\n  });\n}\n/**\n * iOS Picker Enter Animation\n */\n\n\nconst iosEnterAnimation$2 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(baseEl.querySelector('.picker-wrapper')).fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * iOS Picker Leave Animation\n */\n\n\nconst iosLeaveAnimation$2 = baseEl => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(baseEl.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0.01);\n  wrapperAnimation.addElement(baseEl.querySelector('.picker-wrapper')).fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation.addElement(baseEl).easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst pickerIosCss = \".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}\";\nconst pickerMdCss = \".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}\";\nlet Picker = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.didPresent = createEvent(this, \"ionPickerDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionPickerWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionPickerWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionPickerDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * Array of buttons to be displayed at the top of the picker.\n     */\n\n    this.buttons = [];\n    /**\n     * Array of columns to be displayed in the picker.\n     */\n\n    this.columns = [];\n    /**\n     * Number of milliseconds to wait before dismissing the picker.\n     */\n\n    this.duration = 0;\n    /**\n     * If `true`, a backdrop will be displayed behind the picker.\n     */\n\n    this.showBackdrop = true;\n    /**\n     * If `true`, the picker will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the picker will animate.\n     */\n\n    this.animated = true;\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n\n    this.dispatchCancelHandler = ev => {\n      const role = ev.detail.role;\n\n      if (isCancel(role)) {\n        const cancelButton = this.buttons.find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Present the picker overlay after it has been created.\n   */\n\n\n  async present() {\n    await present(this, 'pickerEnter', iosEnterAnimation$2, iosEnterAnimation$2, undefined);\n\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration);\n    }\n  }\n  /**\n   * Dismiss the picker overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the picker.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the picker.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n\n\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n\n    return dismiss(this, data, role, 'pickerLeave', iosLeaveAnimation$2, iosLeaveAnimation$2);\n  }\n  /**\n   * Returns a promise that resolves when the picker did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionPickerDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the picker will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionPickerWillDismiss');\n  }\n  /**\n   * Get the column that matches the specified name.\n   *\n   * @param name The name of the column.\n   */\n\n\n  getColumn(name) {\n    return Promise.resolve(this.columns.find(column => column.name === name));\n  }\n\n  async buttonClick(button) {\n    const role = button.role;\n\n    if (isCancel(role)) {\n      return this.dismiss(undefined, role);\n    }\n\n    const shouldDismiss = await this.callButtonHandler(button);\n\n    if (shouldDismiss) {\n      return this.dismiss(this.getSelected(), button.role);\n    }\n\n    return Promise.resolve();\n  }\n\n  async callButtonHandler(button) {\n    if (button) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const rtn = await safeCall(button.handler, this.getSelected());\n\n      if (rtn === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  getSelected() {\n    const selected = {};\n    this.columns.forEach((col, index) => {\n      const selectedColumn = col.selectedIndex !== undefined ? col.options[col.selectedIndex] : undefined;\n      selected[col.name] = {\n        text: selectedColumn ? selectedColumn.text : undefined,\n        value: selectedColumn ? selectedColumn.value : undefined,\n        columnIndex: index\n      };\n    });\n    return selected;\n  }\n\n  render() {\n    const {\n      htmlAttributes\n    } = this;\n    const mode = getIonMode(this);\n    return h(Host, Object.assign({\n      \"aria-modal\": \"true\",\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${20000 + this.overlayIndex}`\n      },\n      class: Object.assign({\n        [mode]: true,\n        // Used internally for styling\n        [`picker-${mode}`]: true,\n        'overlay-hidden': true\n      }, getClassMap(this.cssClass)),\n      onIonBackdropTap: this.onBackdropTap,\n      onIonPickerWillDismiss: this.dispatchCancelHandler\n    }), h(\"ion-backdrop\", {\n      visible: this.showBackdrop,\n      tappable: this.backdropDismiss\n    }), h(\"div\", {\n      tabindex: \"0\"\n    }), h(\"div\", {\n      class: \"picker-wrapper ion-overlay-wrapper\",\n      role: \"dialog\"\n    }, h(\"div\", {\n      class: \"picker-toolbar\"\n    }, this.buttons.map(b => h(\"div\", {\n      class: buttonWrapperClass(b)\n    }, h(\"button\", {\n      type: \"button\",\n      onClick: () => this.buttonClick(b),\n      class: buttonClass$1(b)\n    }, b.text)))), h(\"div\", {\n      class: \"picker-columns\"\n    }, h(\"div\", {\n      class: \"picker-above-highlight\"\n    }), this.presented && this.columns.map(c => h(\"ion-picker-column\", {\n      col: c\n    })), h(\"div\", {\n      class: \"picker-below-highlight\"\n    }))), h(\"div\", {\n      tabindex: \"0\"\n    }));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get style() {\n    return {\n      ios: pickerIosCss,\n      md: pickerMdCss\n    };\n  }\n\n};\n\nconst buttonWrapperClass = button => {\n  return {\n    [`picker-toolbar-${button.role}`]: button.role !== undefined,\n    'picker-toolbar-button': true\n  };\n};\n\nconst buttonClass$1 = button => {\n  return Object.assign({\n    'picker-button': true,\n    'ion-activatable': true\n  }, getClassMap(button.cssClass));\n};\n\nPicker = /*@__PURE__*/proxyCustomElement(Picker, [34, \"ion-picker\", {\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"buttons\": [16],\n  \"columns\": [16],\n  \"cssClass\": [1, \"css-class\"],\n  \"duration\": [2],\n  \"showBackdrop\": [4, \"show-backdrop\"],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"animated\": [4],\n  \"htmlAttributes\": [16],\n  \"presented\": [32],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64],\n  \"getColumn\": [64]\n}]);\n\nfunction defineCustomElement$2() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-picker\", \"ion-backdrop\", \"ion-picker-column\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-picker\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Picker);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n\n      case \"ion-picker-column\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$b();\n        }\n\n        break;\n    }\n  });\n}\n/**\n * Returns the dimensions of the popover\n * arrow on `ios` mode. If arrow is disabled\n * returns (0, 0).\n */\n\n\nconst getArrowDimensions = arrowEl => {\n  if (!arrowEl) {\n    return {\n      arrowWidth: 0,\n      arrowHeight: 0\n    };\n  }\n\n  const {\n    width,\n    height\n  } = arrowEl.getBoundingClientRect();\n  return {\n    arrowWidth: width,\n    arrowHeight: height\n  };\n};\n/**\n * Returns the recommended dimensions of the popover\n * that takes into account whether or not the width\n * should match the trigger width.\n */\n\n\nconst getPopoverDimensions = (size, contentEl, triggerEl) => {\n  const contentDimentions = contentEl.getBoundingClientRect();\n  const contentHeight = contentDimentions.height;\n  let contentWidth = contentDimentions.width;\n\n  if (size === 'cover' && triggerEl) {\n    const triggerDimensions = triggerEl.getBoundingClientRect();\n    contentWidth = triggerDimensions.width;\n  }\n\n  return {\n    contentWidth,\n    contentHeight\n  };\n};\n\nconst configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {\n  let dismissCallbacks = [];\n  const root = getElementRoot(parentPopoverEl);\n  const parentContentEl = root.querySelector('.popover-content');\n\n  switch (triggerAction) {\n    case 'hover':\n      dismissCallbacks = [{\n        /**\n         * Do not use mouseover here\n         * as this will causes the event to\n         * be dispatched on each underlying\n         * element rather than on the popover\n         * content as a whole.\n         */\n        eventName: 'mouseenter',\n        callback: ev => {\n          /**\n           * Do not dismiss the popover is we\n           * are hovering over its trigger.\n           * This would be easier if we used mouseover\n           * but this would cause the event to be dispatched\n           * more often than we would like, potentially\n           * causing performance issues.\n           */\n          const element = document.elementFromPoint(ev.clientX, ev.clientY);\n\n          if (element === triggerEl) {\n            return;\n          }\n\n          popoverEl.dismiss(undefined, undefined, false);\n        }\n      }];\n      break;\n\n    case 'context-menu':\n    case 'click':\n    default:\n      dismissCallbacks = [{\n        eventName: 'click',\n        callback: ev => {\n          /**\n           * Do not dismiss the popover is we\n           * are hovering over its trigger.\n           */\n          const target = ev.target;\n          const closestTrigger = target.closest('[data-ion-popover-trigger]');\n\n          if (closestTrigger === triggerEl) {\n            /**\n             * stopPropagation here so if the\n             * popover has dismissOnSelect=\"true\"\n             * the popover does not dismiss since\n             * we just clicked a trigger element.\n             */\n            ev.stopPropagation();\n            return;\n          }\n\n          popoverEl.dismiss(undefined, undefined, false);\n        }\n      }];\n      break;\n  }\n\n  dismissCallbacks.forEach(_ref => {\n    let {\n      eventName,\n      callback\n    } = _ref;\n    return parentContentEl.addEventListener(eventName, callback);\n  });\n  return () => {\n    dismissCallbacks.forEach(_ref2 => {\n      let {\n        eventName,\n        callback\n      } = _ref2;\n      return parentContentEl.removeEventListener(eventName, callback);\n    });\n  };\n};\n/**\n * Configures the triggerEl to respond\n * to user interaction based upon the triggerAction\n * prop that devs have defined.\n */\n\n\nconst configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {\n  let triggerCallbacks = [];\n  /**\n   * Based upon the kind of trigger interaction\n   * the user wants, we setup the correct event\n   * listeners.\n   */\n\n  switch (triggerAction) {\n    case 'hover':\n      let hoverTimeout;\n      triggerCallbacks = [{\n        eventName: 'mouseenter',\n        callback: async ev => {\n          ev.stopPropagation();\n\n          if (hoverTimeout) {\n            clearTimeout(hoverTimeout);\n          }\n          /**\n           * Hovering over a trigger should not\n           * immediately open the next popover.\n           */\n\n\n          hoverTimeout = setTimeout(() => {\n            raf(() => {\n              popoverEl.presentFromTrigger(ev);\n              hoverTimeout = undefined;\n            });\n          }, 100);\n        }\n      }, {\n        eventName: 'mouseleave',\n        callback: ev => {\n          if (hoverTimeout) {\n            clearTimeout(hoverTimeout);\n          }\n          /**\n           * If mouse is over another popover\n           * that is not this popover then we should\n           * close this popover.\n           */\n\n\n          const target = ev.relatedTarget;\n\n          if (!target) {\n            return;\n          }\n\n          if (target.closest('ion-popover') !== popoverEl) {\n            popoverEl.dismiss(undefined, undefined, false);\n          }\n        }\n      }, {\n        /**\n         * stopPropagation here prevents the popover\n         * from dismissing when dismiss-on-select=\"true\".\n         */\n        eventName: 'click',\n        callback: ev => ev.stopPropagation()\n      }, {\n        eventName: 'ionPopoverActivateTrigger',\n        callback: ev => popoverEl.presentFromTrigger(ev, true)\n      }];\n      break;\n\n    case 'context-menu':\n      triggerCallbacks = [{\n        eventName: 'contextmenu',\n        callback: ev => {\n          /**\n           * Prevents the platform context\n           * menu from appearing.\n           */\n          ev.preventDefault();\n          popoverEl.presentFromTrigger(ev);\n        }\n      }, {\n        eventName: 'click',\n        callback: ev => ev.stopPropagation()\n      }, {\n        eventName: 'ionPopoverActivateTrigger',\n        callback: ev => popoverEl.presentFromTrigger(ev, true)\n      }];\n      break;\n\n    case 'click':\n    default:\n      triggerCallbacks = [{\n        /**\n         * Do not do a stopPropagation() here\n         * because if you had two click triggers\n         * then clicking the first trigger and then\n         * clicking the second trigger would not cause\n         * the first popover to dismiss.\n         */\n        eventName: 'click',\n        callback: ev => popoverEl.presentFromTrigger(ev)\n      }, {\n        eventName: 'ionPopoverActivateTrigger',\n        callback: ev => popoverEl.presentFromTrigger(ev, true)\n      }];\n      break;\n  }\n\n  triggerCallbacks.forEach(_ref3 => {\n    let {\n      eventName,\n      callback\n    } = _ref3;\n    return triggerEl.addEventListener(eventName, callback);\n  });\n  triggerEl.setAttribute('data-ion-popover-trigger', 'true');\n  return () => {\n    triggerCallbacks.forEach(_ref4 => {\n      let {\n        eventName,\n        callback\n      } = _ref4;\n      return triggerEl.removeEventListener(eventName, callback);\n    });\n    triggerEl.removeAttribute('data-ion-popover-trigger');\n  };\n};\n/**\n * Returns the index of an ion-item in an array of ion-items.\n */\n\n\nconst getIndexOfItem = (items, item) => {\n  if (!item || item.tagName !== 'ION-ITEM') {\n    return -1;\n  }\n\n  return items.findIndex(el => el === item);\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the next ion-item relative to the focused one or\n * undefined.\n */\n\n\nconst getNextItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex + 1];\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the previous ion-item relative to the focused one or\n * undefined.\n */\n\n\nconst getPrevItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex - 1];\n};\n/** Focus the internal button of the ion-item */\n\n\nconst focusItem = item => {\n  const root = getElementRoot(item);\n  const button = root.querySelector('button');\n\n  if (button) {\n    raf(() => button.focus());\n  }\n};\n/**\n * Returns `true` if `el` has been designated\n * as a trigger element for an ion-popover.\n */\n\n\nconst isTriggerElement = el => el.hasAttribute('data-ion-popover-trigger');\n\nconst configureKeyboardInteraction = popoverEl => {\n  const callback = async ev => {\n    const activeElement = document.activeElement;\n    let items = [];\n    /**\n     * Complex selectors with :not() are :not supported\n     * in older versions of Chromium so we need to do a\n     * try/catch here so errors are not thrown.\n     */\n\n    try {\n      /**\n       * Select all ion-items that are not children of child popovers.\n       * i.e. only select ion-item elements that are part of this popover\n       */\n      items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));\n      /* tslint:disable-next-line */\n    } catch (_a) {}\n\n    switch (ev.key) {\n      /**\n       * If we are in a child popover\n       * then pressing the left arrow key\n       * should close this popover and move\n       * focus to the popover that presented\n       * this one.\n       */\n      case 'ArrowLeft':\n        const parentPopover = await popoverEl.getParentPopover();\n\n        if (parentPopover) {\n          popoverEl.dismiss(undefined, undefined, false);\n        }\n\n        break;\n\n      /**\n       * ArrowDown should move focus to the next focusable ion-item.\n       */\n\n      case 'ArrowDown':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const nextItem = getNextItem(items, activeElement); // tslint:disable-next-line:strict-type-predicates\n\n        if (nextItem !== undefined) {\n          focusItem(nextItem);\n        }\n\n        break;\n\n      /**\n       * ArrowUp should move focus to the previous focusable ion-item.\n       */\n\n      case 'ArrowUp':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const prevItem = getPrevItem(items, activeElement); // tslint:disable-next-line:strict-type-predicates\n\n        if (prevItem !== undefined) {\n          focusItem(prevItem);\n        }\n\n        break;\n\n      /**\n       * Home should move focus to the first focusable ion-item.\n       */\n\n      case 'Home':\n        ev.preventDefault();\n        const firstItem = items[0]; // tslint:disable-next-line:strict-type-predicates\n\n        if (firstItem !== undefined) {\n          focusItem(firstItem);\n        }\n\n        break;\n\n      /**\n       * End should move focus to the last focusable ion-item.\n       */\n\n      case 'End':\n        ev.preventDefault();\n        const lastItem = items[items.length - 1]; // tslint:disable-next-line:strict-type-predicates\n\n        if (lastItem !== undefined) {\n          focusItem(lastItem);\n        }\n\n        break;\n\n      /**\n       * ArrowRight, Spacebar, or Enter should activate\n       * the currently focused trigger item to open a\n       * popover if the element is a trigger item.\n       */\n\n      case 'ArrowRight':\n      case ' ':\n      case 'Enter':\n        if (activeElement && isTriggerElement(activeElement)) {\n          const rightEvent = new CustomEvent('ionPopoverActivateTrigger');\n          activeElement.dispatchEvent(rightEvent);\n        }\n\n        break;\n    }\n  };\n\n  popoverEl.addEventListener('keydown', callback);\n  return () => popoverEl.removeEventListener('keydown', callback);\n};\n/**\n * Positions a popover by taking into account\n * the reference point, preferred side, alignment\n * and viewport dimensions.\n */\n\n\nconst getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {\n  var _a;\n\n  let referenceCoordinates = {\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0\n  };\n  /**\n   * Calculate position relative to the\n   * x-y coordinates in the event that\n   * was passed in\n   */\n\n  switch (reference) {\n    case 'event':\n      if (!event) {\n        return defaultPosition;\n      }\n\n      const mouseEv = event;\n      referenceCoordinates = {\n        top: mouseEv.clientY,\n        left: mouseEv.clientX,\n        width: 1,\n        height: 1\n      };\n      break;\n\n    /**\n     * Calculate position relative to the bounding\n     * box on either the trigger element\n     * specified via the `trigger` prop or\n     * the target specified on the event\n     * that was passed in.\n     */\n\n    case 'trigger':\n    default:\n      const customEv = event;\n      /**\n       * ionShadowTarget is used when we need to align the\n       * popover with an element inside of the shadow root\n       * of an Ionic component. Ex: Presenting a popover\n       * by clicking on the collapsed indicator inside\n       * of `ion-breadcrumb` and centering it relative\n       * to the indicator rather than `ion-breadcrumb`\n       * as a whole.\n       */\n\n      const actualTriggerEl = triggerEl || ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (customEv === null || customEv === void 0 ? void 0 : customEv.target);\n\n      if (!actualTriggerEl) {\n        return defaultPosition;\n      }\n\n      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();\n      referenceCoordinates = {\n        top: triggerBoundingBox.top,\n        left: triggerBoundingBox.left,\n        width: triggerBoundingBox.width,\n        height: triggerBoundingBox.height\n      };\n      break;\n  }\n  /**\n   * Get top/left offset that would allow\n   * popover to be positioned on the\n   * preferred side of the reference.\n   */\n\n\n  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);\n  /**\n   * Get the top/left adjustments that\n   * would allow the popover content\n   * to have the correct alignment.\n   */\n\n  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);\n  const top = coordinates.top + alignedCoordinates.top;\n  const left = coordinates.left + alignedCoordinates.left;\n  const {\n    arrowTop,\n    arrowLeft\n  } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);\n  const {\n    originX,\n    originY\n  } = calculatePopoverOrigin(side, align, isRTL);\n  return {\n    top,\n    left,\n    referenceCoordinates,\n    arrowTop,\n    arrowLeft,\n    originX,\n    originY\n  };\n};\n/**\n * Determines the transform-origin\n * of the popover animation so that it\n * is in line with what the side and alignment\n * prop values are. Currently only used\n * with the MD animation.\n */\n\n\nconst calculatePopoverOrigin = (side, align, isRTL) => {\n  switch (side) {\n    case 'top':\n      return {\n        originX: getOriginXAlignment(align),\n        originY: 'bottom'\n      };\n\n    case 'bottom':\n      return {\n        originX: getOriginXAlignment(align),\n        originY: 'top'\n      };\n\n    case 'left':\n      return {\n        originX: 'right',\n        originY: getOriginYAlignment(align)\n      };\n\n    case 'right':\n      return {\n        originX: 'left',\n        originY: getOriginYAlignment(align)\n      };\n\n    case 'start':\n      return {\n        originX: isRTL ? 'left' : 'right',\n        originY: getOriginYAlignment(align)\n      };\n\n    case 'end':\n      return {\n        originX: isRTL ? 'right' : 'left',\n        originY: getOriginYAlignment(align)\n      };\n  }\n};\n\nconst getOriginXAlignment = align => {\n  switch (align) {\n    case 'start':\n      return 'left';\n\n    case 'center':\n      return 'center';\n\n    case 'end':\n      return 'right';\n  }\n};\n\nconst getOriginYAlignment = align => {\n  switch (align) {\n    case 'start':\n      return 'top';\n\n    case 'center':\n      return 'center';\n\n    case 'end':\n      return 'bottom';\n  }\n};\n/**\n * Calculates where the arrow positioning\n * should be relative to the popover content.\n */\n\n\nconst calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {\n  /**\n   * Note: When side is left, right, start, or end, the arrow is\n   * been rotated using a `transform`, so to move the arrow up or down\n   * by its dimension, you need to use `arrowWidth`.\n   */\n  const leftPosition = {\n    arrowTop: top + contentHeight / 2 - arrowWidth / 2,\n    arrowLeft: left + contentWidth - arrowWidth / 2\n  };\n  /**\n   * Move the arrow to the left by arrowWidth and then\n   * again by half of its width because we have rotated\n   * the arrow using a transform.\n   */\n\n  const rightPosition = {\n    arrowTop: top + contentHeight / 2 - arrowWidth / 2,\n    arrowLeft: left - arrowWidth * 1.5\n  };\n\n  switch (side) {\n    case 'top':\n      return {\n        arrowTop: top + contentHeight,\n        arrowLeft: left + contentWidth / 2 - arrowWidth / 2\n      };\n\n    case 'bottom':\n      return {\n        arrowTop: top - arrowHeight,\n        arrowLeft: left + contentWidth / 2 - arrowWidth / 2\n      };\n\n    case 'left':\n      return leftPosition;\n\n    case 'right':\n      return rightPosition;\n\n    case 'start':\n      return isRTL ? rightPosition : leftPosition;\n\n    case 'end':\n      return isRTL ? leftPosition : rightPosition;\n\n    default:\n      return {\n        arrowTop: 0,\n        arrowLeft: 0\n      };\n  }\n};\n/**\n * Calculates the required top/left\n * values needed to position the popover\n * content on the side specified in the\n * `side` prop.\n */\n\n\nconst calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {\n  const sideLeft = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left - contentWidth - arrowWidth\n  };\n  const sideRight = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth\n  };\n\n  switch (side) {\n    case 'top':\n      return {\n        top: triggerBoundingBox.top - contentHeight - arrowHeight,\n        left: triggerBoundingBox.left\n      };\n\n    case 'right':\n      return sideRight;\n\n    case 'bottom':\n      return {\n        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,\n        left: triggerBoundingBox.left\n      };\n\n    case 'left':\n      return sideLeft;\n\n    case 'start':\n      return isRTL ? sideRight : sideLeft;\n\n    case 'end':\n      return isRTL ? sideLeft : sideRight;\n  }\n};\n/**\n * Calculates the required top/left\n * offset values needed to provide the\n * correct alignment regardless while taking\n * into account the side the popover is on.\n */\n\n\nconst calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (align) {\n    case 'center':\n      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n\n    case 'end':\n      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n\n    case 'start':\n    default:\n      return {\n        top: 0,\n        left: 0\n      };\n  }\n};\n/**\n * Calculate the end alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\n\n\nconst calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -(contentHeight - triggerBoundingBox.height),\n        left: 0\n      };\n\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -(contentWidth - triggerBoundingBox.width)\n      };\n  }\n};\n/**\n * Calculate the center alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\n\n\nconst calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -(contentHeight / 2 - triggerBoundingBox.height / 2),\n        left: 0\n      };\n\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -(contentWidth / 2 - triggerBoundingBox.width / 2)\n      };\n  }\n};\n/**\n * Adjusts popover positioning coordinates\n * such that popover does not appear offscreen\n * or overlapping safe area bounds.\n */\n\n\nconst calculateWindowAdjustment = function (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates) {\n  let coordArrowTop = arguments.length > 12 && arguments[12] !== undefined ? arguments[12] : 0;\n  let coordArrowLeft = arguments.length > 13 && arguments[13] !== undefined ? arguments[13] : 0;\n  let arrowHeight = arguments.length > 14 && arguments[14] !== undefined ? arguments[14] : 0;\n  let arrowTop = coordArrowTop;\n  const arrowLeft = coordArrowLeft;\n  let left = coordLeft;\n  let top = coordTop;\n  let bottom;\n  let originX = contentOriginX;\n  let originY = contentOriginY;\n  let checkSafeAreaLeft = false;\n  let checkSafeAreaRight = false;\n  const triggerTop = triggerCoordinates ? triggerCoordinates.top + triggerCoordinates.height : bodyHeight / 2 - contentHeight / 2;\n  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;\n  let addPopoverBottomClass = false;\n  /**\n   * Adjust popover so it does not\n   * go off the left of the screen.\n   */\n\n  if (left < bodyPadding + safeAreaMargin) {\n    left = bodyPadding;\n    checkSafeAreaLeft = true;\n    originX = 'left';\n    /**\n     * Adjust popover so it does not\n     * go off the right of the screen.\n     */\n  } else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {\n    checkSafeAreaRight = true;\n    left = bodyWidth - contentWidth - bodyPadding;\n    originX = 'right';\n  }\n  /**\n   * Adjust popover so it does not\n   * go off the top of the screen.\n   * If popover is on the left or the right of\n   * the trigger, then we should not adjust top\n   * margins.\n   */\n\n\n  if (triggerTop + triggerHeight + contentHeight > bodyHeight && (side === 'top' || side === 'bottom')) {\n    if (triggerTop - contentHeight > 0) {\n      top = triggerTop - contentHeight - triggerHeight - (arrowHeight - 1);\n      arrowTop = top + contentHeight;\n      originY = 'bottom';\n      addPopoverBottomClass = true;\n      /**\n       * If not enough room for popover to appear\n       * above trigger, then cut it off.\n       */\n    } else {\n      bottom = bodyPadding;\n    }\n  }\n\n  return {\n    top,\n    left,\n    bottom,\n    originX,\n    originY,\n    checkSafeAreaLeft,\n    checkSafeAreaRight,\n    arrowTop,\n    arrowLeft,\n    addPopoverBottomClass\n  };\n};\n\nconst shouldShowArrow = function (side) {\n  let didAdjustBounds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  let ev = arguments.length > 2 ? arguments[2] : undefined;\n  let trigger = arguments.length > 3 ? arguments[3] : undefined;\n\n  /**\n   * If no event provided and\n   * we do not have a trigger,\n   * then this popover was likely\n   * presented via the popoverController\n   * or users called `present` manually.\n   * In this case, the arrow should not be\n   * shown as we do not have a reference.\n   */\n  if (!ev && !trigger) {\n    return false;\n  }\n  /**\n   * If popover is on the left or the right\n   * of a trigger, but we needed to adjust the\n   * popover due to screen bounds, then we should\n   * hide the arrow as it will never be pointing\n   * at the trigger.\n   */\n\n\n  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {\n    return false;\n  }\n\n  return true;\n};\n\nconst POPOVER_IOS_BODY_PADDING = 5;\n/**\n * iOS Popover Enter Animation\n */\n\nconst iosEnterAnimation$1 = (baseEl, opts) => {\n  var _a;\n\n  const {\n    event: ev,\n    size,\n    trigger,\n    reference,\n    side,\n    align\n  } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const {\n    contentWidth,\n    contentHeight\n  } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const {\n    arrowWidth,\n    arrowHeight\n  } = getArrowDimensions(arrowEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top'\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;\n  const margin = size === 'cover' ? 0 : 25;\n  const {\n    originX,\n    originY,\n    top,\n    left,\n    bottom,\n    checkSafeAreaLeft,\n    checkSafeAreaRight,\n    arrowTop,\n    arrowLeft,\n    addPopoverBottomClass\n  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.01, 1);\n  return baseAnimation.easing('ease').duration(100).beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n\n    if (addPopoverBottomClass) {\n      baseEl.classList.add('popover-bottom');\n    }\n\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n\n    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';\n    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';\n    let leftValue = `${left}px`;\n\n    if (checkSafeAreaLeft) {\n      leftValue = `${left}px${safeAreaLeft}`;\n    }\n\n    if (checkSafeAreaRight) {\n      leftValue = `${left}px${safeAreaRight}`;\n    }\n\n    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);\n    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);\n    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);\n\n    if (arrowEl !== null) {\n      const didAdjustBounds = results.top !== top || results.left !== left;\n      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);\n\n      if (showArrow) {\n        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);\n        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);\n      } else {\n        arrowEl.style.setProperty('display', 'none');\n      }\n    }\n  }).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n/**\n * iOS Popover Leave Animation\n */\n\n\nconst iosLeaveAnimation$1 = baseEl => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);\n  return baseAnimation.easing('ease').afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n\n    if (arrowEl) {\n      arrowEl.style.removeProperty('top');\n      arrowEl.style.removeProperty('left');\n      arrowEl.style.removeProperty('display');\n    }\n  }).duration(300).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst POPOVER_MD_BODY_PADDING = 12;\n/**\n * Md Popover Enter Animation\n */\n\nconst mdEnterAnimation$1 = (baseEl, opts) => {\n  var _a;\n\n  const {\n    event: ev,\n    size,\n    trigger,\n    reference,\n    side,\n    align\n  } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const {\n    contentWidth,\n    contentHeight\n  } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top'\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;\n  const {\n    originX,\n    originY,\n    top,\n    left,\n    bottom\n  } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const contentAnimation = createAnimation();\n  const viewportAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 0.01, 'var(--backdrop-opacity)').beforeStyles({\n    'pointer-events': 'none'\n  }).afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).duration(150).fromTo('opacity', 0.01, 1);\n  contentAnimation.addElement(contentEl).beforeStyles({\n    'top': `calc(${top}px + var(--offset-y, 0px))`,\n    'left': `calc(${left}px + var(--offset-x, 0px))`,\n    'transform-origin': `${originY} ${originX}`\n  }).beforeAddWrite(() => {\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n  }).fromTo('transform', 'scale(0.8)', 'scale(1)');\n  viewportAnimation.addElement(root.querySelector('.popover-viewport')).fromTo('opacity', 0.01, 1);\n  return baseAnimation.easing('cubic-bezier(0.36,0.66,0.04,1)').duration(300).beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n\n    if (originY === 'bottom') {\n      baseEl.classList.add('popover-bottom');\n    }\n  }).addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);\n};\n/**\n * Md Popover Leave Animation\n */\n\n\nconst mdLeaveAnimation$1 = baseEl => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);\n  return baseAnimation.easing('ease').afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n  }).duration(150).addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst popoverIosCss = \":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\\\"\\\";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}\";\nconst popoverMdCss = \":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}\";\nlet Popover = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.__attachShadow();\n\n    this.didPresent = createEvent(this, \"ionPopoverDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionPopoverWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionPopoverWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionPopoverDidDismiss\", 7);\n    this.didPresentShorthand = createEvent(this, \"didPresent\", 7);\n    this.willPresentShorthand = createEvent(this, \"willPresent\", 7);\n    this.willDismissShorthand = createEvent(this, \"willDismiss\", 7);\n    this.didDismissShorthand = createEvent(this, \"didDismiss\", 7);\n    this.parentPopover = null;\n    this.popoverIndex = popoverIds++;\n    this.coreDelegate = CoreDelegate();\n    this.inline = false;\n    this.focusDescendantOnPresent = false;\n    this.presented = false;\n    /** @internal */\n\n    this.hasController = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = true;\n    /**\n     * If `true`, the popover will be dismissed when the backdrop is clicked.\n     */\n\n    this.backdropDismiss = true;\n    /**\n     * If `true`, a backdrop will be displayed behind the popover.\n     */\n\n    this.showBackdrop = true;\n    /**\n     * If `true`, the popover will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n\n    this.translucent = false;\n    /**\n     * If `true`, the popover will animate.\n     */\n\n    this.animated = true;\n    /**\n     * Describes what kind of interaction with the trigger that\n     * should cause the popover to open. Does not apply when the `trigger`\n     * property is `undefined`.\n     * If `'click'`, the popover will be presented when the trigger is left clicked.\n     * If `'hover'`, the popover will be presented when a pointer hovers over the trigger.\n     * If `'context-menu'`, the popover will be presented when the trigger is right\n     * clicked on desktop and long pressed on mobile. This will also prevent your\n     * device's normal context menu from appearing.\n     */\n\n    this.triggerAction = 'click';\n    /**\n     * Describes how to calculate the popover width.\n     * If `'cover'`, the popover width will match the width of the trigger.\n     * If `'auto'`, the popover width will be determined by the content in\n     * the popover.\n     */\n\n    this.size = 'auto';\n    /**\n     * If `true`, the popover will be automatically\n     * dismissed when the content has been clicked.\n     */\n\n    this.dismissOnSelect = false;\n    /**\n     * Describes what to position the popover relative to.\n     * If `'trigger'`, the popover will be positioned relative\n     * to the trigger button. If passing in an event, this is\n     * determined via event.target.\n     * If `'event'`, the popover will be positioned relative\n     * to the x/y coordinates of the trigger action. If passing\n     * in an event, this is determined via event.clientX and event.clientY.\n     */\n\n    this.reference = 'trigger';\n    /**\n     * Describes which side of the `reference` point to position\n     * the popover on. The `'start'` and `'end'` values are RTL-aware,\n     * and the `'left'` and `'right'` values are not.\n     */\n\n    this.side = 'bottom';\n    /**\n     * Describes how to align the popover content with the `reference` point.\n     */\n\n    this.alignment = 'start';\n    /**\n     * If `true`, the popover will display an arrow\n     * that points at the `reference` when running in `ios` mode\n     * on mobile. Does not apply in `md` mode or on desktop.\n     */\n\n    this.arrow = true;\n    /**\n     * If `true`, the popover will open. If `false`, the popover will close.\n     * Use this if you need finer grained control over presentation, otherwise\n     * just use the popoverController or the `trigger` property.\n     * Note: `isOpen` will not automatically be set back to `false` when\n     * the popover dismisses. You will need to do that in your code.\n     */\n\n    this.isOpen = false;\n    /**\n     * @internal\n     *\n     * If `true` the popover will not register its own keyboard event handlers.\n     * This allows the contents of the popover to handle their own keyboard interactions.\n     *\n     * If `false`, the popover will register its own keyboard event handlers for\n     * navigating `ion-list` items within a popover (up/down/home/end/etc.).\n     * This will also cancel browser keyboard event bindings to prevent scroll\n     * behavior in a popover using a list of items.\n     */\n\n    this.keyboardEvents = false;\n\n    this.onDismiss = ev => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.dismiss();\n    };\n\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n\n    this.onLifecycle = modalEvent => {\n      const el = this.usersElement;\n      const name = LIFECYCLE_MAP[modalEvent.type];\n\n      if (el && name) {\n        const event = new CustomEvent(name, {\n          bubbles: false,\n          cancelable: false,\n          detail: modalEvent.detail\n        });\n        el.dispatchEvent(event);\n      }\n    };\n\n    this.configureTriggerInteraction = () => {\n      const {\n        trigger,\n        triggerAction,\n        el,\n        destroyTriggerInteraction\n      } = this;\n\n      if (destroyTriggerInteraction) {\n        destroyTriggerInteraction();\n      }\n\n      const triggerEl = this.triggerEl = trigger !== undefined ? document.getElementById(trigger) : null;\n\n      if (!triggerEl) {\n        return;\n      }\n\n      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);\n    };\n\n    this.configureKeyboardInteraction = () => {\n      const {\n        destroyKeyboardInteraction,\n        el\n      } = this;\n\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n      }\n\n      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);\n    };\n\n    this.configureDismissInteraction = () => {\n      const {\n        destroyDismissInteraction,\n        parentPopover,\n        triggerAction,\n        triggerEl,\n        el\n      } = this;\n\n      if (!parentPopover || !triggerEl) {\n        return;\n      }\n\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n      }\n\n      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);\n    };\n  }\n\n  onTriggerChange() {\n    this.configureTriggerInteraction();\n  }\n\n  onIsOpenChange(newValue, oldValue) {\n    if (newValue === true && oldValue === false) {\n      this.present();\n    } else if (newValue === false && oldValue === true) {\n      this.dismiss();\n    }\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n\n  componentWillLoad() {\n    /**\n     * If user has custom ID set then we should\n     * not assign the default incrementing ID.\n     */\n    this.popoverId = this.el.hasAttribute('id') ? this.el.getAttribute('id') : `ion-popover-${this.popoverIndex}`;\n    this.parentPopover = this.el.closest(`ion-popover:not(#${this.popoverId})`);\n  }\n\n  componentDidLoad() {\n    const {\n      parentPopover,\n      isOpen\n    } = this;\n    /**\n     * If popover was rendered with isOpen=\"true\"\n     * then we should open popover immediately.\n     */\n\n    if (isOpen === true) {\n      raf(() => this.present());\n    }\n\n    if (parentPopover) {\n      addEventListener(parentPopover, 'ionPopoverWillDismiss', () => {\n        this.dismiss(undefined, undefined, false);\n      });\n    }\n\n    this.configureTriggerInteraction();\n  }\n  /**\n   * When opening a popover from a trigger, we should not be\n   * modifying the `event` prop from inside the component.\n   * Additionally, when pressing the \"Right\" arrow key, we need\n   * to shift focus to the first descendant in the newly presented\n   * popover.\n   *\n   * @internal\n   */\n\n\n  async presentFromTrigger(event) {\n    let focusDescendant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    this.focusDescendantOnPresent = focusDescendant;\n    await this.present(event);\n    this.focusDescendantOnPresent = false;\n  }\n  /**\n   * Determines whether or not an overlay\n   * is being used inline or via a controller/JS\n   * and returns the correct delegate.\n   * By default, subsequent calls to getDelegate\n   * will use a cached version of the delegate.\n   * This is useful for calling dismiss after\n   * present so that the correct delegate is given.\n   */\n\n\n  getDelegate() {\n    let force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (this.workingDelegate && !force) {\n      return {\n        delegate: this.workingDelegate,\n        inline: this.inline\n      };\n    }\n    /**\n     * If using overlay inline\n     * we potentially need to use the coreDelegate\n     * so that this works in vanilla JS apps.\n     * If a developer has presented this component\n     * via a controller, then we can assume\n     * the component is already in the\n     * correct place.\n     */\n\n\n    const parentEl = this.el.parentNode;\n    const inline = this.inline = parentEl !== null && !this.hasController;\n    const delegate = this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate;\n    return {\n      inline,\n      delegate\n    };\n  }\n  /**\n   * Present the popover overlay after it has been created.\n   * Developers can pass a mouse, touch, or pointer event\n   * to position the popover relative to where that event\n   * was dispatched.\n   */\n\n\n  async present(event) {\n    if (this.presented) {\n      return;\n    }\n    /**\n     * When using an inline popover\n     * and dismissing a popover it is possible to\n     * quickly present the popover while it is\n     * dismissing. We need to await any current\n     * transition to allow the dismiss to finish\n     * before presenting again.\n     */\n\n\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n\n    const data = Object.assign(Object.assign({}, this.componentProps), {\n      popover: this.el\n    });\n    const {\n      inline,\n      delegate\n    } = this.getDelegate(true);\n    this.usersElement = await attachComponent(delegate, this.el, this.component, ['popover-viewport'], data, inline);\n    await deepReady(this.usersElement);\n\n    if (!this.keyboardEvents) {\n      this.configureKeyboardInteraction();\n    }\n\n    this.configureDismissInteraction();\n    this.currentTransition = present(this, 'popoverEnter', iosEnterAnimation$1, mdEnterAnimation$1, {\n      event: event || this.event,\n      size: this.size,\n      trigger: this.triggerEl,\n      reference: this.reference,\n      side: this.side,\n      align: this.alignment\n    });\n    await this.currentTransition;\n    this.currentTransition = undefined;\n    /**\n     * If popover is nested and was\n     * presented using the \"Right\" arrow key,\n     * we need to move focus to the first\n     * descendant inside of the popover.\n     */\n\n    if (this.focusDescendantOnPresent) {\n      focusFirstDescendant(this.el, this.el);\n    }\n  }\n  /**\n   * Dismiss the popover overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\n   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss\n   * a parent popover if this popover is nested. Defaults to `true`.\n   */\n\n\n  async dismiss(data, role) {\n    let dismissParentPopover = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    /**\n     * When using an inline popover\n     * and presenting a popover it is possible to\n     * quickly dismiss the popover while it is\n     * presenting. We need to await any current\n     * transition to allow the present to finish\n     * before dismissing again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n\n    const {\n      destroyKeyboardInteraction,\n      destroyDismissInteraction\n    } = this;\n\n    if (dismissParentPopover && this.parentPopover) {\n      this.parentPopover.dismiss(data, role, dismissParentPopover);\n    }\n\n    this.currentTransition = dismiss(this, data, role, 'popoverLeave', iosLeaveAnimation$1, mdLeaveAnimation$1, this.event);\n    const shouldDismiss = await this.currentTransition;\n\n    if (shouldDismiss) {\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n        this.destroyKeyboardInteraction = undefined;\n      }\n\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n        this.destroyDismissInteraction = undefined;\n      }\n      /**\n       * If using popover inline\n       * we potentially need to use the coreDelegate\n       * so that this works in vanilla JS apps\n       */\n\n\n      const {\n        delegate\n      } = this.getDelegate();\n      await detachComponent(delegate, this.usersElement);\n    }\n\n    this.currentTransition = undefined;\n    return shouldDismiss;\n  }\n  /**\n   * @internal\n   */\n\n\n  async getParentPopover() {\n    return this.parentPopover;\n  }\n  /**\n   * Returns a promise that resolves when the popover did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionPopoverDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the popover will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionPopoverWillDismiss');\n  }\n\n  render() {\n    const mode = getIonMode(this);\n    const {\n      onLifecycle,\n      popoverId,\n      parentPopover,\n      dismissOnSelect,\n      presented,\n      side,\n      arrow,\n      htmlAttributes\n    } = this;\n    const desktop = isPlatform('desktop');\n    const enableArrow = arrow && !parentPopover && !desktop;\n    return h(Host, Object.assign({\n      \"aria-modal\": \"true\",\n      \"no-router\": true,\n      tabindex: \"-1\"\n    }, htmlAttributes, {\n      style: {\n        zIndex: `${20000 + this.overlayIndex}`\n      },\n      id: popoverId,\n      class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), {\n        [mode]: true,\n        'popover-translucent': this.translucent,\n        'overlay-hidden': true,\n        'popover-interactive': presented,\n        'popover-desktop': desktop,\n        [`popover-side-${side}`]: true,\n        'popover-nested': !!parentPopover\n      }),\n      onIonPopoverDidPresent: onLifecycle,\n      onIonPopoverWillPresent: onLifecycle,\n      onIonPopoverWillDismiss: onLifecycle,\n      onIonPopoverDidDismiss: onLifecycle,\n      onIonDismiss: this.onDismiss,\n      onIonBackdropTap: this.onBackdropTap\n    }), !parentPopover && h(\"ion-backdrop\", {\n      tappable: this.backdropDismiss,\n      visible: this.showBackdrop,\n      part: \"backdrop\"\n    }), h(\"div\", {\n      class: \"popover-wrapper ion-overlay-wrapper\",\n      onClick: dismissOnSelect ? () => this.dismiss() : undefined\n    }, enableArrow && h(\"div\", {\n      class: \"popover-arrow\",\n      part: \"arrow\"\n    }), h(\"div\", {\n      class: \"popover-content\",\n      part: \"content\"\n    }, h(\"slot\", null))));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get watchers() {\n    return {\n      \"trigger\": [\"onTriggerChange\"],\n      \"triggerAction\": [\"onTriggerChange\"],\n      \"isOpen\": [\"onIsOpenChange\"]\n    };\n  }\n\n  static get style() {\n    return {\n      ios: popoverIosCss,\n      md: popoverMdCss\n    };\n  }\n\n};\nconst LIFECYCLE_MAP = {\n  'ionPopoverDidPresent': 'ionViewDidEnter',\n  'ionPopoverWillPresent': 'ionViewWillEnter',\n  'ionPopoverWillDismiss': 'ionViewWillLeave',\n  'ionPopoverDidDismiss': 'ionViewDidLeave'\n};\nlet popoverIds = 0;\nPopover = /*@__PURE__*/proxyCustomElement(Popover, [33, \"ion-popover\", {\n  \"hasController\": [4, \"has-controller\"],\n  \"delegate\": [16],\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"component\": [1],\n  \"componentProps\": [16],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"cssClass\": [1, \"css-class\"],\n  \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n  \"event\": [8],\n  \"showBackdrop\": [4, \"show-backdrop\"],\n  \"translucent\": [4],\n  \"animated\": [4],\n  \"htmlAttributes\": [16],\n  \"triggerAction\": [1, \"trigger-action\"],\n  \"trigger\": [1],\n  \"size\": [1],\n  \"dismissOnSelect\": [4, \"dismiss-on-select\"],\n  \"reference\": [1],\n  \"side\": [1],\n  \"alignment\": [1],\n  \"arrow\": [4],\n  \"isOpen\": [4, \"is-open\"],\n  \"keyboardEvents\": [4, \"keyboard-events\"],\n  \"presented\": [32],\n  \"presentFromTrigger\": [64],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"getParentPopover\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}]);\n\nfunction defineCustomElement$1() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-popover\", \"ion-backdrop\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-popover\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Popover);\n        }\n\n        break;\n\n      case \"ion-backdrop\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$9();\n        }\n\n        break;\n    }\n  });\n}\n/**\n * iOS Toast Enter Animation\n */\n\n\nconst iosEnterAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n\n  switch (position) {\n    case 'top':\n      wrapperAnimation.fromTo('transform', 'translateY(-100%)', `translateY(${top})`);\n      break;\n\n    case 'middle':\n      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);\n      wrapperEl.style.top = `${topPosition}px`;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n\n    default:\n      wrapperAnimation.fromTo('transform', 'translateY(100%)', `translateY(${bottom})`);\n      break;\n  }\n\n  return baseAnimation.easing('cubic-bezier(.155,1.105,.295,1.12)').duration(400).addAnimation(wrapperAnimation);\n};\n/**\n * iOS Toast Leave Animation\n */\n\n\nconst iosLeaveAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n\n  switch (position) {\n    case 'top':\n      wrapperAnimation.fromTo('transform', `translateY(${top})`, 'translateY(-100%)');\n      break;\n\n    case 'middle':\n      wrapperAnimation.fromTo('opacity', 0.99, 0);\n      break;\n\n    default:\n      wrapperAnimation.fromTo('transform', `translateY(${bottom})`, 'translateY(100%)');\n      break;\n  }\n\n  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(300).addAnimation(wrapperAnimation);\n};\n/**\n * MD Toast Enter Animation\n */\n\n\nconst mdEnterAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(8px + var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(8px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n\n  switch (position) {\n    case 'top':\n      wrapperEl.style.top = top;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n\n    case 'middle':\n      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);\n      wrapperEl.style.top = `${topPosition}px`;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n\n    default:\n      wrapperEl.style.bottom = bottom;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n  }\n\n  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(400).addAnimation(wrapperAnimation);\n};\n/**\n * md Toast Leave Animation\n */\n\n\nconst mdLeaveAnimation = baseEl => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  wrapperAnimation.addElement(wrapperEl).fromTo('opacity', 0.99, 0);\n  return baseAnimation.easing('cubic-bezier(.36,.66,.04,1)').duration(300).addAnimation(wrapperAnimation);\n};\n\nconst toastIosCss = \":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}\";\nconst toastMdCss = \":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}\";\nlet Toast = class extends HTMLElement {\n  constructor() {\n    super();\n\n    this.__registerHost();\n\n    this.__attachShadow();\n\n    this.didPresent = createEvent(this, \"ionToastDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionToastWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionToastWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionToastDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * How many milliseconds to wait before hiding the toast. By default, it will show\n     * until `dismiss()` is called.\n     */\n\n    this.duration = 0;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n\n    this.keyboardClose = false;\n    /**\n     * The position of the toast on the screen.\n     */\n\n    this.position = 'bottom';\n    /**\n     * If `true`, the toast will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n\n    this.translucent = false;\n    /**\n     * If `true`, the toast will animate.\n     */\n\n    this.animated = true;\n\n    this.dispatchCancelHandler = ev => {\n      const role = ev.detail.role;\n\n      if (isCancel(role)) {\n        const cancelButton = this.getButtons().find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Present the toast overlay after it has been created.\n   */\n\n\n  async present() {\n    await present(this, 'toastEnter', iosEnterAnimation, mdEnterAnimation, this.position);\n\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(undefined, 'timeout'), this.duration);\n    }\n  }\n  /**\n   * Dismiss the toast overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the toast.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the toast.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n\n\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n\n    return dismiss(this, data, role, 'toastLeave', iosLeaveAnimation, mdLeaveAnimation, this.position);\n  }\n  /**\n   * Returns a promise that resolves when the toast did dismiss.\n   */\n\n\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionToastDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the toast will dismiss.\n   */\n\n\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionToastWillDismiss');\n  }\n\n  getButtons() {\n    const buttons = this.buttons ? this.buttons.map(b => {\n      return typeof b === 'string' ? {\n        text: b\n      } : b;\n    }) : [];\n    return buttons;\n  }\n\n  async buttonClick(button) {\n    const role = button.role;\n\n    if (isCancel(role)) {\n      return this.dismiss(undefined, role);\n    }\n\n    const shouldDismiss = await this.callButtonHandler(button);\n\n    if (shouldDismiss) {\n      return this.dismiss(undefined, role);\n    }\n\n    return Promise.resolve();\n  }\n\n  async callButtonHandler(button) {\n    if (button && button.handler) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      try {\n        const rtn = await safeCall(button.handler);\n\n        if (rtn === false) {\n          // if the return value of the handler is false then do not dismiss\n          return false;\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    return true;\n  }\n\n  renderButtons(buttons, side) {\n    if (buttons.length === 0) {\n      return;\n    }\n\n    const mode = getIonMode(this);\n    const buttonGroupsClasses = {\n      'toast-button-group': true,\n      [`toast-button-group-${side}`]: true\n    };\n    return h(\"div\", {\n      class: buttonGroupsClasses\n    }, buttons.map(b => h(\"button\", {\n      type: \"button\",\n      class: buttonClass(b),\n      tabIndex: 0,\n      onClick: () => this.buttonClick(b),\n      part: \"button\"\n    }, h(\"div\", {\n      class: \"toast-button-inner\"\n    }, b.icon && h(\"ion-icon\", {\n      icon: b.icon,\n      slot: b.text === undefined ? 'icon-only' : undefined,\n      class: \"toast-button-icon\"\n    }), b.text), mode === 'md' && h(\"ion-ripple-effect\", {\n      type: b.icon !== undefined && b.text === undefined ? 'unbounded' : 'bounded'\n    }))));\n  }\n\n  render() {\n    const allButtons = this.getButtons();\n    const startButtons = allButtons.filter(b => b.side === 'start');\n    const endButtons = allButtons.filter(b => b.side !== 'start');\n    const mode = getIonMode(this);\n    const wrapperClass = {\n      'toast-wrapper': true,\n      [`toast-${this.position}`]: true\n    };\n    const role = allButtons.length > 0 ? 'dialog' : 'status';\n    return h(Host, Object.assign({\n      role: role,\n      tabindex: \"-1\"\n    }, this.htmlAttributes, {\n      style: {\n        zIndex: `${60000 + this.overlayIndex}`\n      },\n      class: createColorClasses(this.color, Object.assign(Object.assign({\n        [mode]: true\n      }, getClassMap(this.cssClass)), {\n        'overlay-hidden': true,\n        'toast-translucent': this.translucent\n      })),\n      onIonToastWillDismiss: this.dispatchCancelHandler\n    }), h(\"div\", {\n      class: wrapperClass\n    }, h(\"div\", {\n      class: \"toast-container\",\n      part: \"container\"\n    }, this.renderButtons(startButtons, 'start'), this.icon !== undefined && h(\"ion-icon\", {\n      class: \"toast-icon\",\n      part: \"icon\",\n      icon: this.icon,\n      lazy: false,\n      \"aria-hidden\": \"true\"\n    }), h(\"div\", {\n      class: \"toast-content\"\n    }, this.header !== undefined && h(\"div\", {\n      class: \"toast-header\",\n      part: \"header\"\n    }, this.header), this.message !== undefined && h(\"div\", {\n      class: \"toast-message\",\n      part: \"message\",\n      innerHTML: sanitizeDOMString(this.message)\n    })), this.renderButtons(endButtons, 'end'))));\n  }\n\n  get el() {\n    return this;\n  }\n\n  static get style() {\n    return {\n      ios: toastIosCss,\n      md: toastMdCss\n    };\n  }\n\n};\n\nconst buttonClass = button => {\n  return Object.assign({\n    'toast-button': true,\n    'toast-button-icon-only': button.icon !== undefined && button.text === undefined,\n    [`toast-button-${button.role}`]: button.role !== undefined,\n    'ion-focusable': true,\n    'ion-activatable': true\n  }, getClassMap(button.cssClass));\n};\n\nToast = /*@__PURE__*/proxyCustomElement(Toast, [33, \"ion-toast\", {\n  \"overlayIndex\": [2, \"overlay-index\"],\n  \"color\": [513],\n  \"enterAnimation\": [16],\n  \"leaveAnimation\": [16],\n  \"cssClass\": [1, \"css-class\"],\n  \"duration\": [2],\n  \"header\": [1],\n  \"message\": [1],\n  \"keyboardClose\": [4, \"keyboard-close\"],\n  \"position\": [1],\n  \"buttons\": [16],\n  \"translucent\": [4],\n  \"animated\": [4],\n  \"icon\": [1],\n  \"htmlAttributes\": [16],\n  \"present\": [64],\n  \"dismiss\": [64],\n  \"onDidDismiss\": [64],\n  \"onWillDismiss\": [64]\n}]);\n\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n\n  const components = [\"ion-toast\", \"ion-icon\", \"ion-ripple-effect\"];\n  components.forEach(tagName => {\n    switch (tagName) {\n      case \"ion-toast\":\n        if (!customElements.get(tagName)) {\n          customElements.define(tagName, Toast);\n        }\n\n        break;\n\n      case \"ion-icon\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$8();\n        }\n\n        break;\n\n      case \"ion-ripple-effect\":\n        if (!customElements.get(tagName)) {\n          defineCustomElement$7();\n        }\n\n        break;\n    }\n  });\n}\n\nlet lastId = 0;\nconst activeAnimations = new WeakMap();\n\nconst createController = (tagName, customElement, childrenCustomElements) => {\n  return {\n    create(options) {\n      return createOverlay(tagName, options, customElement, childrenCustomElements);\n    },\n\n    dismiss(data, role, id) {\n      return dismissOverlay(document, data, role, tagName, id);\n    },\n\n    async getTop() {\n      return getOverlay(document, tagName);\n    }\n\n  };\n};\n\nconst alertController = /*@__PURE__*/createController('ion-alert', Alert);\nconst actionSheetController = /*@__PURE__*/createController('ion-action-sheet', ActionSheet);\nconst loadingController = /*@__PURE__*/createController('ion-loading', Loading);\nconst modalController = /*@__PURE__*/createController('ion-modal', Modal);\nconst pickerController = /*@__PURE__*/createController('ion-picker', Picker, [{\n  tagName: 'ion-picker-column',\n  customElement: PickerColumnCmp\n}]);\nconst popoverController = /*@__PURE__*/createController('ion-popover', Popover);\nconst toastController = /*@__PURE__*/createController('ion-toast', Toast);\n\nconst prepareOverlay = el => {\n  /* tslint:disable-next-line */\n  if (typeof document !== 'undefined') {\n    connectListeners(document);\n  }\n\n  const overlayIndex = lastId++;\n  el.overlayIndex = overlayIndex;\n\n  if (!el.hasAttribute('id')) {\n    el.id = `ion-overlay-${overlayIndex}`;\n  }\n};\n\nconst createOverlay = (tagName, opts, customElement, childrenCustomElements) => {\n  /* tslint:disable-next-line */\n  if (typeof window.customElements !== 'undefined') {\n    if (typeof window !== 'undefined' && window.customElements) {\n      if (!window.customElements.get(tagName)) {\n        window.customElements.define(tagName, customElement);\n      }\n      /**\n       * If the parent element has nested usage of custom elements,\n       * we need to manually define those custom elements.\n       */\n\n\n      if (childrenCustomElements) {\n        for (const customElementDefinition of childrenCustomElements) {\n          if (!window.customElements.get(customElementDefinition.tagName)) {\n            window.customElements.define(customElementDefinition.tagName, customElementDefinition.customElement);\n          }\n        }\n      }\n    }\n\n    return window.customElements.whenDefined(tagName).then(() => {\n      const element = document.createElement(tagName);\n      element.classList.add('overlay-hidden');\n      /**\n       * Convert the passed in overlay options into props\n       * that get passed down into the new overlay.\n       */\n\n      Object.assign(element, Object.assign(Object.assign({}, opts), {\n        hasController: true\n      })); // append the overlay element to the document body\n\n      getAppRoot(document).appendChild(element);\n      return new Promise(resolve => componentOnReady(element, resolve));\n    });\n  }\n\n  return Promise.resolve();\n};\n\nconst focusableQueryString = '[tabindex]:not([tabindex^=\"-\"]), input:not([type=hidden]):not([tabindex^=\"-\"]), textarea:not([tabindex^=\"-\"]), button:not([tabindex^=\"-\"]), select:not([tabindex^=\"-\"]), .ion-focusable:not([tabindex^=\"-\"])';\nconst innerFocusableQueryString = 'input:not([type=hidden]), textarea, button, select';\n\nconst focusFirstDescendant = (ref, overlay) => {\n  let firstInput = ref.querySelector(focusableQueryString);\n  const shadowRoot = firstInput && firstInput.shadowRoot;\n\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    firstInput = shadowRoot.querySelector(innerFocusableQueryString) || firstInput;\n  }\n\n  if (firstInput) {\n    focusElement(firstInput);\n  } else {\n    // Focus overlay instead of letting focus escape\n    overlay.focus();\n  }\n};\n\nconst focusLastDescendant = (ref, overlay) => {\n  const inputs = Array.from(ref.querySelectorAll(focusableQueryString));\n  let lastInput = inputs.length > 0 ? inputs[inputs.length - 1] : null;\n  const shadowRoot = lastInput && lastInput.shadowRoot;\n\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    lastInput = shadowRoot.querySelector(innerFocusableQueryString) || lastInput;\n  }\n\n  if (lastInput) {\n    lastInput.focus();\n  } else {\n    // Focus overlay instead of letting focus escape\n    overlay.focus();\n  }\n};\n/**\n * Traps keyboard focus inside of overlay components.\n * Based on https://w3c.github.io/aria-practices/examples/dialog-modal/alertdialog.html\n * This includes the following components: Action Sheet, Alert, Loading, Modal,\n * Picker, and Popover.\n * Should NOT include: Toast\n */\n\n\nconst trapKeyboardFocus = (ev, doc) => {\n  const lastOverlay = getOverlay(doc);\n  const target = ev.target;\n  /**\n   * If no active overlay, ignore this event.\n   *\n   * If this component uses the shadow dom,\n   * this global listener is pointless\n   * since it will not catch the focus\n   * traps as they are inside the shadow root.\n   * We need to add a listener to the shadow root\n   * itself to ensure the focus trap works.\n   */\n\n  if (!lastOverlay || !target) {\n    return;\n  }\n\n  const trapScopedFocus = () => {\n    /**\n     * If we are focusing the overlay, clear\n     * the last focused element so that hitting\n     * tab activates the first focusable element\n     * in the overlay wrapper.\n     */\n    if (lastOverlay === target) {\n      lastOverlay.lastFocus = undefined;\n      /**\n       * Otherwise, we must be focusing an element\n       * inside of the overlay. The two possible options\n       * here are an input/button/etc or the ion-focus-trap\n       * element. The focus trap element is used to prevent\n       * the keyboard focus from leaving the overlay when\n       * using Tab or screen assistants.\n       */\n    } else {\n      /**\n       * We do not want to focus the traps, so get the overlay\n       * wrapper element as the traps live outside of the wrapper.\n       */\n      const overlayRoot = getElementRoot(lastOverlay);\n\n      if (!overlayRoot.contains(target)) {\n        return;\n      }\n\n      const overlayWrapper = overlayRoot.querySelector('.ion-overlay-wrapper');\n\n      if (!overlayWrapper) {\n        return;\n      }\n      /**\n       * If the target is inside the wrapper, let the browser\n       * focus as normal and keep a log of the last focused element.\n       */\n\n\n      if (overlayWrapper.contains(target)) {\n        lastOverlay.lastFocus = target;\n      } else {\n        /**\n         * Otherwise, we must have focused one of the focus traps.\n         * We need to wrap the focus to either the first element\n         * or the last element.\n         */\n\n        /**\n         * Once we call `focusFirstDescendant` and focus the first\n         * descendant, another focus event will fire which will\n         * cause `lastOverlay.lastFocus` to be updated before\n         * we can run the code after that. We will cache the value\n         * here to avoid that.\n         */\n        const lastFocus = lastOverlay.lastFocus; // Focus the first element in the overlay wrapper\n\n        focusFirstDescendant(overlayWrapper, lastOverlay);\n        /**\n         * If the cached last focused element is the\n         * same as the active element, then we need\n         * to wrap focus to the last descendant. This happens\n         * when the first descendant is focused, and the user\n         * presses Shift + Tab. The previous line will focus\n         * the same descendant again (the first one), causing\n         * last focus to equal the active element.\n         */\n\n        if (lastFocus === doc.activeElement) {\n          focusLastDescendant(overlayWrapper, lastOverlay);\n        }\n\n        lastOverlay.lastFocus = doc.activeElement;\n      }\n    }\n  };\n\n  const trapShadowFocus = () => {\n    /**\n     * If the target is inside the wrapper, let the browser\n     * focus as normal and keep a log of the last focused element.\n     */\n    if (lastOverlay.contains(target)) {\n      lastOverlay.lastFocus = target;\n    } else {\n      /**\n       * Otherwise, we are about to have focus\n       * go out of the overlay. We need to wrap\n       * the focus to either the first element\n       * or the last element.\n       */\n\n      /**\n       * Once we call `focusFirstDescendant` and focus the first\n       * descendant, another focus event will fire which will\n       * cause `lastOverlay.lastFocus` to be updated before\n       * we can run the code after that. We will cache the value\n       * here to avoid that.\n       */\n      const lastFocus = lastOverlay.lastFocus; // Focus the first element in the overlay wrapper\n\n      focusFirstDescendant(lastOverlay, lastOverlay);\n      /**\n       * If the cached last focused element is the\n       * same as the active element, then we need\n       * to wrap focus to the last descendant. This happens\n       * when the first descendant is focused, and the user\n       * presses Shift + Tab. The previous line will focus\n       * the same descendant again (the first one), causing\n       * last focus to equal the active element.\n       */\n\n      if (lastFocus === doc.activeElement) {\n        focusLastDescendant(lastOverlay, lastOverlay);\n      }\n\n      lastOverlay.lastFocus = doc.activeElement;\n    }\n  };\n\n  if (lastOverlay.shadowRoot) {\n    trapShadowFocus();\n  } else {\n    trapScopedFocus();\n  }\n};\n\nconst connectListeners = doc => {\n  if (lastId === 0) {\n    lastId = 1;\n    doc.addEventListener('focus', ev => trapKeyboardFocus(ev, doc), true); // handle back-button click\n\n    doc.addEventListener('ionBackButton', ev => {\n      const lastOverlay = getTopOpenOverlay(doc);\n\n      if (lastOverlay && lastOverlay.backdropDismiss) {\n        ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, () => {\n          return lastOverlay.dismiss(undefined, BACKDROP);\n        });\n      }\n    }); // handle ESC to close overlay\n\n    doc.addEventListener('keyup', ev => {\n      if (ev.key === 'Escape') {\n        const lastOverlay = getTopOpenOverlay(doc);\n\n        if (lastOverlay && lastOverlay.backdropDismiss) {\n          lastOverlay.dismiss(undefined, BACKDROP);\n        }\n      }\n    });\n  }\n};\n\nconst dismissOverlay = (doc, data, role, overlayTag, id) => {\n  const overlay = getOverlay(doc, overlayTag, id);\n\n  if (!overlay) {\n    return Promise.reject('overlay does not exist');\n  }\n\n  return overlay.dismiss(data, role);\n};\n\nconst getOverlays = (doc, selector) => {\n  if (selector === undefined) {\n    selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n  }\n\n  return Array.from(doc.querySelectorAll(selector)).filter(c => c.overlayIndex > 0);\n};\n/**\n * Gets the top-most/last opened\n * overlay that is currently presented.\n */\n\n\nconst getTopOpenOverlay = doc => {\n  const overlays = getOverlays(doc);\n\n  for (let i = overlays.length - 1; i >= 0; i--) {\n    const overlay = overlays[i];\n    /**\n     * Only consider overlays that\n     * are presented. Presented overlays\n     * will not have the .overlay-hidden\n     * class on the host.\n     */\n\n    if (!overlay.classList.contains('overlay-hidden')) {\n      return overlay;\n    }\n  }\n\n  return;\n};\n\nconst getOverlay = (doc, overlayTag, id) => {\n  const overlays = getOverlays(doc, overlayTag);\n  return id === undefined ? overlays[overlays.length - 1] : overlays.find(o => o.id === id);\n};\n/**\n * When an overlay is presented, the main\n * focus is the overlay not the page content.\n * We need to remove the page content from the\n * accessibility tree otherwise when\n * users use \"read screen from top\" gestures with\n * TalkBack and VoiceOver, the screen reader will begin\n * to read the content underneath the overlay.\n *\n * We need a container where all page components\n * exist that is separate from where the overlays\n * are added in the DOM. For most apps, this element\n * is the top most ion-router-outlet. In the event\n * that devs are not using a router,\n * they will need to add the \"ion-view-container-root\"\n * id to the element that contains all of their views.\n *\n * TODO: If Framework supports having multiple top\n * level router outlets we would need to update this.\n * Example: One outlet for side menu and one outlet\n * for main content.\n */\n\n\nconst setRootAriaHidden = function () {\n  let hidden = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const root = getAppRoot(document);\n  const viewContainer = root.querySelector('ion-router-outlet, ion-nav, #ion-view-container-root');\n\n  if (!viewContainer) {\n    return;\n  }\n\n  if (hidden) {\n    viewContainer.setAttribute('aria-hidden', 'true');\n  } else {\n    viewContainer.removeAttribute('aria-hidden');\n  }\n};\n\nconst present = async (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) => {\n  var _a, _b;\n\n  if (overlay.presented) {\n    return;\n  }\n\n  setRootAriaHidden(true);\n  overlay.presented = true;\n  overlay.willPresent.emit();\n  (_a = overlay.willPresentShorthand) === null || _a === void 0 ? void 0 : _a.emit();\n  const mode = getIonMode(overlay); // get the user's animation fn if one was provided\n\n  const animationBuilder = overlay.enterAnimation ? overlay.enterAnimation : config.get(name, mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n  const completed = await overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n\n  if (completed) {\n    overlay.didPresent.emit();\n    (_b = overlay.didPresentShorthand) === null || _b === void 0 ? void 0 : _b.emit();\n  }\n  /**\n   * When an overlay that steals focus\n   * is dismissed, focus should be returned\n   * to the element that was focused\n   * prior to the overlay opening. Toast\n   * does not steal focus and is excluded\n   * from returning focus as a result.\n   */\n\n\n  if (overlay.el.tagName !== 'ION-TOAST') {\n    focusPreviousElementOnDismiss(overlay.el);\n  }\n\n  if (overlay.keyboardClose) {\n    overlay.el.focus();\n  }\n};\n/**\n * When an overlay component is dismissed,\n * focus should be returned to the element\n * that presented the overlay. Otherwise\n * focus will be set on the body which\n * means that people using screen readers\n * or tabbing will need to re-navigate\n * to where they were before they\n * opened the overlay.\n */\n\n\nconst focusPreviousElementOnDismiss = async overlayEl => {\n  let previousElement = document.activeElement;\n\n  if (!previousElement) {\n    return;\n  }\n\n  const shadowRoot = previousElement && previousElement.shadowRoot;\n\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    previousElement = shadowRoot.querySelector(innerFocusableQueryString) || previousElement;\n  }\n\n  await overlayEl.onDidDismiss();\n  previousElement.focus();\n};\n\nconst dismiss = async (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) => {\n  var _a, _b;\n\n  if (!overlay.presented) {\n    return false;\n  }\n\n  setRootAriaHidden(false);\n  overlay.presented = false;\n\n  try {\n    // Overlay contents should not be clickable during dismiss\n    overlay.el.style.setProperty('pointer-events', 'none');\n    overlay.willDismiss.emit({\n      data,\n      role\n    });\n    (_a = overlay.willDismissShorthand) === null || _a === void 0 ? void 0 : _a.emit({\n      data,\n      role\n    });\n    const mode = getIonMode(overlay);\n    const animationBuilder = overlay.leaveAnimation ? overlay.leaveAnimation : config.get(name, mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation); // If dismissed via gesture, no need to play leaving animation again\n\n    if (role !== 'gesture') {\n      await overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n    }\n\n    overlay.didDismiss.emit({\n      data,\n      role\n    });\n    (_b = overlay.didDismissShorthand) === null || _b === void 0 ? void 0 : _b.emit({\n      data,\n      role\n    });\n    activeAnimations.delete(overlay); // Make overlay hidden again in case it is being reused\n\n    overlay.el.classList.add('overlay-hidden');\n  } catch (err) {\n    console.error(err);\n  }\n\n  overlay.el.remove();\n  return true;\n};\n\nconst getAppRoot = doc => {\n  return doc.querySelector('ion-app') || doc.body;\n};\n\nconst overlayAnimation = async (overlay, animationBuilder, baseEl, opts) => {\n  // Make overlay visible in case it's hidden\n  baseEl.classList.remove('overlay-hidden');\n  const aniRoot = overlay.el;\n  const animation = animationBuilder(aniRoot, opts);\n\n  if (!overlay.animated || !config.getBoolean('animated', true)) {\n    animation.duration(0);\n  }\n\n  if (overlay.keyboardClose) {\n    animation.beforeAddWrite(() => {\n      const activeElement = baseEl.ownerDocument.activeElement;\n\n      if (activeElement && activeElement.matches('input,ion-input, ion-textarea')) {\n        activeElement.blur();\n      }\n    });\n  }\n\n  const activeAni = activeAnimations.get(overlay) || [];\n  activeAnimations.set(overlay, [...activeAni, animation]);\n  await animation.play();\n  return true;\n};\n\nconst eventMethod = (element, eventName) => {\n  let resolve;\n  const promise = new Promise(r => resolve = r);\n  onceEvent(element, eventName, event => {\n    resolve(event.detail);\n  });\n  return promise;\n};\n\nconst onceEvent = (element, eventName, callback) => {\n  const handler = ev => {\n    removeEventListener(element, eventName, handler);\n    callback(ev);\n  };\n\n  addEventListener(element, eventName, handler);\n};\n\nconst isCancel = role => {\n  return role === 'cancel' || role === BACKDROP;\n};\n\nconst defaultGate = h => h();\n/**\n * Calls a developer provided method while avoiding\n * Angular Zones. Since the handler is provided by\n * the developer, we should throw any errors\n * received so that developer-provided bug\n * tracking software can log it.\n */\n\n\nconst safeCall = (handler, arg) => {\n  if (typeof handler === 'function') {\n    const jmp = config.get('_zoneGate', defaultGate);\n    return jmp(() => {\n      try {\n        return handler(arg);\n      } catch (e) {\n        throw e;\n      }\n    });\n  }\n\n  return undefined;\n};\n\nconst BACKDROP = 'backdrop';\nexport { ActionSheet as A, Loading as L, Modal as M, Picker as P, Toast as T, alertController as a, actionSheetController as b, popoverController as c, defineCustomElement$6 as d, Alert as e, defineCustomElement$5 as f, defineCustomElement$1 as g, defineCustomElement$4 as h, defineCustomElement$3 as i, defineCustomElement$2 as j, Popover as k, loadingController as l, modalController as m, defineCustomElement as n, pickerController as p, safeCall as s, toastController as t };","map":{"version":3,"sources":["/home/jero/Documentos/Jimenez Sanitarios/frontend/node_modules/@ionic/core/components/overlays.js"],"names":["writeTask","HTMLElement","createEvent","readTask","h","Host","proxyCustomElement","forceUpdate","b","getIonMode","c","config","a","isPlatform","hapticSelectionEnd","hapticSelectionStart","hapticSelectionChanged","createGesture","s","sanitizeDOMString","g","getClassMap","createColorClasses","createAnimation","d","defineCustomElement$9","defineCustomElement$7","defineCustomElement$a","C","CoreDelegate","attachComponent","detachComponent","clamp","getElementRoot","r","raf","addEventListener","componentOnReady","f","focusElement","removeEventListener","e","deepReady","getTimeGivenProgression","defineCustomElement$b","P","PickerColumnCmp","defineCustomElement$8","OVERLAY_BACK_BUTTON_PRIORITY","createButtonActiveGesture","el","isButton","currentTouchedButton","initialTouchedButton","activateButtonAtPoint","x","y","hapticFeedbackFn","document","target","elementFromPoint","clearActiveButton","setActiveButton","button","buttonToModify","classList","add","dispatchClick","remove","click","undefined","gestureName","threshold","onStart","ev","currentX","currentY","onMove","onEnd","iosEnterAnimation$6","baseEl","baseAnimation","backdropAnimation","wrapperAnimation","addElement","querySelector","fromTo","beforeStyles","afterClearStyles","easing","duration","addAnimation","iosLeaveAnimation$6","mdEnterAnimation$5","mdLeaveAnimation$5","actionSheetIosCss","actionSheetMdCss","ActionSheet","constructor","__registerHost","didPresent","willPresent","willDismiss","didDismiss","presented","keyboardClose","buttons","backdropDismiss","translucent","animated","onBackdropTap","dismiss","BACKDROP","dispatchCancelHandler","role","detail","isCancel","cancelButton","getButtons","find","callButtonHandler","present","connectedCallback","prepareOverlay","data","onDidDismiss","eventMethod","onWillDismiss","buttonClick","shouldDismiss","Promise","resolve","rtn","safeCall","handler","map","text","disconnectedCallback","gesture","destroy","componentDidLoad","groupEl","wrapperEl","isScrollable","scrollHeight","clientHeight","refEl","contains","enable","render","htmlAttributes","mode","allButtons","filter","Object","assign","tabindex","style","zIndex","overlayIndex","class","cssClass","onIonActionSheetWillDismiss","onIonBackdropTap","tappable","ref","header","subHeader","type","id","buttonClass$3","onClick","icon","lazy","ios","md","defineCustomElement$6","customElements","components","forEach","tagName","get","define","iosEnterAnimation$5","keyframes","offset","opacity","transform","iosLeaveAnimation$5","mdEnterAnimation$4","mdLeaveAnimation$4","alertIosCss","alertMdCss","Alert","processedInputs","processedButtons","inputs","onKeydown","inputTypes","Set","i","has","query","querySelectorAll","radios","Array","from","radio","disabled","index","findIndex","nextEl","includes","code","length","nextProcessed","input","rbClick","focus","buttonsChanged","btn","toLowerCase","inputsChanged","first","checked","focusable","console","warn","values","join","inputType","next","value","name","placeholder","label","min","max","attributes","componentWillLoad","selectedInput","activeId","cbClick","getValues","returnData","checkedInput","renderAlertInputs","renderCheckbox","renderRadio","renderInput","tabIndex","_a","_b","_c","_d","inputClass","onInput","renderAlertButtons","alertButtonGroupClass","buttonClass$2","hdrId","subHdrId","msgId","onIonAlertWillDismiss","innerHTML","message","watchers","toString","defineCustomElement$5","iosEnterAnimation$4","iosLeaveAnimation$4","mdEnterAnimation$3","mdLeaveAnimation$3","loadingIosCss","loadingMdCss","Loading","showBackdrop","spinner","durationTimeout","setTimeout","clearTimeout","visible","defineCustomElement$4","SwipeToCloseDefaults","MIN_PRESENTING_SCALE","createSwipeToCloseGesture","animation","onDismiss","height","offsetHeight","isOpen","canStart","event","closest","contentOrFooter","progressStart","step","deltaY","progressStep","velocity","velocityY","shouldComplete","newStepValue","computeDuration","onFinish","progressEnd","gesturePriority","direction","remaining","Math","abs","getBackdropValueForSheet","backdropBreakpoint","slope","createSheetEnterAnimation","opts","currentBreakpoint","shouldShowBackdrop","initialBackdrop","createSheetLeaveAnimation","backdropValue","defaultBackdrop","customBackdrop","createEnterAnimation$1","iosEnterAnimation$3","presentingEl","root","isMobile","window","innerWidth","hasCardModal","presentingElement","presentingElRoot","presentingAnimation","bodyEl","body","transformOffset","CSS","supports","modalTransform","toPresentingScale","finalTransform","afterStyles","beforeAddWrite","setProperty","borderRadius","shadowAnimation","createLeaveAnimation$1","iosLeaveAnimation$3","beforeClearStyles","currentStep","numModals","m","createEnterAnimation","mdEnterAnimation$2","createLeaveAnimation","mdLeaveAnimation$2","createSheetGesture","backdropEl","initialBreakpoint","breakpoints","onBreakpointChange","SheetDefaults","WRAPPER_KEYFRAMES","BACKDROP_KEYFRAMES","contentEl","childAnimations","ani","maxBreakpoint","backdropEnabled","scrollY","content","initialStep","diff","reduce","shouldRemainOpen","oneTimeCallback","modalIosCss","modalMdCss","Modal","__attachShadow","didPresentShorthand","willPresentShorthand","willDismissShorthand","didDismissShorthand","modalIndex","modalIds","coreDelegate","isSheetModal","inline","gestureAnimationDismissing","hasController","swipeToClose","configureTriggerInteraction","trigger","destroyTriggerInteraction","triggerEl","getElementById","modalEl","openModal","stopPropagation","preventDefault","onLifecycle","modalEvent","usersElement","LIFECYCLE_MAP$1","CustomEvent","bubbles","cancelable","dispatchEvent","onIsOpenChange","newValue","oldValue","onTriggerChange","swipeToCloseChanged","initSwipeToClose","modalId","hasAttribute","getAttribute","getDelegate","force","workingDelegate","delegate","parentEl","parentNode","currentTransition","componentProps","modal","component","initSheetGesture","animationBuilder","leaveAnimation","enterAnimation","sortedBreakpoints","sort","breakpoint","enteringAnimation","activeAnimations","dismissed","handle","showHandle","isCardModal","onIonDismiss","onIonModalDidPresent","onIonModalWillPresent","onIonModalWillDismiss","onIonModalDidDismiss","part","defineCustomElement$3","iosEnterAnimation$2","iosLeaveAnimation$2","pickerIosCss","pickerMdCss","Picker","columns","getColumn","column","getSelected","selected","col","selectedColumn","selectedIndex","options","columnIndex","onIonPickerWillDismiss","buttonWrapperClass","buttonClass$1","defineCustomElement$2","getArrowDimensions","arrowEl","arrowWidth","arrowHeight","width","getBoundingClientRect","getPopoverDimensions","size","contentDimentions","contentHeight","contentWidth","triggerDimensions","configureDismissInteraction","triggerAction","popoverEl","parentPopoverEl","dismissCallbacks","parentContentEl","eventName","callback","element","clientX","clientY","closestTrigger","triggerCallbacks","hoverTimeout","presentFromTrigger","relatedTarget","setAttribute","removeAttribute","getIndexOfItem","items","item","getNextItem","currentItem","currentItemIndex","getPrevItem","focusItem","isTriggerElement","configureKeyboardInteraction","activeElement","key","parentPopover","getParentPopover","nextItem","prevItem","firstItem","lastItem","rightEvent","getPopoverPosition","isRTL","reference","side","align","defaultPosition","referenceCoordinates","top","left","mouseEv","customEv","actualTriggerEl","ionShadowTarget","triggerBoundingBox","coordinates","calculatePopoverSide","alignedCoordinates","calculatePopoverAlign","arrowTop","arrowLeft","calculateArrowPosition","originX","originY","calculatePopoverOrigin","getOriginXAlignment","getOriginYAlignment","leftPosition","rightPosition","sideLeft","sideRight","calculatePopoverCenterAlign","calculatePopoverEndAlign","calculateWindowAdjustment","coordTop","coordLeft","bodyPadding","bodyWidth","bodyHeight","safeAreaMargin","contentOriginX","contentOriginY","triggerCoordinates","coordArrowTop","coordArrowLeft","bottom","checkSafeAreaLeft","checkSafeAreaRight","triggerTop","triggerHeight","addPopoverBottomClass","shouldShowArrow","didAdjustBounds","POPOVER_IOS_BODY_PADDING","iosEnterAnimation$1","doc","ownerDocument","dir","defaultView","innerHeight","referenceSizeEl","results","padding","margin","safeAreaLeft","safeAreaRight","leftValue","showArrow","iosLeaveAnimation$1","afterAddWrite","removeProperty","POPOVER_MD_BODY_PADDING","mdEnterAnimation$1","contentAnimation","viewportAnimation","mdLeaveAnimation$1","popoverIosCss","popoverMdCss","Popover","popoverIndex","popoverIds","focusDescendantOnPresent","dismissOnSelect","alignment","arrow","keyboardEvents","LIFECYCLE_MAP","destroyKeyboardInteraction","destroyDismissInteraction","popoverId","focusDescendant","popover","focusFirstDescendant","dismissParentPopover","desktop","enableArrow","onIonPopoverDidPresent","onIonPopoverWillPresent","onIonPopoverWillDismiss","onIonPopoverDidDismiss","defineCustomElement$1","iosEnterAnimation","position","topPosition","floor","iosLeaveAnimation","mdEnterAnimation","mdLeaveAnimation","toastIosCss","toastMdCss","Toast","error","renderButtons","buttonGroupsClasses","buttonClass","slot","startButtons","endButtons","wrapperClass","color","onIonToastWillDismiss","defineCustomElement","lastId","WeakMap","createController","customElement","childrenCustomElements","create","createOverlay","dismissOverlay","getTop","getOverlay","alertController","actionSheetController","loadingController","modalController","pickerController","popoverController","toastController","connectListeners","customElementDefinition","whenDefined","then","createElement","getAppRoot","appendChild","focusableQueryString","innerFocusableQueryString","overlay","firstInput","shadowRoot","focusLastDescendant","lastInput","trapKeyboardFocus","lastOverlay","trapScopedFocus","lastFocus","overlayRoot","overlayWrapper","trapShadowFocus","getTopOpenOverlay","register","overlayTag","reject","getOverlays","selector","overlays","o","setRootAriaHidden","hidden","viewContainer","emit","completed","overlayAnimation","focusPreviousElementOnDismiss","overlayEl","previousElement","delete","err","aniRoot","getBoolean","matches","blur","activeAni","set","play","promise","onceEvent","defaultGate","arg","jmp","A","L","M","T","j","k","l","n","p","t"],"mappings":"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","sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { writeTask, HTMLElement, createEvent, readTask, h, Host, proxyCustomElement, forceUpdate } from '@stencil/core/internal/client';\nimport { b as getIonMode, c as config, a as isPlatform } from './ionic-global.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic.js';\nimport { createGesture } from './index2.js';\nimport { s as sanitizeDOMString } from './index3.js';\nimport { g as getClassMap, c as createColorClasses } from './theme.js';\nimport { c as createAnimation } from './animation.js';\nimport { d as defineCustomElement$9 } from './backdrop.js';\nimport { d as defineCustomElement$7 } from './ripple-effect.js';\nimport { d as defineCustomElement$a } from './spinner.js';\nimport { C as CoreDelegate, a as attachComponent, d as detachComponent } from './framework-delegate.js';\nimport { d as clamp, g as getElementRoot, r as raf, a as addEventListener, c as componentOnReady, f as focusElement, b as removeEventListener } from './helpers.js';\nimport { e as deepReady } from './index4.js';\nimport { g as getTimeGivenProgression } from './cubic-bezier.js';\nimport { d as defineCustomElement$b, P as PickerColumnCmp } from './picker-column.js';\nimport { d as defineCustomElement$8 } from './icon.js';\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n\n/**\n * iOS Action Sheet Enter Animation\n */\nconst iosEnterAnimation$6 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.action-sheet-wrapper'))\n    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(400)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * iOS Action Sheet Leave Animation\n */\nconst iosLeaveAnimation$6 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.action-sheet-wrapper'))\n    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(450)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * MD Action Sheet Enter Animation\n */\nconst mdEnterAnimation$5 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.action-sheet-wrapper'))\n    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(400)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * MD Action Sheet Leave Animation\n */\nconst mdLeaveAnimation$5 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.action-sheet-wrapper'))\n    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(450)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst actionSheetIosCss = \".sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}\";\n\nconst actionSheetMdCss = \".sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}\";\n\nlet ActionSheet = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.didPresent = createEvent(this, \"ionActionSheetDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionActionSheetWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionActionSheetWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionActionSheetDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * An array of buttons for the action sheet.\n     */\n    this.buttons = [];\n    /**\n     * If `true`, the action sheet will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the action sheet will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the action sheet will animate.\n     */\n    this.animated = true;\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.dispatchCancelHandler = (ev) => {\n      const role = ev.detail.role;\n      if (isCancel(role)) {\n        const cancelButton = this.getButtons().find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n  /**\n   * Present the action sheet overlay after it has been created.\n   */\n  present() {\n    return present(this, 'actionSheetEnter', iosEnterAnimation$6, mdEnterAnimation$5);\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Dismiss the action sheet overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the action sheet.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the action sheet.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n  dismiss(data, role) {\n    return dismiss(this, data, role, 'actionSheetLeave', iosLeaveAnimation$6, mdLeaveAnimation$5);\n  }\n  /**\n   * Returns a promise that resolves when the action sheet did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionActionSheetDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the action sheet will dismiss.\n   *\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionActionSheetWillDismiss');\n  }\n  async buttonClick(button) {\n    const role = button.role;\n    if (isCancel(role)) {\n      return this.dismiss(button.data, role);\n    }\n    const shouldDismiss = await this.callButtonHandler(button);\n    if (shouldDismiss) {\n      return this.dismiss(button.data, button.role);\n    }\n    return Promise.resolve();\n  }\n  async callButtonHandler(button) {\n    if (button) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const rtn = await safeCall(button.handler);\n      if (rtn === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n    }\n    return true;\n  }\n  getButtons() {\n    return this.buttons.map(b => {\n      return (typeof b === 'string')\n        ? { text: b }\n        : b;\n    });\n  }\n  disconnectedCallback() {\n    if (this.gesture) {\n      this.gesture.destroy();\n      this.gesture = undefined;\n    }\n  }\n  componentDidLoad() {\n    /**\n     * Do not create gesture if:\n     * 1. A gesture already exists\n     * 2. App is running in MD mode\n     * 3. A wrapper ref does not exist\n     */\n    const { groupEl, wrapperEl } = this;\n    if (this.gesture || getIonMode(this) === 'md' || !wrapperEl || !groupEl) {\n      return;\n    }\n    readTask(() => {\n      const isScrollable = groupEl.scrollHeight > groupEl.clientHeight;\n      if (!isScrollable) {\n        this.gesture = createButtonActiveGesture(wrapperEl, (refEl) => refEl.classList.contains('action-sheet-button'));\n        this.gesture.enable(true);\n      }\n    });\n  }\n  render() {\n    const { htmlAttributes } = this;\n    const mode = getIonMode(this);\n    const allButtons = this.getButtons();\n    const cancelButton = allButtons.find(b => b.role === 'cancel');\n    const buttons = allButtons.filter(b => b.role !== 'cancel');\n    return (h(Host, Object.assign({ role: \"dialog\", \"aria-modal\": \"true\", tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + this.overlayIndex}`,\n      }, class: Object.assign(Object.assign({ [mode]: true }, getClassMap(this.cssClass)), { 'overlay-hidden': true, 'action-sheet-translucent': this.translucent }), onIonActionSheetWillDismiss: this.dispatchCancelHandler, onIonBackdropTap: this.onBackdropTap }), h(\"ion-backdrop\", { tappable: this.backdropDismiss }), h(\"div\", { tabindex: \"0\" }), h(\"div\", { class: \"action-sheet-wrapper ion-overlay-wrapper\", role: \"dialog\", ref: el => this.wrapperEl = el }, h(\"div\", { class: \"action-sheet-container\" }, h(\"div\", { class: \"action-sheet-group\", ref: el => this.groupEl = el }, this.header !== undefined &&\n      h(\"div\", { class: {\n          'action-sheet-title': true,\n          'action-sheet-has-sub-title': this.subHeader !== undefined\n        } }, this.header, this.subHeader && h(\"div\", { class: \"action-sheet-sub-title\" }, this.subHeader)), buttons.map(b => h(\"button\", { type: \"button\", id: b.id, class: buttonClass$3(b), onClick: () => this.buttonClick(b) }, h(\"span\", { class: \"action-sheet-button-inner\" }, b.icon && h(\"ion-icon\", { icon: b.icon, lazy: false, class: \"action-sheet-icon\" }), b.text), mode === 'md' && h(\"ion-ripple-effect\", null)))), cancelButton &&\n      h(\"div\", { class: \"action-sheet-group action-sheet-group-cancel\" }, h(\"button\", { type: \"button\", class: buttonClass$3(cancelButton), onClick: () => this.buttonClick(cancelButton) }, h(\"span\", { class: \"action-sheet-button-inner\" }, cancelButton.icon &&\n        h(\"ion-icon\", { icon: cancelButton.icon, lazy: false, class: \"action-sheet-icon\" }), cancelButton.text), mode === 'md' && h(\"ion-ripple-effect\", null))))), h(\"div\", { tabindex: \"0\" })));\n  }\n  get el() { return this; }\n  static get style() { return {\n    ios: actionSheetIosCss,\n    md: actionSheetMdCss\n  }; }\n};\nconst buttonClass$3 = (button) => {\n  return Object.assign({ 'action-sheet-button': true, 'ion-activatable': true, 'ion-focusable': true, [`action-sheet-${button.role}`]: button.role !== undefined }, getClassMap(button.cssClass));\n};\nActionSheet = /*@__PURE__*/ proxyCustomElement(ActionSheet, [34, \"ion-action-sheet\", {\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"buttons\": [16],\n    \"cssClass\": [1, \"css-class\"],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"header\": [1],\n    \"subHeader\": [1, \"sub-header\"],\n    \"translucent\": [4],\n    \"animated\": [4],\n    \"htmlAttributes\": [16],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }]);\nfunction defineCustomElement$6() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-action-sheet\", \"ion-backdrop\", \"ion-icon\", \"ion-ripple-effect\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-action-sheet\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, ActionSheet);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n    case \"ion-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$8();\n      }\n      break;\n    case \"ion-ripple-effect\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$7();\n      }\n      break;\n  } });\n}\n\n/**\n * iOS Alert Enter Animation\n */\nconst iosEnterAnimation$5 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.alert-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: '0.01', transform: 'scale(1.1)' },\n    { offset: 1, opacity: '1', transform: 'scale(1)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * iOS Alert Leave Animation\n */\nconst iosLeaveAnimation$5 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.alert-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: 0.99, transform: 'scale(1)' },\n    { offset: 1, opacity: 0, transform: 'scale(0.9)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * Md Alert Enter Animation\n */\nconst mdEnterAnimation$4 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.alert-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: '0.01', transform: 'scale(0.9)' },\n    { offset: 1, opacity: '1', transform: 'scale(1)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(150)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * Md Alert Leave Animation\n */\nconst mdLeaveAnimation$4 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.alert-wrapper'))\n    .fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(150)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst alertIosCss = \".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}\";\n\nconst alertMdCss = \".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}\";\n\nlet Alert = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.didPresent = createEvent(this, \"ionAlertDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionAlertWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionAlertWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionAlertDidDismiss\", 7);\n    this.processedInputs = [];\n    this.processedButtons = [];\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * Array of buttons to be added to the alert.\n     */\n    this.buttons = [];\n    /**\n     * Array of input to show in the alert.\n     */\n    this.inputs = [];\n    /**\n     * If `true`, the alert will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the alert will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the alert will animate.\n     */\n    this.animated = true;\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.dispatchCancelHandler = (ev) => {\n      const role = ev.detail.role;\n      if (isCancel(role)) {\n        const cancelButton = this.processedButtons.find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n  onKeydown(ev) {\n    const inputTypes = new Set(this.processedInputs.map(i => i.type));\n    // The only inputs we want to navigate between using arrow keys are the radios\n    // ignore the keydown event if it is not on a radio button\n    if (!inputTypes.has('radio')\n      || (ev.target && !this.el.contains(ev.target))\n      || ev.target.classList.contains('alert-button')) {\n      return;\n    }\n    // Get all radios inside of the radio group and then\n    // filter out disabled radios since we need to skip those\n    const query = this.el.querySelectorAll('.alert-radio');\n    const radios = Array.from(query).filter(radio => !radio.disabled);\n    // The focused radio is the one that shares the same id as\n    // the event target\n    const index = radios.findIndex(radio => radio.id === ev.target.id);\n    // We need to know what the next radio element should\n    // be in order to change the focus\n    let nextEl;\n    // If hitting arrow down or arrow right, move to the next radio\n    // If we're on the last radio, move to the first radio\n    if (['ArrowDown', 'ArrowRight'].includes(ev.code)) {\n      nextEl = (index === radios.length - 1)\n        ? radios[0]\n        : radios[index + 1];\n    }\n    // If hitting arrow up or arrow left, move to the previous radio\n    // If we're on the first radio, move to the last radio\n    if (['ArrowUp', 'ArrowLeft'].includes(ev.code)) {\n      nextEl = (index === 0)\n        ? radios[radios.length - 1]\n        : radios[index - 1];\n    }\n    if (nextEl && radios.includes(nextEl)) {\n      const nextProcessed = this.processedInputs.find(input => input.id === (nextEl === null || nextEl === void 0 ? void 0 : nextEl.id));\n      if (nextProcessed) {\n        this.rbClick(nextProcessed);\n        nextEl.focus();\n      }\n    }\n  }\n  buttonsChanged() {\n    const buttons = this.buttons;\n    this.processedButtons = buttons.map(btn => {\n      return (typeof btn === 'string')\n        ? { text: btn, role: btn.toLowerCase() === 'cancel' ? 'cancel' : undefined }\n        : btn;\n    });\n  }\n  inputsChanged() {\n    const inputs = this.inputs;\n    // Get the first input that is not disabled and the checked one\n    // If an enabled checked input exists, set it to be the focusable input\n    // otherwise we default to focus the first input\n    // This will only be used when the input is type radio\n    const first = inputs.find(input => !input.disabled);\n    const checked = inputs.find(input => input.checked && !input.disabled);\n    const focusable = checked || first;\n    // An alert can be created with several different inputs. Radios,\n    // checkboxes and inputs are all accepted, but they cannot be mixed.\n    const inputTypes = new Set(inputs.map(i => i.type));\n    if (inputTypes.has('checkbox') && inputTypes.has('radio')) {\n      console.warn(`Alert cannot mix input types: ${(Array.from(inputTypes.values()).join('/'))}. Please see alert docs for more info.`);\n    }\n    this.inputType = inputTypes.values().next().value;\n    this.processedInputs = inputs.map((i, index) => ({\n      type: i.type || 'text',\n      name: i.name || `${index}`,\n      placeholder: i.placeholder || '',\n      value: i.value,\n      label: i.label,\n      checked: !!i.checked,\n      disabled: !!i.disabled,\n      id: i.id || `alert-input-${this.overlayIndex}-${index}`,\n      handler: i.handler,\n      min: i.min,\n      max: i.max,\n      cssClass: i.cssClass || '',\n      attributes: i.attributes || {},\n      tabindex: (i.type === 'radio' && i !== focusable) ? -1 : 0\n    }));\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  componentWillLoad() {\n    this.inputsChanged();\n    this.buttonsChanged();\n  }\n  disconnectedCallback() {\n    if (this.gesture) {\n      this.gesture.destroy();\n      this.gesture = undefined;\n    }\n  }\n  componentDidLoad() {\n    /**\n     * Do not create gesture if:\n     * 1. A gesture already exists\n     * 2. App is running in MD mode\n     * 3. A wrapper ref does not exist\n     */\n    if (this.gesture || getIonMode(this) === 'md' || !this.wrapperEl) {\n      return;\n    }\n    this.gesture = createButtonActiveGesture(this.wrapperEl, (refEl) => refEl.classList.contains('alert-button'));\n    this.gesture.enable(true);\n  }\n  /**\n   * Present the alert overlay after it has been created.\n   */\n  present() {\n    return present(this, 'alertEnter', iosEnterAnimation$5, mdEnterAnimation$4);\n  }\n  /**\n   * Dismiss the alert overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the alert.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the alert.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n  dismiss(data, role) {\n    return dismiss(this, data, role, 'alertLeave', iosLeaveAnimation$5, mdLeaveAnimation$4);\n  }\n  /**\n   * Returns a promise that resolves when the alert did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionAlertDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the alert will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionAlertWillDismiss');\n  }\n  rbClick(selectedInput) {\n    for (const input of this.processedInputs) {\n      input.checked = input === selectedInput;\n      input.tabindex = input === selectedInput ? 0 : -1;\n    }\n    this.activeId = selectedInput.id;\n    safeCall(selectedInput.handler, selectedInput);\n    forceUpdate(this);\n  }\n  cbClick(selectedInput) {\n    selectedInput.checked = !selectedInput.checked;\n    safeCall(selectedInput.handler, selectedInput);\n    forceUpdate(this);\n  }\n  buttonClick(button) {\n    const role = button.role;\n    const values = this.getValues();\n    if (isCancel(role)) {\n      return this.dismiss({ values }, role);\n    }\n    const returnData = this.callButtonHandler(button, values);\n    if (returnData !== false) {\n      return this.dismiss(Object.assign({ values }, returnData), button.role);\n    }\n    return Promise.resolve(false);\n  }\n  callButtonHandler(button, data) {\n    if (button && button.handler) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const returnData = safeCall(button.handler, data);\n      if (returnData === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n      if (typeof returnData === 'object') {\n        return returnData;\n      }\n    }\n    return {};\n  }\n  getValues() {\n    if (this.processedInputs.length === 0) {\n      // this is an alert without any options/inputs at all\n      return undefined;\n    }\n    if (this.inputType === 'radio') {\n      // this is an alert with radio buttons (single value select)\n      // return the one value which is checked, otherwise undefined\n      const checkedInput = this.processedInputs.find(i => !!i.checked);\n      return checkedInput ? checkedInput.value : undefined;\n    }\n    if (this.inputType === 'checkbox') {\n      // this is an alert with checkboxes (multiple value select)\n      // return an array of all the checked values\n      return this.processedInputs.filter(i => i.checked).map(i => i.value);\n    }\n    // this is an alert with text inputs\n    // return an object of all the values with the input name as the key\n    const values = {};\n    this.processedInputs.forEach(i => {\n      values[i.name] = i.value || '';\n    });\n    return values;\n  }\n  renderAlertInputs() {\n    switch (this.inputType) {\n      case 'checkbox': return this.renderCheckbox();\n      case 'radio': return this.renderRadio();\n      default: return this.renderInput();\n    }\n  }\n  renderCheckbox() {\n    const inputs = this.processedInputs;\n    const mode = getIonMode(this);\n    if (inputs.length === 0) {\n      return null;\n    }\n    return (h(\"div\", { class: \"alert-checkbox-group\" }, inputs.map(i => (h(\"button\", { type: \"button\", onClick: () => this.cbClick(i), \"aria-checked\": `${i.checked}`, id: i.id, disabled: i.disabled, tabIndex: i.tabindex, role: \"checkbox\", class: Object.assign(Object.assign({}, getClassMap(i.cssClass)), { 'alert-tappable': true, 'alert-checkbox': true, 'alert-checkbox-button': true, 'ion-focusable': true, 'alert-checkbox-button-disabled': i.disabled || false }) }, h(\"div\", { class: \"alert-button-inner\" }, h(\"div\", { class: \"alert-checkbox-icon\" }, h(\"div\", { class: \"alert-checkbox-inner\" })), h(\"div\", { class: \"alert-checkbox-label\" }, i.label)), mode === 'md' && h(\"ion-ripple-effect\", null))))));\n  }\n  renderRadio() {\n    const inputs = this.processedInputs;\n    if (inputs.length === 0) {\n      return null;\n    }\n    return (h(\"div\", { class: \"alert-radio-group\", role: \"radiogroup\", \"aria-activedescendant\": this.activeId }, inputs.map(i => (h(\"button\", { type: \"button\", onClick: () => this.rbClick(i), \"aria-checked\": `${i.checked}`, disabled: i.disabled, id: i.id, tabIndex: i.tabindex, class: Object.assign(Object.assign({}, getClassMap(i.cssClass)), { 'alert-radio-button': true, 'alert-tappable': true, 'alert-radio': true, 'ion-focusable': true, 'alert-radio-button-disabled': i.disabled || false }), role: \"radio\" }, h(\"div\", { class: \"alert-button-inner\" }, h(\"div\", { class: \"alert-radio-icon\" }, h(\"div\", { class: \"alert-radio-inner\" })), h(\"div\", { class: \"alert-radio-label\" }, i.label)))))));\n  }\n  renderInput() {\n    const inputs = this.processedInputs;\n    if (inputs.length === 0) {\n      return null;\n    }\n    return (h(\"div\", { class: \"alert-input-group\" }, inputs.map(i => {\n      var _a, _b, _c, _d;\n      if (i.type === 'textarea') {\n        return (h(\"div\", { class: \"alert-input-wrapper\" }, h(\"textarea\", Object.assign({ placeholder: i.placeholder, value: i.value, id: i.id, tabIndex: i.tabindex }, i.attributes, { disabled: (_b = (_a = i.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : i.disabled, class: inputClass(i), onInput: e => {\n            var _a;\n            i.value = e.target.value;\n            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {\n              i.attributes.onInput(e);\n            }\n          } }))));\n      }\n      else {\n        return (h(\"div\", { class: \"alert-input-wrapper\" }, h(\"input\", Object.assign({ placeholder: i.placeholder, type: i.type, min: i.min, max: i.max, value: i.value, id: i.id, tabIndex: i.tabindex }, i.attributes, { disabled: (_d = (_c = i.attributes) === null || _c === void 0 ? void 0 : _c.disabled) !== null && _d !== void 0 ? _d : i.disabled, class: inputClass(i), onInput: e => {\n            var _a;\n            i.value = e.target.value;\n            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {\n              i.attributes.onInput(e);\n            }\n          } }))));\n      }\n    })));\n  }\n  renderAlertButtons() {\n    const buttons = this.processedButtons;\n    const mode = getIonMode(this);\n    const alertButtonGroupClass = {\n      'alert-button-group': true,\n      'alert-button-group-vertical': buttons.length > 2\n    };\n    return (h(\"div\", { class: alertButtonGroupClass }, buttons.map(button => h(\"button\", { type: \"button\", id: button.id, class: buttonClass$2(button), tabIndex: 0, onClick: () => this.buttonClick(button) }, h(\"span\", { class: \"alert-button-inner\" }, button.text), mode === 'md' && h(\"ion-ripple-effect\", null)))));\n  }\n  render() {\n    const { overlayIndex, header, subHeader, htmlAttributes } = this;\n    const mode = getIonMode(this);\n    const hdrId = `alert-${overlayIndex}-hdr`;\n    const subHdrId = `alert-${overlayIndex}-sub-hdr`;\n    const msgId = `alert-${overlayIndex}-msg`;\n    const role = this.inputs.length > 0 || this.buttons.length > 0 ? 'alertdialog' : 'alert';\n    return (h(Host, Object.assign({ role: role, \"aria-modal\": \"true\", tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + overlayIndex}`,\n      }, class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), { [mode]: true, 'overlay-hidden': true, 'alert-translucent': this.translucent }), onIonAlertWillDismiss: this.dispatchCancelHandler, onIonBackdropTap: this.onBackdropTap }), h(\"ion-backdrop\", { tappable: this.backdropDismiss }), h(\"div\", { tabindex: \"0\" }), h(\"div\", { class: \"alert-wrapper ion-overlay-wrapper\", ref: el => this.wrapperEl = el }, h(\"div\", { class: \"alert-head\" }, header && h(\"h2\", { id: hdrId, class: \"alert-title\" }, header), subHeader && h(\"h2\", { id: subHdrId, class: \"alert-sub-title\" }, subHeader)), h(\"div\", { id: msgId, class: \"alert-message\", innerHTML: sanitizeDOMString(this.message) }), this.renderAlertInputs(), this.renderAlertButtons()), h(\"div\", { tabindex: \"0\" })));\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"buttons\": [\"buttonsChanged\"],\n    \"inputs\": [\"inputsChanged\"]\n  }; }\n  static get style() { return {\n    ios: alertIosCss,\n    md: alertMdCss\n  }; }\n};\nconst inputClass = (input) => {\n  var _a, _b, _c;\n  return Object.assign(Object.assign({ 'alert-input': true, 'alert-input-disabled': ((_b = (_a = input.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : input.disabled) || false }, getClassMap(input.cssClass)), getClassMap(input.attributes ? (_c = input.attributes.class) === null || _c === void 0 ? void 0 : _c.toString() : ''));\n};\nconst buttonClass$2 = (button) => {\n  return Object.assign({ 'alert-button': true, 'ion-focusable': true, 'ion-activatable': true, [`alert-button-role-${button.role}`]: button.role !== undefined }, getClassMap(button.cssClass));\n};\nAlert = /*@__PURE__*/ proxyCustomElement(Alert, [34, \"ion-alert\", {\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"cssClass\": [1, \"css-class\"],\n    \"header\": [1],\n    \"subHeader\": [1, \"sub-header\"],\n    \"message\": [1],\n    \"buttons\": [16],\n    \"inputs\": [1040],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"translucent\": [4],\n    \"animated\": [4],\n    \"htmlAttributes\": [16],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }, [[4, \"keydown\", \"onKeydown\"]]]);\nfunction defineCustomElement$5() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-alert\", \"ion-backdrop\", \"ion-ripple-effect\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-alert\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Alert);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n    case \"ion-ripple-effect\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$7();\n      }\n      break;\n  } });\n}\n\n/**\n * iOS Loading Enter Animation\n */\nconst iosEnterAnimation$4 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.loading-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: 0.01, transform: 'scale(1.1)' },\n    { offset: 1, opacity: 1, transform: 'scale(1)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * iOS Loading Leave Animation\n */\nconst iosLeaveAnimation$4 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.loading-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: 0.99, transform: 'scale(1)' },\n    { offset: 1, opacity: 0, transform: 'scale(0.9)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * Md Loading Enter Animation\n */\nconst mdEnterAnimation$3 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.loading-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: 0.01, transform: 'scale(1.1)' },\n    { offset: 1, opacity: 1, transform: 'scale(1)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * Md Loading Leave Animation\n */\nconst mdLeaveAnimation$3 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.loading-wrapper'))\n    .keyframes([\n    { offset: 0, opacity: 0.99, transform: 'scale(1)' },\n    { offset: 1, opacity: 0, transform: 'scale(0.9)' }\n  ]);\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('ease-in-out')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst loadingIosCss = \".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}\";\n\nconst loadingMdCss = \".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}\";\n\nlet Loading = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.didPresent = createEvent(this, \"ionLoadingDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionLoadingWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionLoadingWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionLoadingDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * Number of milliseconds to wait before dismissing the loading indicator.\n     */\n    this.duration = 0;\n    /**\n     * If `true`, the loading indicator will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = false;\n    /**\n     * If `true`, a backdrop will be displayed behind the loading indicator.\n     */\n    this.showBackdrop = true;\n    /**\n     * If `true`, the loading indicator will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the loading indicator will animate.\n     */\n    this.animated = true;\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  componentWillLoad() {\n    if (this.spinner === undefined) {\n      const mode = getIonMode(this);\n      this.spinner = config.get('loadingSpinner', config.get('spinner', mode === 'ios' ? 'lines' : 'crescent'));\n    }\n  }\n  /**\n   * Present the loading overlay after it has been created.\n   */\n  async present() {\n    await present(this, 'loadingEnter', iosEnterAnimation$4, mdEnterAnimation$3, undefined);\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration + 10);\n    }\n  }\n  /**\n   * Dismiss the loading overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the loading.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the loading.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n    return dismiss(this, data, role, 'loadingLeave', iosLeaveAnimation$4, mdLeaveAnimation$3);\n  }\n  /**\n   * Returns a promise that resolves when the loading did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionLoadingDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the loading will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionLoadingWillDismiss');\n  }\n  render() {\n    const { message, spinner, htmlAttributes } = this;\n    const mode = getIonMode(this);\n    return (h(Host, Object.assign({ tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${40000 + this.overlayIndex}`\n      }, onIonBackdropTap: this.onBackdropTap, class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), { [mode]: true, 'overlay-hidden': true, 'loading-translucent': this.translucent }) }), h(\"ion-backdrop\", { visible: this.showBackdrop, tappable: this.backdropDismiss }), h(\"div\", { tabindex: \"0\" }), h(\"div\", { class: \"loading-wrapper ion-overlay-wrapper\", role: \"dialog\" }, spinner && (h(\"div\", { class: \"loading-spinner\" }, h(\"ion-spinner\", { name: spinner, \"aria-hidden\": \"true\" }))), message && h(\"div\", { class: \"loading-content\", innerHTML: sanitizeDOMString(message) })), h(\"div\", { tabindex: \"0\" })));\n  }\n  get el() { return this; }\n  static get style() { return {\n    ios: loadingIosCss,\n    md: loadingMdCss\n  }; }\n};\nLoading = /*@__PURE__*/ proxyCustomElement(Loading, [34, \"ion-loading\", {\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"message\": [1],\n    \"cssClass\": [1, \"css-class\"],\n    \"duration\": [2],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"showBackdrop\": [4, \"show-backdrop\"],\n    \"spinner\": [1025],\n    \"translucent\": [4],\n    \"animated\": [4],\n    \"htmlAttributes\": [16],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }]);\nfunction defineCustomElement$4() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-loading\", \"ion-backdrop\", \"ion-spinner\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-loading\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Loading);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n    case \"ion-spinner\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$a();\n      }\n      break;\n  } });\n}\n\n// Defaults for the card swipe animation\nconst SwipeToCloseDefaults = {\n  MIN_PRESENTING_SCALE: 0.93,\n};\nconst createSwipeToCloseGesture = (el, animation, onDismiss) => {\n  const height = el.offsetHeight;\n  let isOpen = false;\n  const canStart = (detail) => {\n    const target = detail.event.target;\n    if (target === null ||\n      !target.closest) {\n      return true;\n    }\n    const contentOrFooter = target.closest('ion-content, ion-footer');\n    if (contentOrFooter === null) {\n      return true;\n    }\n    // Target is in the content or the footer so do not start the gesture.\n    // We could be more nuanced here and allow it for content that\n    // does not need to scroll.\n    return false;\n  };\n  const onStart = () => {\n    animation.progressStart(true, (isOpen) ? 1 : 0);\n  };\n  const onMove = (detail) => {\n    const step = clamp(0.0001, detail.deltaY / height, 0.9999);\n    animation.progressStep(step);\n  };\n  const onEnd = (detail) => {\n    const velocity = detail.velocityY;\n    const step = clamp(0.0001, detail.deltaY / height, 0.9999);\n    const threshold = (detail.deltaY + velocity * 1000) / height;\n    const shouldComplete = threshold >= 0.5;\n    let newStepValue = (shouldComplete) ? -0.001 : 0.001;\n    if (!shouldComplete) {\n      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');\n      newStepValue += getTimeGivenProgression([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];\n    }\n    else {\n      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');\n      newStepValue += getTimeGivenProgression([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];\n    }\n    const duration = (shouldComplete) ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);\n    isOpen = shouldComplete;\n    gesture.enable(false);\n    animation\n      .onFinish(() => {\n      if (!shouldComplete) {\n        gesture.enable(true);\n      }\n    })\n      .progressEnd((shouldComplete) ? 1 : 0, newStepValue, duration);\n    if (shouldComplete) {\n      onDismiss();\n    }\n  };\n  const gesture = createGesture({\n    el,\n    gestureName: 'modalSwipeToClose',\n    gesturePriority: 40,\n    direction: 'y',\n    threshold: 10,\n    canStart,\n    onStart,\n    onMove,\n    onEnd\n  });\n  return gesture;\n};\nconst computeDuration = (remaining, velocity) => {\n  return clamp(400, remaining / Math.abs(velocity * 1.1), 500);\n};\n\n/**\n * Use y = mx + b to\n * figure out the backdrop value\n * at a particular x coordinate. This\n * is useful when the backdrop does\n * not begin to fade in until after\n * the 0 breakpoint.\n */\nconst getBackdropValueForSheet = (x, backdropBreakpoint) => {\n  /**\n   * We will use these points:\n   * (backdropBreakpoint, 0)\n   * (maxBreakpoint, 1)\n   * We know that at the beginning breakpoint,\n   * the backdrop will be hidden. We also\n   * know that at the maxBreakpoint, the backdrop\n   * must be fully visible. maxBreakpoint should\n   * always be 1 even if the maximum value\n   * of the breakpoints array is not 1 since\n   * the animation runs from a progress of 0\n   * to a progress of 1.\n   * m = (y2 - y1) / (x2 - x1)\n   *\n   * This is simplified from:\n   * m = (1 - 0) / (maxBreakpoint - backdropBreakpoint)\n   */\n  const slope = 1 / (1 - backdropBreakpoint);\n  /**\n   * From here, compute b which is\n   * the backdrop opacity if the offset\n   * is 0. If the backdrop does not\n   * begin to fade in until after the\n   * 0 breakpoint, this b value will be\n   * negative. This is fine as we never pass\n   * b directly into the animation keyframes.\n   * b = y - mx\n   * Use a known point: (backdropBreakpoint, 0)\n   * This is simplified from:\n   * b = 0 - (backdropBreakpoint * slope)\n   */\n  const b = -(backdropBreakpoint * slope);\n  /**\n   * Finally, we can now determine the\n   * backdrop offset given an arbitrary\n   * gesture offset.\n   */\n  return (x * slope) + b;\n};\n\nconst createSheetEnterAnimation = (opts) => {\n  const { currentBreakpoint, backdropBreakpoint } = opts;\n  /**\n   * If the backdropBreakpoint is undefined, then the backdrop\n   * should always fade in. If the backdropBreakpoint came before the\n   * current breakpoint, then the backdrop should be fading in.\n   */\n  const shouldShowBackdrop = backdropBreakpoint === undefined || backdropBreakpoint < currentBreakpoint;\n  const initialBackdrop = shouldShowBackdrop ? `calc(var(--backdrop-opacity) * ${currentBreakpoint})` : '0';\n  const backdropAnimation = createAnimation('backdropAnimation')\n    .fromTo('opacity', 0, initialBackdrop);\n  const wrapperAnimation = createAnimation('wrapperAnimation')\n    .keyframes([\n    { offset: 0, opacity: 1, transform: 'translateY(100%)' },\n    { offset: 1, opacity: 1, transform: `translateY(${100 - (currentBreakpoint * 100)}%)` }\n  ]);\n  return { wrapperAnimation, backdropAnimation };\n};\nconst createSheetLeaveAnimation = (opts) => {\n  const { currentBreakpoint, backdropBreakpoint } = opts;\n  /**\n   * Backdrop does not always fade in from 0 to 1 if backdropBreakpoint\n   * is defined, so we need to account for that offset by figuring out\n   * what the current backdrop value should be.\n   */\n  const backdropValue = `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(currentBreakpoint, backdropBreakpoint)})`;\n  const defaultBackdrop = [\n    { offset: 0, opacity: backdropValue },\n    { offset: 1, opacity: 0 }\n  ];\n  const customBackdrop = [\n    { offset: 0, opacity: backdropValue },\n    { offset: backdropBreakpoint, opacity: 0 },\n    { offset: 1, opacity: 0 }\n  ];\n  const backdropAnimation = createAnimation('backdropAnimation')\n    .keyframes(backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop);\n  const wrapperAnimation = createAnimation('wrapperAnimation')\n    .keyframes([\n    { offset: 0, opacity: 1, transform: `translateY(${100 - (currentBreakpoint * 100)}%)` },\n    { offset: 1, opacity: 1, transform: `translateY(100%)` }\n  ]);\n  return { wrapperAnimation, backdropAnimation };\n};\n\nconst createEnterAnimation$1 = () => {\n  const backdropAnimation = createAnimation()\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)');\n  const wrapperAnimation = createAnimation()\n    .fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');\n  return { backdropAnimation, wrapperAnimation };\n};\n/**\n * iOS Modal Enter Animation for the Card presentation style\n */\nconst iosEnterAnimation$3 = (baseEl, opts) => {\n  const { presentingEl, currentBreakpoint } = opts;\n  const root = getElementRoot(baseEl);\n  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation$1();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow'))\n    .beforeStyles({ 'opacity': 1 });\n  const baseAnimation = createAnimation('entering-base')\n    .addElement(baseEl)\n    .easing('cubic-bezier(0.32,0.72,0,1)')\n    .duration(500)\n    .addAnimation(wrapperAnimation);\n  if (presentingEl) {\n    const isMobile = window.innerWidth < 768;\n    const hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);\n    const presentingElRoot = getElementRoot(presentingEl);\n    const presentingAnimation = createAnimation()\n      .beforeStyles({\n      'transform': 'translateY(0)',\n      'transform-origin': 'top center',\n      'overflow': 'hidden'\n    });\n    const bodyEl = document.body;\n    if (isMobile) {\n      /**\n       * Fallback for browsers that does not support `max()` (ex: Firefox)\n       * No need to worry about statusbar padding since engines like Gecko\n       * are not used as the engine for standalone Cordova/Capacitor apps\n       */\n      const transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n      const modalTransform = hasCardModal ? '-10px' : transformOffset;\n      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;\n      presentingAnimation\n        .afterStyles({\n        'transform': finalTransform\n      })\n        .beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black'))\n        .addElement(presentingEl)\n        .keyframes([\n        { offset: 0, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' },\n        { offset: 1, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' }\n      ]);\n      baseAnimation.addAnimation(presentingAnimation);\n    }\n    else {\n      baseAnimation.addAnimation(backdropAnimation);\n      if (!hasCardModal) {\n        wrapperAnimation.fromTo('opacity', '0', '1');\n      }\n      else {\n        const toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;\n        presentingAnimation\n          .afterStyles({\n          'transform': finalTransform\n        })\n          .addElement(presentingElRoot.querySelector('.modal-wrapper'))\n          .keyframes([\n          { offset: 0, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' },\n          { offset: 1, filter: 'contrast(0.85)', transform: finalTransform }\n        ]);\n        const shadowAnimation = createAnimation()\n          .afterStyles({\n          'transform': finalTransform\n        })\n          .addElement(presentingElRoot.querySelector('.modal-shadow'))\n          .keyframes([\n          { offset: 0, opacity: '1', transform: 'translateY(0) scale(1)' },\n          { offset: 1, opacity: '0', transform: finalTransform }\n        ]);\n        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n      }\n    }\n  }\n  else {\n    baseAnimation.addAnimation(backdropAnimation);\n  }\n  return baseAnimation;\n};\n\nconst createLeaveAnimation$1 = () => {\n  const backdropAnimation = createAnimation()\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  const wrapperAnimation = createAnimation()\n    .fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');\n  return { backdropAnimation, wrapperAnimation };\n};\n/**\n * iOS Modal Leave Animation\n */\nconst iosLeaveAnimation$3 = (baseEl, opts, duration = 500) => {\n  const { presentingEl, currentBreakpoint } = opts;\n  const root = getElementRoot(baseEl);\n  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation$1();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop'));\n  wrapperAnimation\n    .addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow'))\n    .beforeStyles({ 'opacity': 1 });\n  const baseAnimation = createAnimation('leaving-base')\n    .addElement(baseEl)\n    .easing('cubic-bezier(0.32,0.72,0,1)')\n    .duration(duration)\n    .addAnimation(wrapperAnimation);\n  if (presentingEl) {\n    const isMobile = window.innerWidth < 768;\n    const hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);\n    const presentingElRoot = getElementRoot(presentingEl);\n    const presentingAnimation = createAnimation()\n      .beforeClearStyles(['transform'])\n      .afterClearStyles(['transform'])\n      .onFinish(currentStep => {\n      // only reset background color if this is the last card-style modal\n      if (currentStep !== 1) {\n        return;\n      }\n      presentingEl.style.setProperty('overflow', '');\n      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(m => m.presentingElement !== undefined).length;\n      if (numModals <= 1) {\n        bodyEl.style.setProperty('background-color', '');\n      }\n    });\n    const bodyEl = document.body;\n    if (isMobile) {\n      const transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';\n      const modalTransform = hasCardModal ? '-10px' : transformOffset;\n      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;\n      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;\n      presentingAnimation\n        .addElement(presentingEl)\n        .keyframes([\n        { offset: 0, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' },\n        { offset: 1, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' }\n      ]);\n      baseAnimation.addAnimation(presentingAnimation);\n    }\n    else {\n      baseAnimation.addAnimation(backdropAnimation);\n      if (!hasCardModal) {\n        wrapperAnimation.fromTo('opacity', '1', '0');\n      }\n      else {\n        const toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;\n        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;\n        presentingAnimation\n          .addElement(presentingElRoot.querySelector('.modal-wrapper'))\n          .afterStyles({\n          'transform': 'translate3d(0, 0, 0)'\n        })\n          .keyframes([\n          { offset: 0, filter: 'contrast(0.85)', transform: finalTransform },\n          { offset: 1, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' }\n        ]);\n        const shadowAnimation = createAnimation()\n          .addElement(presentingElRoot.querySelector('.modal-shadow'))\n          .afterStyles({\n          'transform': 'translateY(0) scale(1)'\n        })\n          .keyframes([\n          { offset: 0, opacity: '0', transform: finalTransform },\n          { offset: 1, opacity: '1', transform: 'translateY(0) scale(1)' }\n        ]);\n        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);\n      }\n    }\n  }\n  else {\n    baseAnimation.addAnimation(backdropAnimation);\n  }\n  return baseAnimation;\n};\n\nconst createEnterAnimation = () => {\n  const backdropAnimation = createAnimation()\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)');\n  const wrapperAnimation = createAnimation()\n    .keyframes([\n    { offset: 0, opacity: 0.01, transform: 'translateY(40px)' },\n    { offset: 1, opacity: 1, transform: `translateY(0px)` }\n  ]);\n  return { backdropAnimation, wrapperAnimation };\n};\n/**\n * Md Modal Enter Animation\n */\nconst mdEnterAnimation$2 = (baseEl, opts) => {\n  const { currentBreakpoint } = opts;\n  const root = getElementRoot(baseEl);\n  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(root.querySelector('.modal-wrapper'));\n  return createAnimation()\n    .addElement(baseEl)\n    .easing('cubic-bezier(0.36,0.66,0.04,1)')\n    .duration(280)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst createLeaveAnimation = () => {\n  const backdropAnimation = createAnimation()\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  const wrapperAnimation = createAnimation()\n    .keyframes([\n    { offset: 0, opacity: 0.99, transform: `translateY(0px)` },\n    { offset: 1, opacity: 0, transform: 'translateY(40px)' }\n  ]);\n  return { backdropAnimation, wrapperAnimation };\n};\n/**\n * Md Modal Leave Animation\n */\nconst mdLeaveAnimation$2 = (baseEl, opts) => {\n  const { currentBreakpoint } = opts;\n  const root = getElementRoot(baseEl);\n  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop'));\n  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));\n  return createAnimation()\n    .easing('cubic-bezier(0.47,0,0.745,0.715)')\n    .duration(200)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst createSheetGesture = (baseEl, backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, animation, breakpoints = [], onDismiss, onBreakpointChange) => {\n  // Defaults for the sheet swipe animation\n  const defaultBackdrop = [\n    { offset: 0, opacity: 'var(--backdrop-opacity)' },\n    { offset: 1, opacity: 0.01 }\n  ];\n  const customBackdrop = [\n    { offset: 0, opacity: 'var(--backdrop-opacity)' },\n    { offset: 1 - backdropBreakpoint, opacity: 0 },\n    { offset: 1, opacity: 0 }\n  ];\n  const SheetDefaults = {\n    WRAPPER_KEYFRAMES: [\n      { offset: 0, transform: 'translateY(0%)' },\n      { offset: 1, transform: 'translateY(100%)' }\n    ],\n    BACKDROP_KEYFRAMES: (backdropBreakpoint !== 0) ? customBackdrop : defaultBackdrop\n  };\n  const contentEl = baseEl.querySelector('ion-content');\n  const height = wrapperEl.clientHeight;\n  let currentBreakpoint = initialBreakpoint;\n  let offset = 0;\n  const wrapperAnimation = animation.childAnimations.find(ani => ani.id === 'wrapperAnimation');\n  const backdropAnimation = animation.childAnimations.find(ani => ani.id === 'backdropAnimation');\n  const maxBreakpoint = breakpoints[breakpoints.length - 1];\n  /**\n   * After the entering animation completes,\n   * we need to set the animation to go from\n   * offset 0 to offset 1 so that users can\n   * swipe in any direction. We then set the\n   * animation offset to the current breakpoint\n   * so there is no flickering.\n   */\n  if (wrapperAnimation && backdropAnimation) {\n    wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);\n    backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);\n    animation.progressStart(true, 1 - currentBreakpoint);\n    /**\n     * Backdrop should become enabled\n     * after the backdropBreakpoint value\n     */\n    const backdropEnabled = currentBreakpoint > backdropBreakpoint;\n    backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');\n  }\n  if (contentEl && currentBreakpoint !== maxBreakpoint) {\n    contentEl.scrollY = false;\n  }\n  const canStart = (detail) => {\n    /**\n     * If the sheet is fully expanded and\n     * the user is swiping on the content,\n     * the gesture should not start to\n     * allow for scrolling on the content.\n     */\n    const content = detail.event.target.closest('ion-content');\n    if (currentBreakpoint === 1 && content) {\n      return false;\n    }\n    return true;\n  };\n  const onStart = () => {\n    /**\n     * If swiping on the content\n     * we should disable scrolling otherwise\n     * the sheet will expand and the content will scroll.\n     */\n    if (contentEl) {\n      contentEl.scrollY = false;\n    }\n    animation.progressStart(true, 1 - currentBreakpoint);\n  };\n  const onMove = (detail) => {\n    /**\n     * Given the change in gesture position on the Y axis,\n     * compute where the offset of the animation should be\n     * relative to where the user dragged.\n     */\n    const initialStep = 1 - currentBreakpoint;\n    offset = clamp(0.0001, initialStep + (detail.deltaY / height), 0.9999);\n    animation.progressStep(offset);\n  };\n  const onEnd = (detail) => {\n    /**\n     * When the gesture releases, we need to determine\n     * the closest breakpoint to snap to.\n     */\n    const velocity = detail.velocityY;\n    const threshold = (detail.deltaY + velocity * 100) / height;\n    const diff = currentBreakpoint - threshold;\n    const closest = breakpoints.reduce((a, b) => {\n      return Math.abs(b - diff) < Math.abs(a - diff) ? b : a;\n    });\n    const shouldRemainOpen = closest !== 0;\n    currentBreakpoint = 0;\n    /**\n     * Update the animation so that it plays from\n     * the last offset to the closest snap point.\n     */\n    if (wrapperAnimation && backdropAnimation) {\n      wrapperAnimation.keyframes([\n        { offset: 0, transform: `translateY(${offset * 100}%)` },\n        { offset: 1, transform: `translateY(${(1 - closest) * 100}%)` }\n      ]);\n      backdropAnimation.keyframes([\n        { offset: 0, opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(1 - offset, backdropBreakpoint)})` },\n        { offset: 1, opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(closest, backdropBreakpoint)})` }\n      ]);\n      animation.progressStep(0);\n    }\n    /**\n     * Gesture should remain disabled until the\n     * snapping animation completes.\n     */\n    gesture.enable(false);\n    animation\n      .onFinish(() => {\n      if (shouldRemainOpen) {\n        /**\n         * Once the snapping animation completes,\n         * we need to reset the animation to go\n         * from 0 to 1 so users can swipe in any direction.\n         * We then set the animation offset to the current\n         * breakpoint so that it starts at the snapped position.\n         */\n        if (wrapperAnimation && backdropAnimation) {\n          raf(() => {\n            wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);\n            backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);\n            animation.progressStart(true, 1 - closest);\n            currentBreakpoint = closest;\n            onBreakpointChange(currentBreakpoint);\n            /**\n             * If the sheet is fully expanded, we can safely\n             * enable scrolling again.\n             */\n            if (contentEl && currentBreakpoint === breakpoints[breakpoints.length - 1]) {\n              contentEl.scrollY = true;\n            }\n            /**\n             * Backdrop should become enabled\n             * after the backdropBreakpoint value\n             */\n            const backdropEnabled = currentBreakpoint > backdropBreakpoint;\n            backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');\n            gesture.enable(true);\n          });\n        }\n        else {\n          gesture.enable(true);\n        }\n      }\n      /**\n       * This must be a one time callback\n       * otherwise a new callback will\n       * be added every time onEnd runs.\n       */\n    }, { oneTimeCallback: true })\n      .progressEnd(1, 0, 500);\n    if (!shouldRemainOpen) {\n      onDismiss();\n    }\n  };\n  const gesture = createGesture({\n    el: wrapperEl,\n    gestureName: 'modalSheet',\n    gesturePriority: 40,\n    direction: 'y',\n    threshold: 10,\n    canStart,\n    onStart,\n    onMove,\n    onEnd\n  });\n  return gesture;\n};\n\nconst modalIosCss = \":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}\";\n\nconst modalMdCss = \":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}\";\n\nlet Modal = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.didPresent = createEvent(this, \"ionModalDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionModalWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionModalWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionModalDidDismiss\", 7);\n    this.didPresentShorthand = createEvent(this, \"didPresent\", 7);\n    this.willPresentShorthand = createEvent(this, \"willPresent\", 7);\n    this.willDismissShorthand = createEvent(this, \"willDismiss\", 7);\n    this.didDismissShorthand = createEvent(this, \"didDismiss\", 7);\n    this.modalIndex = modalIds++;\n    this.coreDelegate = CoreDelegate();\n    this.isSheetModal = false;\n    this.inline = false;\n    // Whether or not modal is being dismissed via gesture\n    this.gestureAnimationDismissing = false;\n    this.presented = false;\n    /** @internal */\n    this.hasController = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * A decimal value between 0 and 1 that indicates the\n     * point after which the backdrop will begin to fade in\n     * when using a sheet modal. Prior to this point, the\n     * backdrop will be hidden and the content underneath\n     * the sheet can be interacted with. This value is exclusive\n     * meaning the backdrop will become active after the value\n     * specified.\n     */\n    this.backdropBreakpoint = 0;\n    /**\n     * If `true`, the modal will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, a backdrop will be displayed behind the modal.\n     */\n    this.showBackdrop = true;\n    /**\n     * If `true`, the modal will animate.\n     */\n    this.animated = true;\n    /**\n     * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.\n     */\n    this.swipeToClose = false;\n    /**\n     * If `true`, the modal will open. If `false`, the modal will close.\n     * Use this if you need finer grained control over presentation, otherwise\n     * just use the modalController or the `trigger` property.\n     * Note: `isOpen` will not automatically be set back to `false` when\n     * the modal dismisses. You will need to do that in your code.\n     */\n    this.isOpen = false;\n    this.configureTriggerInteraction = () => {\n      const { trigger, el, destroyTriggerInteraction } = this;\n      if (destroyTriggerInteraction) {\n        destroyTriggerInteraction();\n      }\n      const triggerEl = (trigger !== undefined) ? document.getElementById(trigger) : null;\n      if (!triggerEl) {\n        return;\n      }\n      const configureTriggerInteraction = (triggerEl, modalEl) => {\n        const openModal = () => {\n          modalEl.present();\n        };\n        triggerEl.addEventListener('click', openModal);\n        return () => {\n          triggerEl.removeEventListener('click', openModal);\n        };\n      };\n      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, el);\n    };\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.onDismiss = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.dismiss();\n    };\n    this.onLifecycle = (modalEvent) => {\n      const el = this.usersElement;\n      const name = LIFECYCLE_MAP$1[modalEvent.type];\n      if (el && name) {\n        const ev = new CustomEvent(name, {\n          bubbles: false,\n          cancelable: false,\n          detail: modalEvent.detail\n        });\n        el.dispatchEvent(ev);\n      }\n    };\n  }\n  onIsOpenChange(newValue, oldValue) {\n    if (newValue === true && oldValue === false) {\n      this.present();\n    }\n    else if (newValue === false && oldValue === true) {\n      this.dismiss();\n    }\n  }\n  onTriggerChange() {\n    this.configureTriggerInteraction();\n  }\n  swipeToCloseChanged(enable) {\n    if (this.gesture) {\n      this.gesture.enable(enable);\n    }\n    else if (enable) {\n      this.initSwipeToClose();\n    }\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  componentWillLoad() {\n    const { breakpoints, initialBreakpoint } = this;\n    /**\n     * If user has custom ID set then we should\n     * not assign the default incrementing ID.\n     */\n    this.modalId = (this.el.hasAttribute('id')) ? this.el.getAttribute('id') : `ion-modal-${this.modalIndex}`;\n    this.isSheetModal = breakpoints !== undefined && initialBreakpoint !== undefined;\n    if (breakpoints !== undefined && initialBreakpoint !== undefined && !breakpoints.includes(initialBreakpoint)) {\n      console.warn('[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.');\n    }\n  }\n  componentDidLoad() {\n    /**\n     * If modal was rendered with isOpen=\"true\"\n     * then we should open modal immediately.\n     */\n    if (this.isOpen === true) {\n      raf(() => this.present());\n    }\n    this.configureTriggerInteraction();\n  }\n  /**\n   * Determines whether or not an overlay\n   * is being used inline or via a controller/JS\n   * and returns the correct delegate.\n   * By default, subsequent calls to getDelegate\n   * will use a cached version of the delegate.\n   * This is useful for calling dismiss after\n   * present so that the correct delegate is given.\n   */\n  getDelegate(force = false) {\n    if (this.workingDelegate && !force) {\n      return {\n        delegate: this.workingDelegate,\n        inline: this.inline\n      };\n    }\n    /**\n     * If using overlay inline\n     * we potentially need to use the coreDelegate\n     * so that this works in vanilla JS apps.\n     * If a developer has presented this component\n     * via a controller, then we can assume\n     * the component is already in the\n     * correct place.\n     */\n    const parentEl = this.el.parentNode;\n    const inline = this.inline = parentEl !== null && !this.hasController;\n    const delegate = this.workingDelegate = (inline) ? this.delegate || this.coreDelegate : this.delegate;\n    return { inline, delegate };\n  }\n  /**\n   * Present the modal overlay after it has been created.\n   */\n  async present() {\n    if (this.presented) {\n      return;\n    }\n    /**\n     * When using an inline modal\n     * and dismissing a modal it is possible to\n     * quickly present the modal while it is\n     * dismissing. We need to await any current\n     * transition to allow the dismiss to finish\n     * before presenting again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const data = Object.assign(Object.assign({}, this.componentProps), { modal: this.el });\n    const { inline, delegate } = this.getDelegate(true);\n    this.usersElement = await attachComponent(delegate, this.el, this.component, ['ion-page'], data, inline);\n    await deepReady(this.usersElement);\n    writeTask(() => this.el.classList.add('show-modal'));\n    this.currentTransition = present(this, 'modalEnter', iosEnterAnimation$3, mdEnterAnimation$2, { presentingEl: this.presentingElement, currentBreakpoint: this.initialBreakpoint, backdropBreakpoint: this.backdropBreakpoint });\n    await this.currentTransition;\n    if (this.isSheetModal) {\n      this.initSheetGesture();\n    }\n    else if (this.swipeToClose) {\n      this.initSwipeToClose();\n    }\n    this.currentTransition = undefined;\n  }\n  initSwipeToClose() {\n    if (getIonMode(this) !== 'ios') {\n      return;\n    }\n    // All of the elements needed for the swipe gesture\n    // should be in the DOM and referenced by now, except\n    // for the presenting el\n    const animationBuilder = this.leaveAnimation || config.get('modalLeave', iosLeaveAnimation$3);\n    const ani = this.animation = animationBuilder(this.el, { presentingEl: this.presentingElement });\n    this.gesture = createSwipeToCloseGesture(this.el, ani, () => {\n      /**\n       * While the gesture animation is finishing\n       * it is possible for a user to tap the backdrop.\n       * This would result in the dismiss animation\n       * being played again. Typically this is avoided\n       * by setting `presented = false` on the overlay\n       * component; however, we cannot do that here as\n       * that would prevent the element from being\n       * removed from the DOM.\n       */\n      this.gestureAnimationDismissing = true;\n      this.animation.onFinish(async () => {\n        await this.dismiss(undefined, 'gesture');\n        this.gestureAnimationDismissing = false;\n      });\n    });\n    this.gesture.enable(true);\n  }\n  initSheetGesture() {\n    var _a;\n    const { wrapperEl, initialBreakpoint, backdropBreakpoint } = this;\n    if (!wrapperEl || initialBreakpoint === undefined) {\n      return;\n    }\n    const animationBuilder = this.enterAnimation || config.get('modalEnter', iosEnterAnimation$3);\n    const ani = this.animation = animationBuilder(this.el, { presentingEl: this.presentingElement, currentBreakpoint: initialBreakpoint, backdropBreakpoint });\n    ani.progressStart(true, 1);\n    const sortedBreakpoints = ((_a = this.breakpoints) === null || _a === void 0 ? void 0 : _a.sort((a, b) => a - b)) || [];\n    this.gesture = createSheetGesture(this.el, this.backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, ani, sortedBreakpoints, () => {\n      /**\n       * While the gesture animation is finishing\n       * it is possible for a user to tap the backdrop.\n       * This would result in the dismiss animation\n       * being played again. Typically this is avoided\n       * by setting `presented = false` on the overlay\n       * component; however, we cannot do that here as\n       * that would prevent the element from being\n       * removed from the DOM.\n       */\n      this.gestureAnimationDismissing = true;\n      this.animation.onFinish(async () => {\n        await this.dismiss(undefined, 'gesture');\n        this.gestureAnimationDismissing = false;\n      });\n    }, (breakpoint) => {\n      this.currentBreakpoint = breakpoint;\n    });\n    this.gesture.enable(true);\n  }\n  /**\n   * Dismiss the modal overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.\n   */\n  async dismiss(data, role) {\n    if (this.gestureAnimationDismissing && role !== 'gesture') {\n      return false;\n    }\n    /**\n     * When using an inline modal\n     * and presenting a modal it is possible to\n     * quickly dismiss the modal while it is\n     * presenting. We need to await any current\n     * transition to allow the present to finish\n     * before dismissing again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const enteringAnimation = activeAnimations.get(this) || [];\n    this.currentTransition = dismiss(this, data, role, 'modalLeave', iosLeaveAnimation$3, mdLeaveAnimation$2, { presentingEl: this.presentingElement, currentBreakpoint: this.currentBreakpoint || this.initialBreakpoint, backdropBreakpoint: this.backdropBreakpoint });\n    const dismissed = await this.currentTransition;\n    if (dismissed) {\n      const { delegate } = this.getDelegate();\n      /**\n       * If the modal is presented through a controller, we don't need to detach\n       * since the el was already removed during the `dismiss` call above. Skipping\n       * this step also prevents an issue where rapdily dismissing right after\n       * presenting could cause `detachComponent` to be called after the present\n       * finished, blanking out the newly opened modal.\n       *\n       * TODO(FW-423) try and find a way to resolve the race condition directly\n       */\n      if (this.inline) {\n        await detachComponent(delegate, this.usersElement);\n      }\n      if (this.animation) {\n        this.animation.destroy();\n      }\n      if (this.gesture) {\n        this.gesture.destroy();\n      }\n      enteringAnimation.forEach(ani => ani.destroy());\n    }\n    this.currentTransition = undefined;\n    this.animation = undefined;\n    return dismissed;\n  }\n  /**\n   * Returns a promise that resolves when the modal did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionModalDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the modal will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionModalWillDismiss');\n  }\n  render() {\n    const { handle, isSheetModal, presentingElement, htmlAttributes } = this;\n    const showHandle = handle !== false && isSheetModal;\n    const mode = getIonMode(this);\n    const { presented, modalId } = this;\n    const isCardModal = presentingElement !== undefined && mode === 'ios';\n    return (h(Host, Object.assign({ \"no-router\": true, \"aria-modal\": \"true\", tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + this.overlayIndex}`,\n      }, class: Object.assign({ [mode]: true, ['modal-default']: !isCardModal && !isSheetModal, [`modal-card`]: isCardModal, [`modal-sheet`]: isSheetModal, 'overlay-hidden': true, 'modal-interactive': presented }, getClassMap(this.cssClass)), id: modalId, onIonBackdropTap: this.onBackdropTap, onIonDismiss: this.onDismiss, onIonModalDidPresent: this.onLifecycle, onIonModalWillPresent: this.onLifecycle, onIonModalWillDismiss: this.onLifecycle, onIonModalDidDismiss: this.onLifecycle }), h(\"ion-backdrop\", { ref: el => this.backdropEl = el, visible: this.showBackdrop, tappable: this.backdropDismiss, part: \"backdrop\" }), mode === 'ios' && h(\"div\", { class: \"modal-shadow\" }), h(\"div\", { role: \"dialog\", class: \"modal-wrapper ion-overlay-wrapper\", part: \"content\", ref: el => this.wrapperEl = el }, showHandle && h(\"div\", { class: \"modal-handle\", part: \"handle\" }), h(\"slot\", null))));\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"isOpen\": [\"onIsOpenChange\"],\n    \"trigger\": [\"onTriggerChange\"],\n    \"swipeToClose\": [\"swipeToCloseChanged\"]\n  }; }\n  static get style() { return {\n    ios: modalIosCss,\n    md: modalMdCss\n  }; }\n};\nconst LIFECYCLE_MAP$1 = {\n  'ionModalDidPresent': 'ionViewDidEnter',\n  'ionModalWillPresent': 'ionViewWillEnter',\n  'ionModalWillDismiss': 'ionViewWillLeave',\n  'ionModalDidDismiss': 'ionViewDidLeave',\n};\nlet modalIds = 0;\nModal = /*@__PURE__*/ proxyCustomElement(Modal, [33, \"ion-modal\", {\n    \"hasController\": [4, \"has-controller\"],\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"delegate\": [16],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"breakpoints\": [16],\n    \"initialBreakpoint\": [2, \"initial-breakpoint\"],\n    \"backdropBreakpoint\": [2, \"backdrop-breakpoint\"],\n    \"handle\": [4],\n    \"component\": [1],\n    \"componentProps\": [16],\n    \"cssClass\": [1, \"css-class\"],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"showBackdrop\": [4, \"show-backdrop\"],\n    \"animated\": [4],\n    \"swipeToClose\": [4, \"swipe-to-close\"],\n    \"presentingElement\": [16],\n    \"htmlAttributes\": [16],\n    \"isOpen\": [4, \"is-open\"],\n    \"trigger\": [1],\n    \"presented\": [32],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }]);\nfunction defineCustomElement$3() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-modal\", \"ion-backdrop\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-modal\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Modal);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n  } });\n}\n\n/**\n * iOS Picker Enter Animation\n */\nconst iosEnterAnimation$2 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.picker-wrapper'))\n    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(400)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * iOS Picker Leave Animation\n */\nconst iosLeaveAnimation$2 = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(baseEl.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0.01);\n  wrapperAnimation\n    .addElement(baseEl.querySelector('.picker-wrapper'))\n    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');\n  return baseAnimation\n    .addElement(baseEl)\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(400)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst pickerIosCss = \".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}\";\n\nconst pickerMdCss = \".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}\";\n\nlet Picker = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.didPresent = createEvent(this, \"ionPickerDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionPickerWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionPickerWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionPickerDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * Array of buttons to be displayed at the top of the picker.\n     */\n    this.buttons = [];\n    /**\n     * Array of columns to be displayed in the picker.\n     */\n    this.columns = [];\n    /**\n     * Number of milliseconds to wait before dismissing the picker.\n     */\n    this.duration = 0;\n    /**\n     * If `true`, a backdrop will be displayed behind the picker.\n     */\n    this.showBackdrop = true;\n    /**\n     * If `true`, the picker will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, the picker will animate.\n     */\n    this.animated = true;\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.dispatchCancelHandler = (ev) => {\n      const role = ev.detail.role;\n      if (isCancel(role)) {\n        const cancelButton = this.buttons.find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Present the picker overlay after it has been created.\n   */\n  async present() {\n    await present(this, 'pickerEnter', iosEnterAnimation$2, iosEnterAnimation$2, undefined);\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration);\n    }\n  }\n  /**\n   * Dismiss the picker overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the picker.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the picker.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n    return dismiss(this, data, role, 'pickerLeave', iosLeaveAnimation$2, iosLeaveAnimation$2);\n  }\n  /**\n   * Returns a promise that resolves when the picker did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionPickerDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the picker will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionPickerWillDismiss');\n  }\n  /**\n   * Get the column that matches the specified name.\n   *\n   * @param name The name of the column.\n   */\n  getColumn(name) {\n    return Promise.resolve(this.columns.find(column => column.name === name));\n  }\n  async buttonClick(button) {\n    const role = button.role;\n    if (isCancel(role)) {\n      return this.dismiss(undefined, role);\n    }\n    const shouldDismiss = await this.callButtonHandler(button);\n    if (shouldDismiss) {\n      return this.dismiss(this.getSelected(), button.role);\n    }\n    return Promise.resolve();\n  }\n  async callButtonHandler(button) {\n    if (button) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      const rtn = await safeCall(button.handler, this.getSelected());\n      if (rtn === false) {\n        // if the return value of the handler is false then do not dismiss\n        return false;\n      }\n    }\n    return true;\n  }\n  getSelected() {\n    const selected = {};\n    this.columns.forEach((col, index) => {\n      const selectedColumn = col.selectedIndex !== undefined\n        ? col.options[col.selectedIndex]\n        : undefined;\n      selected[col.name] = {\n        text: selectedColumn ? selectedColumn.text : undefined,\n        value: selectedColumn ? selectedColumn.value : undefined,\n        columnIndex: index\n      };\n    });\n    return selected;\n  }\n  render() {\n    const { htmlAttributes } = this;\n    const mode = getIonMode(this);\n    return (h(Host, Object.assign({ \"aria-modal\": \"true\", tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + this.overlayIndex}`\n      }, class: Object.assign({ [mode]: true,\n        // Used internally for styling\n        [`picker-${mode}`]: true, 'overlay-hidden': true }, getClassMap(this.cssClass)), onIonBackdropTap: this.onBackdropTap, onIonPickerWillDismiss: this.dispatchCancelHandler }), h(\"ion-backdrop\", { visible: this.showBackdrop, tappable: this.backdropDismiss }), h(\"div\", { tabindex: \"0\" }), h(\"div\", { class: \"picker-wrapper ion-overlay-wrapper\", role: \"dialog\" }, h(\"div\", { class: \"picker-toolbar\" }, this.buttons.map(b => (h(\"div\", { class: buttonWrapperClass(b) }, h(\"button\", { type: \"button\", onClick: () => this.buttonClick(b), class: buttonClass$1(b) }, b.text))))), h(\"div\", { class: \"picker-columns\" }, h(\"div\", { class: \"picker-above-highlight\" }), this.presented && this.columns.map(c => h(\"ion-picker-column\", { col: c })), h(\"div\", { class: \"picker-below-highlight\" }))), h(\"div\", { tabindex: \"0\" })));\n  }\n  get el() { return this; }\n  static get style() { return {\n    ios: pickerIosCss,\n    md: pickerMdCss\n  }; }\n};\nconst buttonWrapperClass = (button) => {\n  return {\n    [`picker-toolbar-${button.role}`]: button.role !== undefined,\n    'picker-toolbar-button': true\n  };\n};\nconst buttonClass$1 = (button) => {\n  return Object.assign({ 'picker-button': true, 'ion-activatable': true }, getClassMap(button.cssClass));\n};\nPicker = /*@__PURE__*/ proxyCustomElement(Picker, [34, \"ion-picker\", {\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"buttons\": [16],\n    \"columns\": [16],\n    \"cssClass\": [1, \"css-class\"],\n    \"duration\": [2],\n    \"showBackdrop\": [4, \"show-backdrop\"],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"animated\": [4],\n    \"htmlAttributes\": [16],\n    \"presented\": [32],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64],\n    \"getColumn\": [64]\n  }]);\nfunction defineCustomElement$2() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-picker\", \"ion-backdrop\", \"ion-picker-column\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-picker\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Picker);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n    case \"ion-picker-column\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$b();\n      }\n      break;\n  } });\n}\n\n/**\n * Returns the dimensions of the popover\n * arrow on `ios` mode. If arrow is disabled\n * returns (0, 0).\n */\nconst getArrowDimensions = (arrowEl) => {\n  if (!arrowEl) {\n    return { arrowWidth: 0, arrowHeight: 0 };\n  }\n  const { width, height } = arrowEl.getBoundingClientRect();\n  return { arrowWidth: width, arrowHeight: height };\n};\n/**\n * Returns the recommended dimensions of the popover\n * that takes into account whether or not the width\n * should match the trigger width.\n */\nconst getPopoverDimensions = (size, contentEl, triggerEl) => {\n  const contentDimentions = contentEl.getBoundingClientRect();\n  const contentHeight = contentDimentions.height;\n  let contentWidth = contentDimentions.width;\n  if (size === 'cover' && triggerEl) {\n    const triggerDimensions = triggerEl.getBoundingClientRect();\n    contentWidth = triggerDimensions.width;\n  }\n  return {\n    contentWidth,\n    contentHeight\n  };\n};\nconst configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {\n  let dismissCallbacks = [];\n  const root = getElementRoot(parentPopoverEl);\n  const parentContentEl = root.querySelector('.popover-content');\n  switch (triggerAction) {\n    case 'hover':\n      dismissCallbacks = [\n        {\n          /**\n           * Do not use mouseover here\n           * as this will causes the event to\n           * be dispatched on each underlying\n           * element rather than on the popover\n           * content as a whole.\n           */\n          eventName: 'mouseenter',\n          callback: (ev) => {\n            /**\n             * Do not dismiss the popover is we\n             * are hovering over its trigger.\n             * This would be easier if we used mouseover\n             * but this would cause the event to be dispatched\n             * more often than we would like, potentially\n             * causing performance issues.\n             */\n            const element = document.elementFromPoint(ev.clientX, ev.clientY);\n            if (element === triggerEl) {\n              return;\n            }\n            popoverEl.dismiss(undefined, undefined, false);\n          }\n        }\n      ];\n      break;\n    case 'context-menu':\n    case 'click':\n    default:\n      dismissCallbacks = [\n        {\n          eventName: 'click',\n          callback: (ev) => {\n            /**\n             * Do not dismiss the popover is we\n             * are hovering over its trigger.\n             */\n            const target = ev.target;\n            const closestTrigger = target.closest('[data-ion-popover-trigger]');\n            if (closestTrigger === triggerEl) {\n              /**\n               * stopPropagation here so if the\n               * popover has dismissOnSelect=\"true\"\n               * the popover does not dismiss since\n               * we just clicked a trigger element.\n               */\n              ev.stopPropagation();\n              return;\n            }\n            popoverEl.dismiss(undefined, undefined, false);\n          }\n        }\n      ];\n      break;\n  }\n  dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.addEventListener(eventName, callback));\n  return () => {\n    dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.removeEventListener(eventName, callback));\n  };\n};\n/**\n * Configures the triggerEl to respond\n * to user interaction based upon the triggerAction\n * prop that devs have defined.\n */\nconst configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {\n  let triggerCallbacks = [];\n  /**\n   * Based upon the kind of trigger interaction\n   * the user wants, we setup the correct event\n   * listeners.\n   */\n  switch (triggerAction) {\n    case 'hover':\n      let hoverTimeout;\n      triggerCallbacks = [\n        {\n          eventName: 'mouseenter',\n          callback: async (ev) => {\n            ev.stopPropagation();\n            if (hoverTimeout) {\n              clearTimeout(hoverTimeout);\n            }\n            /**\n             * Hovering over a trigger should not\n             * immediately open the next popover.\n             */\n            hoverTimeout = setTimeout(() => {\n              raf(() => {\n                popoverEl.presentFromTrigger(ev);\n                hoverTimeout = undefined;\n              });\n            }, 100);\n          }\n        },\n        {\n          eventName: 'mouseleave',\n          callback: (ev) => {\n            if (hoverTimeout) {\n              clearTimeout(hoverTimeout);\n            }\n            /**\n             * If mouse is over another popover\n             * that is not this popover then we should\n             * close this popover.\n             */\n            const target = ev.relatedTarget;\n            if (!target) {\n              return;\n            }\n            if (target.closest('ion-popover') !== popoverEl) {\n              popoverEl.dismiss(undefined, undefined, false);\n            }\n          }\n        },\n        {\n          /**\n           * stopPropagation here prevents the popover\n           * from dismissing when dismiss-on-select=\"true\".\n           */\n          eventName: 'click',\n          callback: (ev) => ev.stopPropagation()\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true)\n        }\n      ];\n      break;\n    case 'context-menu':\n      triggerCallbacks = [\n        {\n          eventName: 'contextmenu',\n          callback: (ev) => {\n            /**\n             * Prevents the platform context\n             * menu from appearing.\n             */\n            ev.preventDefault();\n            popoverEl.presentFromTrigger(ev);\n          }\n        },\n        {\n          eventName: 'click',\n          callback: (ev) => ev.stopPropagation()\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true)\n        }\n      ];\n      break;\n    case 'click':\n    default:\n      triggerCallbacks = [\n        {\n          /**\n           * Do not do a stopPropagation() here\n           * because if you had two click triggers\n           * then clicking the first trigger and then\n           * clicking the second trigger would not cause\n           * the first popover to dismiss.\n           */\n          eventName: 'click',\n          callback: (ev) => popoverEl.presentFromTrigger(ev)\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true)\n        }\n      ];\n      break;\n  }\n  triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.addEventListener(eventName, callback));\n  triggerEl.setAttribute('data-ion-popover-trigger', 'true');\n  return () => {\n    triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.removeEventListener(eventName, callback));\n    triggerEl.removeAttribute('data-ion-popover-trigger');\n  };\n};\n/**\n * Returns the index of an ion-item in an array of ion-items.\n */\nconst getIndexOfItem = (items, item) => {\n  if (!item || item.tagName !== 'ION-ITEM') {\n    return -1;\n  }\n  return items.findIndex(el => el === item);\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the next ion-item relative to the focused one or\n * undefined.\n */\nconst getNextItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex + 1];\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the previous ion-item relative to the focused one or\n * undefined.\n */\nconst getPrevItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex - 1];\n};\n/** Focus the internal button of the ion-item */\nconst focusItem = (item) => {\n  const root = getElementRoot(item);\n  const button = root.querySelector('button');\n  if (button) {\n    raf(() => button.focus());\n  }\n};\n/**\n * Returns `true` if `el` has been designated\n * as a trigger element for an ion-popover.\n */\nconst isTriggerElement = (el) => el.hasAttribute('data-ion-popover-trigger');\nconst configureKeyboardInteraction = (popoverEl) => {\n  const callback = async (ev) => {\n    const activeElement = document.activeElement;\n    let items = [];\n    /**\n     * Complex selectors with :not() are :not supported\n     * in older versions of Chromium so we need to do a\n     * try/catch here so errors are not thrown.\n     */\n    try {\n      /**\n       * Select all ion-items that are not children of child popovers.\n       * i.e. only select ion-item elements that are part of this popover\n       */\n      items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));\n      /* tslint:disable-next-line */\n    }\n    catch (_a) { }\n    switch (ev.key) {\n      /**\n       * If we are in a child popover\n       * then pressing the left arrow key\n       * should close this popover and move\n       * focus to the popover that presented\n       * this one.\n       */\n      case 'ArrowLeft':\n        const parentPopover = await popoverEl.getParentPopover();\n        if (parentPopover) {\n          popoverEl.dismiss(undefined, undefined, false);\n        }\n        break;\n      /**\n       * ArrowDown should move focus to the next focusable ion-item.\n       */\n      case 'ArrowDown':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const nextItem = getNextItem(items, activeElement);\n        // tslint:disable-next-line:strict-type-predicates\n        if (nextItem !== undefined) {\n          focusItem(nextItem);\n        }\n        break;\n      /**\n       * ArrowUp should move focus to the previous focusable ion-item.\n       */\n      case 'ArrowUp':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const prevItem = getPrevItem(items, activeElement);\n        // tslint:disable-next-line:strict-type-predicates\n        if (prevItem !== undefined) {\n          focusItem(prevItem);\n        }\n        break;\n      /**\n       * Home should move focus to the first focusable ion-item.\n       */\n      case 'Home':\n        ev.preventDefault();\n        const firstItem = items[0];\n        // tslint:disable-next-line:strict-type-predicates\n        if (firstItem !== undefined) {\n          focusItem(firstItem);\n        }\n        break;\n      /**\n       * End should move focus to the last focusable ion-item.\n       */\n      case 'End':\n        ev.preventDefault();\n        const lastItem = items[items.length - 1];\n        // tslint:disable-next-line:strict-type-predicates\n        if (lastItem !== undefined) {\n          focusItem(lastItem);\n        }\n        break;\n      /**\n       * ArrowRight, Spacebar, or Enter should activate\n       * the currently focused trigger item to open a\n       * popover if the element is a trigger item.\n       */\n      case 'ArrowRight':\n      case ' ':\n      case 'Enter':\n        if (activeElement && isTriggerElement(activeElement)) {\n          const rightEvent = new CustomEvent('ionPopoverActivateTrigger');\n          activeElement.dispatchEvent(rightEvent);\n        }\n        break;\n    }\n  };\n  popoverEl.addEventListener('keydown', callback);\n  return () => popoverEl.removeEventListener('keydown', callback);\n};\n/**\n * Positions a popover by taking into account\n * the reference point, preferred side, alignment\n * and viewport dimensions.\n */\nconst getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {\n  var _a;\n  let referenceCoordinates = {\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0\n  };\n  /**\n   * Calculate position relative to the\n   * x-y coordinates in the event that\n   * was passed in\n   */\n  switch (reference) {\n    case 'event':\n      if (!event) {\n        return defaultPosition;\n      }\n      const mouseEv = event;\n      referenceCoordinates = {\n        top: mouseEv.clientY,\n        left: mouseEv.clientX,\n        width: 1,\n        height: 1\n      };\n      break;\n    /**\n     * Calculate position relative to the bounding\n     * box on either the trigger element\n     * specified via the `trigger` prop or\n     * the target specified on the event\n     * that was passed in.\n     */\n    case 'trigger':\n    default:\n      const customEv = event;\n      /**\n       * ionShadowTarget is used when we need to align the\n       * popover with an element inside of the shadow root\n       * of an Ionic component. Ex: Presenting a popover\n       * by clicking on the collapsed indicator inside\n       * of `ion-breadcrumb` and centering it relative\n       * to the indicator rather than `ion-breadcrumb`\n       * as a whole.\n       */\n      const actualTriggerEl = (triggerEl || ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (customEv === null || customEv === void 0 ? void 0 : customEv.target));\n      if (!actualTriggerEl) {\n        return defaultPosition;\n      }\n      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();\n      referenceCoordinates = {\n        top: triggerBoundingBox.top,\n        left: triggerBoundingBox.left,\n        width: triggerBoundingBox.width,\n        height: triggerBoundingBox.height\n      };\n      break;\n  }\n  /**\n   * Get top/left offset that would allow\n   * popover to be positioned on the\n   * preferred side of the reference.\n   */\n  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);\n  /**\n   * Get the top/left adjustments that\n   * would allow the popover content\n   * to have the correct alignment.\n   */\n  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);\n  const top = coordinates.top + alignedCoordinates.top;\n  const left = coordinates.left + alignedCoordinates.left;\n  const { arrowTop, arrowLeft } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);\n  const { originX, originY } = calculatePopoverOrigin(side, align, isRTL);\n  return { top, left, referenceCoordinates, arrowTop, arrowLeft, originX, originY };\n};\n/**\n * Determines the transform-origin\n * of the popover animation so that it\n * is in line with what the side and alignment\n * prop values are. Currently only used\n * with the MD animation.\n */\nconst calculatePopoverOrigin = (side, align, isRTL) => {\n  switch (side) {\n    case 'top':\n      return { originX: getOriginXAlignment(align), originY: 'bottom' };\n    case 'bottom':\n      return { originX: getOriginXAlignment(align), originY: 'top' };\n    case 'left':\n      return { originX: 'right', originY: getOriginYAlignment(align) };\n    case 'right':\n      return { originX: 'left', originY: getOriginYAlignment(align) };\n    case 'start':\n      return { originX: (isRTL) ? 'left' : 'right', originY: getOriginYAlignment(align) };\n    case 'end':\n      return { originX: (isRTL) ? 'right' : 'left', originY: getOriginYAlignment(align) };\n  }\n};\nconst getOriginXAlignment = (align) => {\n  switch (align) {\n    case 'start':\n      return 'left';\n    case 'center':\n      return 'center';\n    case 'end':\n      return 'right';\n  }\n};\nconst getOriginYAlignment = (align) => {\n  switch (align) {\n    case 'start':\n      return 'top';\n    case 'center':\n      return 'center';\n    case 'end':\n      return 'bottom';\n  }\n};\n/**\n * Calculates where the arrow positioning\n * should be relative to the popover content.\n */\nconst calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {\n  /**\n   * Note: When side is left, right, start, or end, the arrow is\n   * been rotated using a `transform`, so to move the arrow up or down\n   * by its dimension, you need to use `arrowWidth`.\n   */\n  const leftPosition = { arrowTop: top + (contentHeight / 2) - (arrowWidth / 2), arrowLeft: left + contentWidth - (arrowWidth / 2) };\n  /**\n   * Move the arrow to the left by arrowWidth and then\n   * again by half of its width because we have rotated\n   * the arrow using a transform.\n   */\n  const rightPosition = { arrowTop: top + (contentHeight / 2) - (arrowWidth / 2), arrowLeft: left - (arrowWidth * 1.5) };\n  switch (side) {\n    case 'top':\n      return { arrowTop: top + contentHeight, arrowLeft: left + (contentWidth / 2) - (arrowWidth / 2) };\n    case 'bottom':\n      return { arrowTop: top - arrowHeight, arrowLeft: left + (contentWidth / 2) - (arrowWidth / 2) };\n    case 'left':\n      return leftPosition;\n    case 'right':\n      return rightPosition;\n    case 'start':\n      return (isRTL) ? rightPosition : leftPosition;\n    case 'end':\n      return (isRTL) ? leftPosition : rightPosition;\n    default:\n      return { arrowTop: 0, arrowLeft: 0 };\n  }\n};\n/**\n * Calculates the required top/left\n * values needed to position the popover\n * content on the side specified in the\n * `side` prop.\n */\nconst calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {\n  const sideLeft = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left - contentWidth - arrowWidth\n  };\n  const sideRight = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth\n  };\n  switch (side) {\n    case 'top':\n      return {\n        top: triggerBoundingBox.top - contentHeight - arrowHeight,\n        left: triggerBoundingBox.left\n      };\n    case 'right':\n      return sideRight;\n    case 'bottom':\n      return {\n        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,\n        left: triggerBoundingBox.left\n      };\n    case 'left':\n      return sideLeft;\n    case 'start':\n      return (isRTL) ? sideRight : sideLeft;\n    case 'end':\n      return (isRTL) ? sideLeft : sideRight;\n  }\n};\n/**\n * Calculates the required top/left\n * offset values needed to provide the\n * correct alignment regardless while taking\n * into account the side the popover is on.\n */\nconst calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (align) {\n    case 'center':\n      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n    case 'end':\n      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n    case 'start':\n    default:\n      return { top: 0, left: 0 };\n  }\n};\n/**\n * Calculate the end alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\nconst calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -(contentHeight - triggerBoundingBox.height),\n        left: 0\n      };\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -(contentWidth - triggerBoundingBox.width)\n      };\n  }\n};\n/**\n * Calculate the center alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\nconst calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -((contentHeight / 2) - (triggerBoundingBox.height / 2)),\n        left: 0\n      };\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -((contentWidth / 2) - (triggerBoundingBox.width / 2))\n      };\n  }\n};\n/**\n * Adjusts popover positioning coordinates\n * such that popover does not appear offscreen\n * or overlapping safe area bounds.\n */\nconst calculateWindowAdjustment = (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates, coordArrowTop = 0, coordArrowLeft = 0, arrowHeight = 0) => {\n  let arrowTop = coordArrowTop;\n  const arrowLeft = coordArrowLeft;\n  let left = coordLeft;\n  let top = coordTop;\n  let bottom;\n  let originX = contentOriginX;\n  let originY = contentOriginY;\n  let checkSafeAreaLeft = false;\n  let checkSafeAreaRight = false;\n  const triggerTop = triggerCoordinates ? triggerCoordinates.top + triggerCoordinates.height : bodyHeight / 2 - contentHeight / 2;\n  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;\n  let addPopoverBottomClass = false;\n  /**\n   * Adjust popover so it does not\n   * go off the left of the screen.\n   */\n  if (left < bodyPadding + safeAreaMargin) {\n    left = bodyPadding;\n    checkSafeAreaLeft = true;\n    originX = 'left';\n    /**\n     * Adjust popover so it does not\n     * go off the right of the screen.\n     */\n  }\n  else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {\n    checkSafeAreaRight = true;\n    left = bodyWidth - contentWidth - bodyPadding;\n    originX = 'right';\n  }\n  /**\n   * Adjust popover so it does not\n   * go off the top of the screen.\n   * If popover is on the left or the right of\n   * the trigger, then we should not adjust top\n   * margins.\n   */\n  if (triggerTop + triggerHeight + contentHeight > bodyHeight &&\n    (side === 'top' || side === 'bottom')) {\n    if (triggerTop - contentHeight > 0) {\n      top = triggerTop - contentHeight - triggerHeight - (arrowHeight - 1);\n      arrowTop = top + contentHeight;\n      originY = 'bottom';\n      addPopoverBottomClass = true;\n      /**\n       * If not enough room for popover to appear\n       * above trigger, then cut it off.\n       */\n    }\n    else {\n      bottom = bodyPadding;\n    }\n  }\n  return { top, left, bottom, originX, originY, checkSafeAreaLeft, checkSafeAreaRight, arrowTop, arrowLeft, addPopoverBottomClass };\n};\nconst shouldShowArrow = (side, didAdjustBounds = false, ev, trigger) => {\n  /**\n   * If no event provided and\n   * we do not have a trigger,\n   * then this popover was likely\n   * presented via the popoverController\n   * or users called `present` manually.\n   * In this case, the arrow should not be\n   * shown as we do not have a reference.\n   */\n  if (!ev && !trigger) {\n    return false;\n  }\n  /**\n   * If popover is on the left or the right\n   * of a trigger, but we needed to adjust the\n   * popover due to screen bounds, then we should\n   * hide the arrow as it will never be pointing\n   * at the trigger.\n   */\n  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {\n    return false;\n  }\n  return true;\n};\n\nconst POPOVER_IOS_BODY_PADDING = 5;\n/**\n * iOS Popover Enter Animation\n */\nconst iosEnterAnimation$1 = (baseEl, opts) => {\n  var _a;\n  const { event: ev, size, trigger, reference, side, align } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const { arrowWidth, arrowHeight } = getArrowDimensions(arrowEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top'\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;\n  const margin = size === 'cover' ? 0 : 25;\n  const { originX, originY, top, left, bottom, checkSafeAreaLeft, checkSafeAreaRight, arrowTop, arrowLeft, addPopoverBottomClass } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(root.querySelector('.popover-wrapper'))\n    .fromTo('opacity', 0.01, 1);\n  return baseAnimation\n    .easing('ease')\n    .duration(100)\n    .beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n    if (addPopoverBottomClass) {\n      baseEl.classList.add('popover-bottom');\n    }\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';\n    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';\n    let leftValue = `${left}px`;\n    if (checkSafeAreaLeft) {\n      leftValue = `${left}px${safeAreaLeft}`;\n    }\n    if (checkSafeAreaRight) {\n      leftValue = `${left}px${safeAreaRight}`;\n    }\n    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);\n    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);\n    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);\n    if (arrowEl !== null) {\n      const didAdjustBounds = results.top !== top || results.left !== left;\n      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);\n      if (showArrow) {\n        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);\n        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);\n      }\n      else {\n        arrowEl.style.setProperty('display', 'none');\n      }\n    }\n  })\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\n/**\n * iOS Popover Leave Animation\n */\nconst iosLeaveAnimation$1 = (baseEl) => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(root.querySelector('.popover-wrapper'))\n    .fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .easing('ease')\n    .afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n    if (arrowEl) {\n      arrowEl.style.removeProperty('top');\n      arrowEl.style.removeProperty('left');\n      arrowEl.style.removeProperty('display');\n    }\n  })\n    .duration(300)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst POPOVER_MD_BODY_PADDING = 12;\n/**\n * Md Popover Enter Animation\n */\nconst mdEnterAnimation$1 = (baseEl, opts) => {\n  var _a;\n  const { event: ev, size, trigger, reference, side, align } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top'\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;\n  const { originX, originY, top, left, bottom } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const contentAnimation = createAnimation();\n  const viewportAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none'\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation\n    .addElement(root.querySelector('.popover-wrapper'))\n    .duration(150)\n    .fromTo('opacity', 0.01, 1);\n  contentAnimation\n    .addElement(contentEl)\n    .beforeStyles({\n    'top': `calc(${top}px + var(--offset-y, 0px))`,\n    'left': `calc(${left}px + var(--offset-x, 0px))`,\n    'transform-origin': `${originY} ${originX}`\n  })\n    .beforeAddWrite(() => {\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n  })\n    .fromTo('transform', 'scale(0.8)', 'scale(1)');\n  viewportAnimation\n    .addElement(root.querySelector('.popover-viewport'))\n    .fromTo('opacity', 0.01, 1);\n  return baseAnimation\n    .easing('cubic-bezier(0.36,0.66,0.04,1)')\n    .duration(300)\n    .beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n    if (originY === 'bottom') {\n      baseEl.classList.add('popover-bottom');\n    }\n  })\n    .addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);\n};\n\n/**\n * Md Popover Leave Animation\n */\nconst mdLeaveAnimation$1 = (baseEl) => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation\n    .addElement(root.querySelector('.popover-wrapper'))\n    .fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .easing('ease')\n    .afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n  })\n    .duration(150)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n\nconst popoverIosCss = \":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\\\"\\\";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}\";\n\nconst popoverMdCss = \":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}\";\n\nlet Popover = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.didPresent = createEvent(this, \"ionPopoverDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionPopoverWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionPopoverWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionPopoverDidDismiss\", 7);\n    this.didPresentShorthand = createEvent(this, \"didPresent\", 7);\n    this.willPresentShorthand = createEvent(this, \"willPresent\", 7);\n    this.willDismissShorthand = createEvent(this, \"willDismiss\", 7);\n    this.didDismissShorthand = createEvent(this, \"didDismiss\", 7);\n    this.parentPopover = null;\n    this.popoverIndex = popoverIds++;\n    this.coreDelegate = CoreDelegate();\n    this.inline = false;\n    this.focusDescendantOnPresent = false;\n    this.presented = false;\n    /** @internal */\n    this.hasController = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * If `true`, the popover will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, a backdrop will be displayed behind the popover.\n     */\n    this.showBackdrop = true;\n    /**\n     * If `true`, the popover will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the popover will animate.\n     */\n    this.animated = true;\n    /**\n     * Describes what kind of interaction with the trigger that\n     * should cause the popover to open. Does not apply when the `trigger`\n     * property is `undefined`.\n     * If `'click'`, the popover will be presented when the trigger is left clicked.\n     * If `'hover'`, the popover will be presented when a pointer hovers over the trigger.\n     * If `'context-menu'`, the popover will be presented when the trigger is right\n     * clicked on desktop and long pressed on mobile. This will also prevent your\n     * device's normal context menu from appearing.\n     */\n    this.triggerAction = 'click';\n    /**\n     * Describes how to calculate the popover width.\n     * If `'cover'`, the popover width will match the width of the trigger.\n     * If `'auto'`, the popover width will be determined by the content in\n     * the popover.\n     */\n    this.size = 'auto';\n    /**\n     * If `true`, the popover will be automatically\n     * dismissed when the content has been clicked.\n     */\n    this.dismissOnSelect = false;\n    /**\n     * Describes what to position the popover relative to.\n     * If `'trigger'`, the popover will be positioned relative\n     * to the trigger button. If passing in an event, this is\n     * determined via event.target.\n     * If `'event'`, the popover will be positioned relative\n     * to the x/y coordinates of the trigger action. If passing\n     * in an event, this is determined via event.clientX and event.clientY.\n     */\n    this.reference = 'trigger';\n    /**\n     * Describes which side of the `reference` point to position\n     * the popover on. The `'start'` and `'end'` values are RTL-aware,\n     * and the `'left'` and `'right'` values are not.\n     */\n    this.side = 'bottom';\n    /**\n     * Describes how to align the popover content with the `reference` point.\n     */\n    this.alignment = 'start';\n    /**\n     * If `true`, the popover will display an arrow\n     * that points at the `reference` when running in `ios` mode\n     * on mobile. Does not apply in `md` mode or on desktop.\n     */\n    this.arrow = true;\n    /**\n     * If `true`, the popover will open. If `false`, the popover will close.\n     * Use this if you need finer grained control over presentation, otherwise\n     * just use the popoverController or the `trigger` property.\n     * Note: `isOpen` will not automatically be set back to `false` when\n     * the popover dismisses. You will need to do that in your code.\n     */\n    this.isOpen = false;\n    /**\n     * @internal\n     *\n     * If `true` the popover will not register its own keyboard event handlers.\n     * This allows the contents of the popover to handle their own keyboard interactions.\n     *\n     * If `false`, the popover will register its own keyboard event handlers for\n     * navigating `ion-list` items within a popover (up/down/home/end/etc.).\n     * This will also cancel browser keyboard event bindings to prevent scroll\n     * behavior in a popover using a list of items.\n     */\n    this.keyboardEvents = false;\n    this.onDismiss = (ev) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.dismiss();\n    };\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.onLifecycle = (modalEvent) => {\n      const el = this.usersElement;\n      const name = LIFECYCLE_MAP[modalEvent.type];\n      if (el && name) {\n        const event = new CustomEvent(name, {\n          bubbles: false,\n          cancelable: false,\n          detail: modalEvent.detail\n        });\n        el.dispatchEvent(event);\n      }\n    };\n    this.configureTriggerInteraction = () => {\n      const { trigger, triggerAction, el, destroyTriggerInteraction } = this;\n      if (destroyTriggerInteraction) {\n        destroyTriggerInteraction();\n      }\n      const triggerEl = this.triggerEl = (trigger !== undefined) ? document.getElementById(trigger) : null;\n      if (!triggerEl) {\n        return;\n      }\n      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);\n    };\n    this.configureKeyboardInteraction = () => {\n      const { destroyKeyboardInteraction, el } = this;\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n      }\n      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);\n    };\n    this.configureDismissInteraction = () => {\n      const { destroyDismissInteraction, parentPopover, triggerAction, triggerEl, el } = this;\n      if (!parentPopover || !triggerEl) {\n        return;\n      }\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n      }\n      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);\n    };\n  }\n  onTriggerChange() {\n    this.configureTriggerInteraction();\n  }\n  onIsOpenChange(newValue, oldValue) {\n    if (newValue === true && oldValue === false) {\n      this.present();\n    }\n    else if (newValue === false && oldValue === true) {\n      this.dismiss();\n    }\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  componentWillLoad() {\n    /**\n     * If user has custom ID set then we should\n     * not assign the default incrementing ID.\n     */\n    this.popoverId = (this.el.hasAttribute('id')) ? this.el.getAttribute('id') : `ion-popover-${this.popoverIndex}`;\n    this.parentPopover = this.el.closest(`ion-popover:not(#${this.popoverId})`);\n  }\n  componentDidLoad() {\n    const { parentPopover, isOpen } = this;\n    /**\n     * If popover was rendered with isOpen=\"true\"\n     * then we should open popover immediately.\n     */\n    if (isOpen === true) {\n      raf(() => this.present());\n    }\n    if (parentPopover) {\n      addEventListener(parentPopover, 'ionPopoverWillDismiss', () => {\n        this.dismiss(undefined, undefined, false);\n      });\n    }\n    this.configureTriggerInteraction();\n  }\n  /**\n   * When opening a popover from a trigger, we should not be\n   * modifying the `event` prop from inside the component.\n   * Additionally, when pressing the \"Right\" arrow key, we need\n   * to shift focus to the first descendant in the newly presented\n   * popover.\n   *\n   * @internal\n   */\n  async presentFromTrigger(event, focusDescendant = false) {\n    this.focusDescendantOnPresent = focusDescendant;\n    await this.present(event);\n    this.focusDescendantOnPresent = false;\n  }\n  /**\n   * Determines whether or not an overlay\n   * is being used inline or via a controller/JS\n   * and returns the correct delegate.\n   * By default, subsequent calls to getDelegate\n   * will use a cached version of the delegate.\n   * This is useful for calling dismiss after\n   * present so that the correct delegate is given.\n   */\n  getDelegate(force = false) {\n    if (this.workingDelegate && !force) {\n      return {\n        delegate: this.workingDelegate,\n        inline: this.inline\n      };\n    }\n    /**\n     * If using overlay inline\n     * we potentially need to use the coreDelegate\n     * so that this works in vanilla JS apps.\n     * If a developer has presented this component\n     * via a controller, then we can assume\n     * the component is already in the\n     * correct place.\n     */\n    const parentEl = this.el.parentNode;\n    const inline = this.inline = parentEl !== null && !this.hasController;\n    const delegate = this.workingDelegate = (inline) ? this.delegate || this.coreDelegate : this.delegate;\n    return { inline, delegate };\n  }\n  /**\n   * Present the popover overlay after it has been created.\n   * Developers can pass a mouse, touch, or pointer event\n   * to position the popover relative to where that event\n   * was dispatched.\n   */\n  async present(event) {\n    if (this.presented) {\n      return;\n    }\n    /**\n     * When using an inline popover\n     * and dismissing a popover it is possible to\n     * quickly present the popover while it is\n     * dismissing. We need to await any current\n     * transition to allow the dismiss to finish\n     * before presenting again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const data = Object.assign(Object.assign({}, this.componentProps), { popover: this.el });\n    const { inline, delegate } = this.getDelegate(true);\n    this.usersElement = await attachComponent(delegate, this.el, this.component, ['popover-viewport'], data, inline);\n    await deepReady(this.usersElement);\n    if (!this.keyboardEvents) {\n      this.configureKeyboardInteraction();\n    }\n    this.configureDismissInteraction();\n    this.currentTransition = present(this, 'popoverEnter', iosEnterAnimation$1, mdEnterAnimation$1, {\n      event: event || this.event,\n      size: this.size,\n      trigger: this.triggerEl,\n      reference: this.reference,\n      side: this.side,\n      align: this.alignment\n    });\n    await this.currentTransition;\n    this.currentTransition = undefined;\n    /**\n     * If popover is nested and was\n     * presented using the \"Right\" arrow key,\n     * we need to move focus to the first\n     * descendant inside of the popover.\n     */\n    if (this.focusDescendantOnPresent) {\n      focusFirstDescendant(this.el, this.el);\n    }\n  }\n  /**\n   * Dismiss the popover overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\n   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss\n   * a parent popover if this popover is nested. Defaults to `true`.\n   */\n  async dismiss(data, role, dismissParentPopover = true) {\n    /**\n     * When using an inline popover\n     * and presenting a popover it is possible to\n     * quickly dismiss the popover while it is\n     * presenting. We need to await any current\n     * transition to allow the present to finish\n     * before dismissing again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const { destroyKeyboardInteraction, destroyDismissInteraction } = this;\n    if (dismissParentPopover && this.parentPopover) {\n      this.parentPopover.dismiss(data, role, dismissParentPopover);\n    }\n    this.currentTransition = dismiss(this, data, role, 'popoverLeave', iosLeaveAnimation$1, mdLeaveAnimation$1, this.event);\n    const shouldDismiss = await this.currentTransition;\n    if (shouldDismiss) {\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n        this.destroyKeyboardInteraction = undefined;\n      }\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n        this.destroyDismissInteraction = undefined;\n      }\n      /**\n       * If using popover inline\n       * we potentially need to use the coreDelegate\n       * so that this works in vanilla JS apps\n       */\n      const { delegate } = this.getDelegate();\n      await detachComponent(delegate, this.usersElement);\n    }\n    this.currentTransition = undefined;\n    return shouldDismiss;\n  }\n  /**\n   * @internal\n   */\n  async getParentPopover() {\n    return this.parentPopover;\n  }\n  /**\n   * Returns a promise that resolves when the popover did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionPopoverDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the popover will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionPopoverWillDismiss');\n  }\n  render() {\n    const mode = getIonMode(this);\n    const { onLifecycle, popoverId, parentPopover, dismissOnSelect, presented, side, arrow, htmlAttributes } = this;\n    const desktop = isPlatform('desktop');\n    const enableArrow = arrow && !parentPopover && !desktop;\n    return (h(Host, Object.assign({ \"aria-modal\": \"true\", \"no-router\": true, tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + this.overlayIndex}`,\n      }, id: popoverId, class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), { [mode]: true, 'popover-translucent': this.translucent, 'overlay-hidden': true, 'popover-interactive': presented, 'popover-desktop': desktop, [`popover-side-${side}`]: true, 'popover-nested': !!parentPopover }), onIonPopoverDidPresent: onLifecycle, onIonPopoverWillPresent: onLifecycle, onIonPopoverWillDismiss: onLifecycle, onIonPopoverDidDismiss: onLifecycle, onIonDismiss: this.onDismiss, onIonBackdropTap: this.onBackdropTap }), !parentPopover && h(\"ion-backdrop\", { tappable: this.backdropDismiss, visible: this.showBackdrop, part: \"backdrop\" }), h(\"div\", { class: \"popover-wrapper ion-overlay-wrapper\", onClick: dismissOnSelect ? () => this.dismiss() : undefined }, enableArrow && h(\"div\", { class: \"popover-arrow\", part: \"arrow\" }), h(\"div\", { class: \"popover-content\", part: \"content\" }, h(\"slot\", null)))));\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"trigger\": [\"onTriggerChange\"],\n    \"triggerAction\": [\"onTriggerChange\"],\n    \"isOpen\": [\"onIsOpenChange\"]\n  }; }\n  static get style() { return {\n    ios: popoverIosCss,\n    md: popoverMdCss\n  }; }\n};\nconst LIFECYCLE_MAP = {\n  'ionPopoverDidPresent': 'ionViewDidEnter',\n  'ionPopoverWillPresent': 'ionViewWillEnter',\n  'ionPopoverWillDismiss': 'ionViewWillLeave',\n  'ionPopoverDidDismiss': 'ionViewDidLeave',\n};\nlet popoverIds = 0;\nPopover = /*@__PURE__*/ proxyCustomElement(Popover, [33, \"ion-popover\", {\n    \"hasController\": [4, \"has-controller\"],\n    \"delegate\": [16],\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"component\": [1],\n    \"componentProps\": [16],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"cssClass\": [1, \"css-class\"],\n    \"backdropDismiss\": [4, \"backdrop-dismiss\"],\n    \"event\": [8],\n    \"showBackdrop\": [4, \"show-backdrop\"],\n    \"translucent\": [4],\n    \"animated\": [4],\n    \"htmlAttributes\": [16],\n    \"triggerAction\": [1, \"trigger-action\"],\n    \"trigger\": [1],\n    \"size\": [1],\n    \"dismissOnSelect\": [4, \"dismiss-on-select\"],\n    \"reference\": [1],\n    \"side\": [1],\n    \"alignment\": [1],\n    \"arrow\": [4],\n    \"isOpen\": [4, \"is-open\"],\n    \"keyboardEvents\": [4, \"keyboard-events\"],\n    \"presented\": [32],\n    \"presentFromTrigger\": [64],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"getParentPopover\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }]);\nfunction defineCustomElement$1() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-popover\", \"ion-backdrop\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-popover\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Popover);\n      }\n      break;\n    case \"ion-backdrop\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$9();\n      }\n      break;\n  } });\n}\n\n/**\n * iOS Toast Enter Animation\n */\nconst iosEnterAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n  switch (position) {\n    case 'top':\n      wrapperAnimation.fromTo('transform', 'translateY(-100%)', `translateY(${top})`);\n      break;\n    case 'middle':\n      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);\n      wrapperEl.style.top = `${topPosition}px`;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n    default:\n      wrapperAnimation.fromTo('transform', 'translateY(100%)', `translateY(${bottom})`);\n      break;\n  }\n  return baseAnimation\n    .easing('cubic-bezier(.155,1.105,.295,1.12)')\n    .duration(400)\n    .addAnimation(wrapperAnimation);\n};\n\n/**\n * iOS Toast Leave Animation\n */\nconst iosLeaveAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n  switch (position) {\n    case 'top':\n      wrapperAnimation.fromTo('transform', `translateY(${top})`, 'translateY(-100%)');\n      break;\n    case 'middle':\n      wrapperAnimation.fromTo('opacity', 0.99, 0);\n      break;\n    default:\n      wrapperAnimation.fromTo('transform', `translateY(${bottom})`, 'translateY(100%)');\n      break;\n  }\n  return baseAnimation\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(300)\n    .addAnimation(wrapperAnimation);\n};\n\n/**\n * MD Toast Enter Animation\n */\nconst mdEnterAnimation = (baseEl, position) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  const bottom = `calc(8px + var(--ion-safe-area-bottom, 0px))`;\n  const top = `calc(8px + var(--ion-safe-area-top, 0px))`;\n  wrapperAnimation.addElement(wrapperEl);\n  switch (position) {\n    case 'top':\n      wrapperEl.style.top = top;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n    case 'middle':\n      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);\n      wrapperEl.style.top = `${topPosition}px`;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n    default:\n      wrapperEl.style.bottom = bottom;\n      wrapperAnimation.fromTo('opacity', 0.01, 1);\n      break;\n  }\n  return baseAnimation\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(400)\n    .addAnimation(wrapperAnimation);\n};\n\n/**\n * md Toast Leave Animation\n */\nconst mdLeaveAnimation = (baseEl) => {\n  const baseAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const root = getElementRoot(baseEl);\n  const wrapperEl = root.querySelector('.toast-wrapper');\n  wrapperAnimation\n    .addElement(wrapperEl)\n    .fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .easing('cubic-bezier(.36,.66,.04,1)')\n    .duration(300)\n    .addAnimation(wrapperAnimation);\n};\n\nconst toastIosCss = \":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}\";\n\nconst toastMdCss = \":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}\";\n\nlet Toast = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.didPresent = createEvent(this, \"ionToastDidPresent\", 7);\n    this.willPresent = createEvent(this, \"ionToastWillPresent\", 7);\n    this.willDismiss = createEvent(this, \"ionToastWillDismiss\", 7);\n    this.didDismiss = createEvent(this, \"ionToastDidDismiss\", 7);\n    this.presented = false;\n    /**\n     * How many milliseconds to wait before hiding the toast. By default, it will show\n     * until `dismiss()` is called.\n     */\n    this.duration = 0;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = false;\n    /**\n     * The position of the toast on the screen.\n     */\n    this.position = 'bottom';\n    /**\n     * If `true`, the toast will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the toast will animate.\n     */\n    this.animated = true;\n    this.dispatchCancelHandler = (ev) => {\n      const role = ev.detail.role;\n      if (isCancel(role)) {\n        const cancelButton = this.getButtons().find(b => b.role === 'cancel');\n        this.callButtonHandler(cancelButton);\n      }\n    };\n  }\n  connectedCallback() {\n    prepareOverlay(this.el);\n  }\n  /**\n   * Present the toast overlay after it has been created.\n   */\n  async present() {\n    await present(this, 'toastEnter', iosEnterAnimation, mdEnterAnimation, this.position);\n    if (this.duration > 0) {\n      this.durationTimeout = setTimeout(() => this.dismiss(undefined, 'timeout'), this.duration);\n    }\n  }\n  /**\n   * Dismiss the toast overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the toast.\n   * This can be useful in a button handler for determining which button was\n   * clicked to dismiss the toast.\n   * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\n   */\n  dismiss(data, role) {\n    if (this.durationTimeout) {\n      clearTimeout(this.durationTimeout);\n    }\n    return dismiss(this, data, role, 'toastLeave', iosLeaveAnimation, mdLeaveAnimation, this.position);\n  }\n  /**\n   * Returns a promise that resolves when the toast did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionToastDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the toast will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionToastWillDismiss');\n  }\n  getButtons() {\n    const buttons = this.buttons\n      ? this.buttons.map(b => {\n        return (typeof b === 'string')\n          ? { text: b }\n          : b;\n      })\n      : [];\n    return buttons;\n  }\n  async buttonClick(button) {\n    const role = button.role;\n    if (isCancel(role)) {\n      return this.dismiss(undefined, role);\n    }\n    const shouldDismiss = await this.callButtonHandler(button);\n    if (shouldDismiss) {\n      return this.dismiss(undefined, role);\n    }\n    return Promise.resolve();\n  }\n  async callButtonHandler(button) {\n    if (button && button.handler) {\n      // a handler has been provided, execute it\n      // pass the handler the values from the inputs\n      try {\n        const rtn = await safeCall(button.handler);\n        if (rtn === false) {\n          // if the return value of the handler is false then do not dismiss\n          return false;\n        }\n      }\n      catch (e) {\n        console.error(e);\n      }\n    }\n    return true;\n  }\n  renderButtons(buttons, side) {\n    if (buttons.length === 0) {\n      return;\n    }\n    const mode = getIonMode(this);\n    const buttonGroupsClasses = {\n      'toast-button-group': true,\n      [`toast-button-group-${side}`]: true\n    };\n    return (h(\"div\", { class: buttonGroupsClasses }, buttons.map(b => h(\"button\", { type: \"button\", class: buttonClass(b), tabIndex: 0, onClick: () => this.buttonClick(b), part: \"button\" }, h(\"div\", { class: \"toast-button-inner\" }, b.icon &&\n      h(\"ion-icon\", { icon: b.icon, slot: b.text === undefined ? 'icon-only' : undefined, class: \"toast-button-icon\" }), b.text), mode === 'md' && h(\"ion-ripple-effect\", { type: b.icon !== undefined && b.text === undefined ? 'unbounded' : 'bounded' })))));\n  }\n  render() {\n    const allButtons = this.getButtons();\n    const startButtons = allButtons.filter(b => b.side === 'start');\n    const endButtons = allButtons.filter(b => b.side !== 'start');\n    const mode = getIonMode(this);\n    const wrapperClass = {\n      'toast-wrapper': true,\n      [`toast-${this.position}`]: true\n    };\n    const role = allButtons.length > 0 ? 'dialog' : 'status';\n    return (h(Host, Object.assign({ role: role, tabindex: \"-1\" }, this.htmlAttributes, { style: {\n        zIndex: `${60000 + this.overlayIndex}`,\n      }, class: createColorClasses(this.color, Object.assign(Object.assign({ [mode]: true }, getClassMap(this.cssClass)), { 'overlay-hidden': true, 'toast-translucent': this.translucent })), onIonToastWillDismiss: this.dispatchCancelHandler }), h(\"div\", { class: wrapperClass }, h(\"div\", { class: \"toast-container\", part: \"container\" }, this.renderButtons(startButtons, 'start'), this.icon !== undefined &&\n      h(\"ion-icon\", { class: \"toast-icon\", part: \"icon\", icon: this.icon, lazy: false, \"aria-hidden\": \"true\" }), h(\"div\", { class: \"toast-content\" }, this.header !== undefined &&\n      h(\"div\", { class: \"toast-header\", part: \"header\" }, this.header), this.message !== undefined &&\n      h(\"div\", { class: \"toast-message\", part: \"message\", innerHTML: sanitizeDOMString(this.message) })), this.renderButtons(endButtons, 'end')))));\n  }\n  get el() { return this; }\n  static get style() { return {\n    ios: toastIosCss,\n    md: toastMdCss\n  }; }\n};\nconst buttonClass = (button) => {\n  return Object.assign({ 'toast-button': true, 'toast-button-icon-only': button.icon !== undefined && button.text === undefined, [`toast-button-${button.role}`]: button.role !== undefined, 'ion-focusable': true, 'ion-activatable': true }, getClassMap(button.cssClass));\n};\nToast = /*@__PURE__*/ proxyCustomElement(Toast, [33, \"ion-toast\", {\n    \"overlayIndex\": [2, \"overlay-index\"],\n    \"color\": [513],\n    \"enterAnimation\": [16],\n    \"leaveAnimation\": [16],\n    \"cssClass\": [1, \"css-class\"],\n    \"duration\": [2],\n    \"header\": [1],\n    \"message\": [1],\n    \"keyboardClose\": [4, \"keyboard-close\"],\n    \"position\": [1],\n    \"buttons\": [16],\n    \"translucent\": [4],\n    \"animated\": [4],\n    \"icon\": [1],\n    \"htmlAttributes\": [16],\n    \"present\": [64],\n    \"dismiss\": [64],\n    \"onDidDismiss\": [64],\n    \"onWillDismiss\": [64]\n  }]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"ion-toast\", \"ion-icon\", \"ion-ripple-effect\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"ion-toast\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Toast);\n      }\n      break;\n    case \"ion-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$8();\n      }\n      break;\n    case \"ion-ripple-effect\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$7();\n      }\n      break;\n  } });\n}\n\nlet lastId = 0;\nconst activeAnimations = new WeakMap();\nconst createController = (tagName, customElement, childrenCustomElements) => {\n  return {\n    create(options) {\n      return createOverlay(tagName, options, customElement, childrenCustomElements);\n    },\n    dismiss(data, role, id) {\n      return dismissOverlay(document, data, role, tagName, id);\n    },\n    async getTop() {\n      return getOverlay(document, tagName);\n    }\n  };\n};\nconst alertController = /*@__PURE__*/ createController('ion-alert', Alert);\nconst actionSheetController = /*@__PURE__*/ createController('ion-action-sheet', ActionSheet);\nconst loadingController = /*@__PURE__*/ createController('ion-loading', Loading);\nconst modalController = /*@__PURE__*/ createController('ion-modal', Modal);\nconst pickerController = /*@__PURE__*/ createController('ion-picker', Picker, [{ tagName: 'ion-picker-column', customElement: PickerColumnCmp }]);\nconst popoverController = /*@__PURE__*/ createController('ion-popover', Popover);\nconst toastController = /*@__PURE__*/ createController('ion-toast', Toast);\nconst prepareOverlay = (el) => {\n  /* tslint:disable-next-line */\n  if (typeof document !== 'undefined') {\n    connectListeners(document);\n  }\n  const overlayIndex = lastId++;\n  el.overlayIndex = overlayIndex;\n  if (!el.hasAttribute('id')) {\n    el.id = `ion-overlay-${overlayIndex}`;\n  }\n};\nconst createOverlay = (tagName, opts, customElement, childrenCustomElements) => {\n  /* tslint:disable-next-line */\n  if (typeof window.customElements !== 'undefined') {\n    if (typeof window !== 'undefined' && window.customElements) {\n      if (!window.customElements.get(tagName)) {\n        window.customElements.define(tagName, customElement);\n      }\n      /**\n       * If the parent element has nested usage of custom elements,\n       * we need to manually define those custom elements.\n       */\n      if (childrenCustomElements) {\n        for (const customElementDefinition of childrenCustomElements) {\n          if (!window.customElements.get(customElementDefinition.tagName)) {\n            window.customElements.define(customElementDefinition.tagName, customElementDefinition.customElement);\n          }\n        }\n      }\n    }\n    return window.customElements.whenDefined(tagName).then(() => {\n      const element = document.createElement(tagName);\n      element.classList.add('overlay-hidden');\n      /**\n       * Convert the passed in overlay options into props\n       * that get passed down into the new overlay.\n       */\n      Object.assign(element, Object.assign(Object.assign({}, opts), { hasController: true }));\n      // append the overlay element to the document body\n      getAppRoot(document).appendChild(element);\n      return new Promise(resolve => componentOnReady(element, resolve));\n    });\n  }\n  return Promise.resolve();\n};\nconst focusableQueryString = '[tabindex]:not([tabindex^=\"-\"]), input:not([type=hidden]):not([tabindex^=\"-\"]), textarea:not([tabindex^=\"-\"]), button:not([tabindex^=\"-\"]), select:not([tabindex^=\"-\"]), .ion-focusable:not([tabindex^=\"-\"])';\nconst innerFocusableQueryString = 'input:not([type=hidden]), textarea, button, select';\nconst focusFirstDescendant = (ref, overlay) => {\n  let firstInput = ref.querySelector(focusableQueryString);\n  const shadowRoot = firstInput && firstInput.shadowRoot;\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    firstInput = shadowRoot.querySelector(innerFocusableQueryString) || firstInput;\n  }\n  if (firstInput) {\n    focusElement(firstInput);\n  }\n  else {\n    // Focus overlay instead of letting focus escape\n    overlay.focus();\n  }\n};\nconst focusLastDescendant = (ref, overlay) => {\n  const inputs = Array.from(ref.querySelectorAll(focusableQueryString));\n  let lastInput = inputs.length > 0 ? inputs[inputs.length - 1] : null;\n  const shadowRoot = lastInput && lastInput.shadowRoot;\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    lastInput = shadowRoot.querySelector(innerFocusableQueryString) || lastInput;\n  }\n  if (lastInput) {\n    lastInput.focus();\n  }\n  else {\n    // Focus overlay instead of letting focus escape\n    overlay.focus();\n  }\n};\n/**\n * Traps keyboard focus inside of overlay components.\n * Based on https://w3c.github.io/aria-practices/examples/dialog-modal/alertdialog.html\n * This includes the following components: Action Sheet, Alert, Loading, Modal,\n * Picker, and Popover.\n * Should NOT include: Toast\n */\nconst trapKeyboardFocus = (ev, doc) => {\n  const lastOverlay = getOverlay(doc);\n  const target = ev.target;\n  /**\n   * If no active overlay, ignore this event.\n   *\n   * If this component uses the shadow dom,\n   * this global listener is pointless\n   * since it will not catch the focus\n   * traps as they are inside the shadow root.\n   * We need to add a listener to the shadow root\n   * itself to ensure the focus trap works.\n   */\n  if (!lastOverlay || !target) {\n    return;\n  }\n  const trapScopedFocus = () => {\n    /**\n     * If we are focusing the overlay, clear\n     * the last focused element so that hitting\n     * tab activates the first focusable element\n     * in the overlay wrapper.\n     */\n    if (lastOverlay === target) {\n      lastOverlay.lastFocus = undefined;\n      /**\n       * Otherwise, we must be focusing an element\n       * inside of the overlay. The two possible options\n       * here are an input/button/etc or the ion-focus-trap\n       * element. The focus trap element is used to prevent\n       * the keyboard focus from leaving the overlay when\n       * using Tab or screen assistants.\n       */\n    }\n    else {\n      /**\n       * We do not want to focus the traps, so get the overlay\n       * wrapper element as the traps live outside of the wrapper.\n       */\n      const overlayRoot = getElementRoot(lastOverlay);\n      if (!overlayRoot.contains(target)) {\n        return;\n      }\n      const overlayWrapper = overlayRoot.querySelector('.ion-overlay-wrapper');\n      if (!overlayWrapper) {\n        return;\n      }\n      /**\n       * If the target is inside the wrapper, let the browser\n       * focus as normal and keep a log of the last focused element.\n       */\n      if (overlayWrapper.contains(target)) {\n        lastOverlay.lastFocus = target;\n      }\n      else {\n        /**\n         * Otherwise, we must have focused one of the focus traps.\n         * We need to wrap the focus to either the first element\n         * or the last element.\n         */\n        /**\n         * Once we call `focusFirstDescendant` and focus the first\n         * descendant, another focus event will fire which will\n         * cause `lastOverlay.lastFocus` to be updated before\n         * we can run the code after that. We will cache the value\n         * here to avoid that.\n         */\n        const lastFocus = lastOverlay.lastFocus;\n        // Focus the first element in the overlay wrapper\n        focusFirstDescendant(overlayWrapper, lastOverlay);\n        /**\n         * If the cached last focused element is the\n         * same as the active element, then we need\n         * to wrap focus to the last descendant. This happens\n         * when the first descendant is focused, and the user\n         * presses Shift + Tab. The previous line will focus\n         * the same descendant again (the first one), causing\n         * last focus to equal the active element.\n         */\n        if (lastFocus === doc.activeElement) {\n          focusLastDescendant(overlayWrapper, lastOverlay);\n        }\n        lastOverlay.lastFocus = doc.activeElement;\n      }\n    }\n  };\n  const trapShadowFocus = () => {\n    /**\n     * If the target is inside the wrapper, let the browser\n     * focus as normal and keep a log of the last focused element.\n     */\n    if (lastOverlay.contains(target)) {\n      lastOverlay.lastFocus = target;\n    }\n    else {\n      /**\n       * Otherwise, we are about to have focus\n       * go out of the overlay. We need to wrap\n       * the focus to either the first element\n       * or the last element.\n       */\n      /**\n       * Once we call `focusFirstDescendant` and focus the first\n       * descendant, another focus event will fire which will\n       * cause `lastOverlay.lastFocus` to be updated before\n       * we can run the code after that. We will cache the value\n       * here to avoid that.\n       */\n      const lastFocus = lastOverlay.lastFocus;\n      // Focus the first element in the overlay wrapper\n      focusFirstDescendant(lastOverlay, lastOverlay);\n      /**\n       * If the cached last focused element is the\n       * same as the active element, then we need\n       * to wrap focus to the last descendant. This happens\n       * when the first descendant is focused, and the user\n       * presses Shift + Tab. The previous line will focus\n       * the same descendant again (the first one), causing\n       * last focus to equal the active element.\n       */\n      if (lastFocus === doc.activeElement) {\n        focusLastDescendant(lastOverlay, lastOverlay);\n      }\n      lastOverlay.lastFocus = doc.activeElement;\n    }\n  };\n  if (lastOverlay.shadowRoot) {\n    trapShadowFocus();\n  }\n  else {\n    trapScopedFocus();\n  }\n};\nconst connectListeners = (doc) => {\n  if (lastId === 0) {\n    lastId = 1;\n    doc.addEventListener('focus', ev => trapKeyboardFocus(ev, doc), true);\n    // handle back-button click\n    doc.addEventListener('ionBackButton', ev => {\n      const lastOverlay = getTopOpenOverlay(doc);\n      if (lastOverlay && lastOverlay.backdropDismiss) {\n        ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, () => {\n          return lastOverlay.dismiss(undefined, BACKDROP);\n        });\n      }\n    });\n    // handle ESC to close overlay\n    doc.addEventListener('keyup', ev => {\n      if (ev.key === 'Escape') {\n        const lastOverlay = getTopOpenOverlay(doc);\n        if (lastOverlay && lastOverlay.backdropDismiss) {\n          lastOverlay.dismiss(undefined, BACKDROP);\n        }\n      }\n    });\n  }\n};\nconst dismissOverlay = (doc, data, role, overlayTag, id) => {\n  const overlay = getOverlay(doc, overlayTag, id);\n  if (!overlay) {\n    return Promise.reject('overlay does not exist');\n  }\n  return overlay.dismiss(data, role);\n};\nconst getOverlays = (doc, selector) => {\n  if (selector === undefined) {\n    selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\n  }\n  return Array.from(doc.querySelectorAll(selector))\n    .filter(c => c.overlayIndex > 0);\n};\n/**\n * Gets the top-most/last opened\n * overlay that is currently presented.\n */\nconst getTopOpenOverlay = (doc) => {\n  const overlays = getOverlays(doc);\n  for (let i = overlays.length - 1; i >= 0; i--) {\n    const overlay = overlays[i];\n    /**\n     * Only consider overlays that\n     * are presented. Presented overlays\n     * will not have the .overlay-hidden\n     * class on the host.\n     */\n    if (!overlay.classList.contains('overlay-hidden')) {\n      return overlay;\n    }\n  }\n  return;\n};\nconst getOverlay = (doc, overlayTag, id) => {\n  const overlays = getOverlays(doc, overlayTag);\n  return (id === undefined)\n    ? overlays[overlays.length - 1]\n    : overlays.find(o => o.id === id);\n};\n/**\n * When an overlay is presented, the main\n * focus is the overlay not the page content.\n * We need to remove the page content from the\n * accessibility tree otherwise when\n * users use \"read screen from top\" gestures with\n * TalkBack and VoiceOver, the screen reader will begin\n * to read the content underneath the overlay.\n *\n * We need a container where all page components\n * exist that is separate from where the overlays\n * are added in the DOM. For most apps, this element\n * is the top most ion-router-outlet. In the event\n * that devs are not using a router,\n * they will need to add the \"ion-view-container-root\"\n * id to the element that contains all of their views.\n *\n * TODO: If Framework supports having multiple top\n * level router outlets we would need to update this.\n * Example: One outlet for side menu and one outlet\n * for main content.\n */\nconst setRootAriaHidden = (hidden = false) => {\n  const root = getAppRoot(document);\n  const viewContainer = root.querySelector('ion-router-outlet, ion-nav, #ion-view-container-root');\n  if (!viewContainer) {\n    return;\n  }\n  if (hidden) {\n    viewContainer.setAttribute('aria-hidden', 'true');\n  }\n  else {\n    viewContainer.removeAttribute('aria-hidden');\n  }\n};\nconst present = async (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) => {\n  var _a, _b;\n  if (overlay.presented) {\n    return;\n  }\n  setRootAriaHidden(true);\n  overlay.presented = true;\n  overlay.willPresent.emit();\n  (_a = overlay.willPresentShorthand) === null || _a === void 0 ? void 0 : _a.emit();\n  const mode = getIonMode(overlay);\n  // get the user's animation fn if one was provided\n  const animationBuilder = (overlay.enterAnimation)\n    ? overlay.enterAnimation\n    : config.get(name, mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\n  const completed = await overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n  if (completed) {\n    overlay.didPresent.emit();\n    (_b = overlay.didPresentShorthand) === null || _b === void 0 ? void 0 : _b.emit();\n  }\n  /**\n   * When an overlay that steals focus\n   * is dismissed, focus should be returned\n   * to the element that was focused\n   * prior to the overlay opening. Toast\n   * does not steal focus and is excluded\n   * from returning focus as a result.\n   */\n  if (overlay.el.tagName !== 'ION-TOAST') {\n    focusPreviousElementOnDismiss(overlay.el);\n  }\n  if (overlay.keyboardClose) {\n    overlay.el.focus();\n  }\n};\n/**\n * When an overlay component is dismissed,\n * focus should be returned to the element\n * that presented the overlay. Otherwise\n * focus will be set on the body which\n * means that people using screen readers\n * or tabbing will need to re-navigate\n * to where they were before they\n * opened the overlay.\n */\nconst focusPreviousElementOnDismiss = async (overlayEl) => {\n  let previousElement = document.activeElement;\n  if (!previousElement) {\n    return;\n  }\n  const shadowRoot = previousElement && previousElement.shadowRoot;\n  if (shadowRoot) {\n    // If there are no inner focusable elements, just focus the host element.\n    previousElement = shadowRoot.querySelector(innerFocusableQueryString) || previousElement;\n  }\n  await overlayEl.onDidDismiss();\n  previousElement.focus();\n};\nconst dismiss = async (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) => {\n  var _a, _b;\n  if (!overlay.presented) {\n    return false;\n  }\n  setRootAriaHidden(false);\n  overlay.presented = false;\n  try {\n    // Overlay contents should not be clickable during dismiss\n    overlay.el.style.setProperty('pointer-events', 'none');\n    overlay.willDismiss.emit({ data, role });\n    (_a = overlay.willDismissShorthand) === null || _a === void 0 ? void 0 : _a.emit({ data, role });\n    const mode = getIonMode(overlay);\n    const animationBuilder = (overlay.leaveAnimation)\n      ? overlay.leaveAnimation\n      : config.get(name, mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\n    // If dismissed via gesture, no need to play leaving animation again\n    if (role !== 'gesture') {\n      await overlayAnimation(overlay, animationBuilder, overlay.el, opts);\n    }\n    overlay.didDismiss.emit({ data, role });\n    (_b = overlay.didDismissShorthand) === null || _b === void 0 ? void 0 : _b.emit({ data, role });\n    activeAnimations.delete(overlay);\n    // Make overlay hidden again in case it is being reused\n    overlay.el.classList.add('overlay-hidden');\n  }\n  catch (err) {\n    console.error(err);\n  }\n  overlay.el.remove();\n  return true;\n};\nconst getAppRoot = (doc) => {\n  return doc.querySelector('ion-app') || doc.body;\n};\nconst overlayAnimation = async (overlay, animationBuilder, baseEl, opts) => {\n  // Make overlay visible in case it's hidden\n  baseEl.classList.remove('overlay-hidden');\n  const aniRoot = overlay.el;\n  const animation = animationBuilder(aniRoot, opts);\n  if (!overlay.animated || !config.getBoolean('animated', true)) {\n    animation.duration(0);\n  }\n  if (overlay.keyboardClose) {\n    animation.beforeAddWrite(() => {\n      const activeElement = baseEl.ownerDocument.activeElement;\n      if (activeElement && activeElement.matches('input,ion-input, ion-textarea')) {\n        activeElement.blur();\n      }\n    });\n  }\n  const activeAni = activeAnimations.get(overlay) || [];\n  activeAnimations.set(overlay, [...activeAni, animation]);\n  await animation.play();\n  return true;\n};\nconst eventMethod = (element, eventName) => {\n  let resolve;\n  const promise = new Promise(r => resolve = r);\n  onceEvent(element, eventName, (event) => {\n    resolve(event.detail);\n  });\n  return promise;\n};\nconst onceEvent = (element, eventName, callback) => {\n  const handler = (ev) => {\n    removeEventListener(element, eventName, handler);\n    callback(ev);\n  };\n  addEventListener(element, eventName, handler);\n};\nconst isCancel = (role) => {\n  return role === 'cancel' || role === BACKDROP;\n};\nconst defaultGate = (h) => h();\n/**\n * Calls a developer provided method while avoiding\n * Angular Zones. Since the handler is provided by\n * the developer, we should throw any errors\n * received so that developer-provided bug\n * tracking software can log it.\n */\nconst safeCall = (handler, arg) => {\n  if (typeof handler === 'function') {\n    const jmp = config.get('_zoneGate', defaultGate);\n    return jmp(() => {\n      try {\n        return handler(arg);\n      }\n      catch (e) {\n        throw e;\n      }\n    });\n  }\n  return undefined;\n};\nconst BACKDROP = 'backdrop';\n\nexport { ActionSheet as A, Loading as L, Modal as M, Picker as P, Toast as T, alertController as a, actionSheetController as b, popoverController as c, defineCustomElement$6 as d, Alert as e, defineCustomElement$5 as f, defineCustomElement$1 as g, defineCustomElement$4 as h, defineCustomElement$3 as i, defineCustomElement$2 as j, Popover as k, loadingController as l, modalController as m, defineCustomElement as n, pickerController as p, safeCall as s, toastController as t };\n"]},"metadata":{},"sourceType":"module"}