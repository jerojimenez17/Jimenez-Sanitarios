{"ast":null,"code":"import _asyncToGenerator from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/regenerator/index.js\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonGrid,IonHeader,IonIcon,IonItem,IonMenuButton,IonPage,IonRow,IonTitle,IonToolbar}from'@ionic/react';import{add,close,pencil}from'ionicons/icons';import{useState,useEffect}from'react';import{useHistory,useParams}from'react-router';import{removeSupplier,searchSuppliers}from'./SupplierApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SupplierList=function SupplierList(){var _useParams=useParams(),name=_useParams.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),proveedores=_useState2[0],setProveedores=_useState2[1];var history=useHistory();useEffect(function(){search();},[history.location.pathname]);var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return searchSuppliers();case 2:result=_context.sent;setProveedores(result);case 4:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();var remove=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return removeSupplier(id);case 2:search();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function remove(_x){return _ref2.apply(this,arguments);};}();var addSupplier=function addSupplier(){history.push('/page/supplier/new');};var editSupplier=function editSupplier(id){history.push('/page/supplier/'+id);};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonHeader,{collapse:\"condense\",children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})})}),/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{children:\"Gestion de proveedores\"}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:addSupplier,color:\"primary\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:add}),\"Agregar proveedor\"]})}),/*#__PURE__*/_jsxs(IonGrid,{className:\"table\",children:[/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:\"Nombre\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Email\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Telefono\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Direccion\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Acciones\"})]}),proveedores.map(function(proveedor){return/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsxs(IonCol,{children:[proveedor.name,\" \"]}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.email}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.phone}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.address}),/*#__PURE__*/_jsx(IonCol,{children:proveedor.contact}),/*#__PURE__*/_jsxs(IonCol,{children:[/*#__PURE__*/_jsx(IonButton,{onClick:function onClick(){return editSupplier(String(proveedor.id));},color:\"primary\",fill:\"clear\",children:/*#__PURE__*/_jsx(IonIcon,{icon:pencil,slot:\"icon-only\"})}),/*#__PURE__*/_jsx(IonButton,{color:\"danger\",fill:\"clear\",onClick:function onClick(){return remove(String(proveedor.id));},children:/*#__PURE__*/_jsx(IonIcon,{icon:close,slot:\"icon-only\"})})]})]});})]})]})})]})]});};export default SupplierList;","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/src/pages/suppliers/SupplierList.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonGrid","IonHeader","IonIcon","IonItem","IonMenuButton","IonPage","IonRow","IonTitle","IonToolbar","add","close","pencil","useState","useEffect","useHistory","useParams","removeSupplier","searchSuppliers","SupplierList","name","proveedores","setProveedores","history","search","location","pathname","result","remove","id","addSupplier","push","editSupplier","map","proveedor","email","phone","address","contact","String"],"mappings":"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","sourcesContent":["import { IonButton, IonButtons, IonCard, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonItem, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, close, pencil } from 'ionicons/icons';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useParams, useRouteMatch } from 'react-router';\nimport ExploreContainer from '../../components/ExploreContainer';\nimport Supplier from './Supplier';\nimport {removeSupplier, searchSuppliers } from './SupplierApi';\n\n\nconst SupplierList: React.FC = () => {\n    \n    const { name } = useParams<{ name: string; }>();\n\n    const [proveedores,setProveedores] = useState<Supplier[]>([]);\n    \n    const history = useHistory();\n\n    useEffect(() => {\n        search();\n    }, [history.location.pathname]);\n    \n    const search = async ()=> {\n        let result = await searchSuppliers();\n        setProveedores(result);\n\n    }\n    const remove = async(id:string)=>{\n        await removeSupplier(id);\n        search();\n    }\n    const addSupplier = () =>{\n        history.push('/page/supplier/new')\n    }\n\n    const editSupplier = (id:string)=> {\n        history.push('/page/supplier/'+id);\n    }\n    \n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar>\n                    <IonButtons slot=\"start\">\n                        <IonMenuButton />\n                    </IonButtons>\n                    <IonTitle>{name}</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n\n            <IonContent fullscreen>\n                <IonHeader collapse=\"condense\">\n                    <IonToolbar>\n                        <IonTitle size=\"large\">{name}</IonTitle>\n                    </IonToolbar>\n                </IonHeader>\n\n\n\n                <IonContent>\n                    <IonCard>\n                    <IonTitle>Gestion de proveedores</IonTitle>\n\n                    <IonItem>\n                        <IonButton onClick={addSupplier} color='primary' fill='solid' slot='end' size='default'>\n                            <IonIcon icon={add}/>\n                            Agregar proveedor\n                        </IonButton>\n                    </IonItem>\n\n                        <IonGrid className='table'>\n                            <IonRow>\n                                <IonCol>Nombre</IonCol>\n                                <IonCol>Email</IonCol>\n                                <IonCol>Telefono</IonCol>\n                                <IonCol>Direccion</IonCol>\n                                <IonCol>Acciones</IonCol>\n                            </IonRow>\n\n                            {proveedores.map((proveedor:Supplier) =>\n                                \n                            <IonRow>\n                                <IonCol>{proveedor.name} </IonCol>\n                                <IonCol>{proveedor.email}</IonCol>\n                                <IonCol>{proveedor.phone}</IonCol>\n                                <IonCol>{proveedor.address}</IonCol>\n                                <IonCol>{proveedor.contact}</IonCol>\n                                <IonCol>\n                                    <IonButton onClick={()=>editSupplier(String(proveedor.id))} color='primary' fill='clear'>\n                                        <IonIcon icon={pencil} slot='icon-only'/>\n                                    </IonButton>\n                                    <IonButton color='danger' fill='clear'\n                                        onClick={()=>remove(String(proveedor.id))}>\n                                        <IonIcon icon={close} slot='icon-only'/>\n                                    </IonButton>\n                                </IonCol>\n                            </IonRow>\n                            )}\n\n                        </IonGrid>\n                    </IonCard>\n                </IonContent>\n\n\n\n\n\n            </IonContent>\n        </IonPage>\n    );\n};\n\nexport default SupplierList;\n"]},"metadata":{},"sourceType":"module"}