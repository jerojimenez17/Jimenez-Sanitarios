{"ast":null,"code":"import _slicedToArray from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonFab,IonFabButton,IonFabList,IonGrid,IonHeader,IonIcon,IonInfiniteScroll,IonInfiniteScrollContent,IonItem,IonMenuButton,IonPage,IonRow,IonSearchbar,IonTitle,IonToolbar}from'@ionic/react';import{add,cart}from'ionicons/icons';import{useState,useEffect}from'react';import{useHistory,useParams}from'react-router';import Cart from'../../components/cart/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var data=require('./Taladro.json');var ProductsTaladroList=function ProductsTaladroList(){var _useParams=useParams(),name=_useParams.name;var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(100),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchText=_useState6[0],setSearchText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isInfiniteDisabled=_useState8[0],setInfiniteDisabled=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),productToCart=_useState10[0],setProductToCart=_useState10[1];useEffect(function(){},[searchText,productToCart]);/* \n    const search = async ()=> {\n        let result = await searchSuppliers();\n        setProveedores(result);\n\n    }\n   const remove = async(id:string)=>{\n        await removeSupplier(id);\n        search();\n    }\n    const addSupplier = () =>{\n        history.push('/page/supplier/new')\n    }\n\n    const editSupplier = (id:string)=> {\n        history.push('/page/supplier/'+id);\n    }\n    */var loadData=function loadData(ev){setTimeout(function(){setRowsPerPage(rowsPerPage+100);ev.target.complete();},500);};var addToCart=function addToCart(product){var aux=productToCart;setProductToCart(aux);};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})})})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonHeader,{collapse:\"condense\",children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})})}),/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsx(IonSearchbar,{value:searchText,onIonChange:function onIonChange(e){return setSearchText(e.detail.value);},placeholder:\"Buscar...\",showCancelButton:\"focus\"}),/*#__PURE__*/_jsxs(IonFab,{className:\"floatingButton\",vertical:\"top\",horizontal:\"start\",edge:true,slot:\"fixed\",children:[/*#__PURE__*/_jsx(IonFabButton,{children:/*#__PURE__*/_jsx(IonIcon,{icon:cart})}),/*#__PURE__*/_jsx(IonFabList,{side:\"end\",children:/*#__PURE__*/_jsx(Cart,{product:productToCart})})]}),/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{className:\"title\",children:\"Lista El Taladro\"}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{color:\"primary\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:add}),\"Agregar proveedor\"]})}),/*#__PURE__*/_jsxs(IonGrid,{className:\"table\",children:[/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:\"Codigo\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Descripcion\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Precio\"})]}),data.filter(function(producto){var _producto$description,_producto$cod;return((_producto$description=producto.description)===null||_producto$description===void 0?void 0:_producto$description.toString().toLocaleLowerCase().includes(searchText.toLocaleLowerCase()))||((_producto$cod=producto.cod)===null||_producto$cod===void 0?void 0:_producto$cod.toString().toLocaleLowerCase().includes(searchText.toLocaleLowerCase()));}).slice(0,rowsPerPage).map(function(producto,id){return/*#__PURE__*/_jsxs(IonRow,{className:\"fila\",children:[/*#__PURE__*/_jsxs(IonCol,{children:[producto.cod,\" \"]}),/*#__PURE__*/_jsx(IonCol,{children:producto.description}),/*#__PURE__*/_jsx(IonCol,{children:\"$\"+Number(producto.price).toFixed()}),/*#__PURE__*/_jsx(IonButtons,{children:/*#__PURE__*/_jsx(IonButton,{size:\"small\",fill:\"solid\",color:\"success\",onClick:function onClick(e){setProductToCart(producto);},children:/*#__PURE__*/_jsx(IonIcon,{icon:add})})})]},producto.id);}),/*#__PURE__*/_jsx(IonInfiniteScroll,{onIonInfinite:loadData,threshold:\"100px\",disabled:isInfiniteDisabled,children:/*#__PURE__*/_jsx(IonInfiniteScrollContent,{loadingSpinner:\"bubbles\",loadingText:\"Cargando Productos...\"})})]})]})]})]})]});};export default ProductsTaladroList;","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/src/pages/products/ProductsTaladroList.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonFab","IonFabButton","IonFabList","IonGrid","IonHeader","IonIcon","IonInfiniteScroll","IonInfiniteScrollContent","IonItem","IonMenuButton","IonPage","IonRow","IonSearchbar","IonTitle","IonToolbar","add","cart","useState","useEffect","useHistory","useParams","Cart","data","require","ProductsTaladroList","name","history","page","setPage","rowsPerPage","setRowsPerPage","searchText","setSearchText","isInfiniteDisabled","setInfiniteDisabled","productToCart","setProductToCart","loadData","ev","setTimeout","target","complete","addToCart","product","aux","e","detail","value","filter","producto","description","toString","toLocaleLowerCase","includes","cod","slice","map","id","Number","price","toFixed"],"mappings":"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","sourcesContent":["\nimport { IonButton, IonButtons, IonCard, IonCol, IonContent, IonFab, IonFabButton, IonFabList, IonGrid, IonHeader, IonIcon, IonInfiniteScroll, IonInfiniteScrollContent, IonInput, IonItem, IonList, IonMenuButton, IonPage, IonRow, IonSearchbar, IonSplitPane, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, car, cart, close, logoVimeo, pencil } from 'ionicons/icons';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useParams, useRouteMatch } from 'react-router';\nimport Cart from '../../components/cart/Cart';\nimport ExploreContainer from '../../components/ExploreContainer';\nimport Product from './Product';\nimport taladro from './ReaderTaladro/ReaderTaladro';\n\n\nconst data: Product[] = require('./Taladro.json');\nconst ProductsTaladroList: React.FC = () => {\n\n    const { name } = useParams<{ name: string; }>();\n\n\n    const history = useHistory();\n\n\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(100);\n    const [searchText, setSearchText] = useState('');\n\n    const [isInfiniteDisabled, setInfiniteDisabled] = useState(false);\n    const [productToCart,setProductToCart] = useState<Product>({});\n\n\n    useEffect(() => {\n   \n        \n    }, [ searchText,productToCart]);\n    /* \n    const search = async ()=> {\n        let result = await searchSuppliers();\n        setProveedores(result);\n\n    }\n   const remove = async(id:string)=>{\n        await removeSupplier(id);\n        search();\n    }\n    const addSupplier = () =>{\n        history.push('/page/supplier/new')\n    }\n\n    const editSupplier = (id:string)=> {\n        history.push('/page/supplier/'+id);\n    }\n    */\n\n    const loadData = (ev: any) => {\n        setTimeout(() => {\n\n            setRowsPerPage(rowsPerPage + 100);\n            ev.target.complete();\n        }, 500);\n    }\n    const addToCart= (product:Product)=>{\n        let aux = productToCart;\n        \n        setProductToCart(aux)\n    }\n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar>\n                    <IonButtons slot=\"start\">\n                        <IonMenuButton />\n                    </IonButtons>\n                    \n                </IonToolbar>\n            </IonHeader>\n\n            <IonContent fullscreen>\n                <IonHeader collapse=\"condense\">\n                    <IonToolbar>\n                        <IonTitle size=\"large\">{name}</IonTitle>\n                    </IonToolbar>\n                </IonHeader>\n\n\n\n                <IonContent>\n                    <IonSearchbar value={searchText} onIonChange={(e: any) => setSearchText(e.detail.value)} placeholder=\"Buscar...\" showCancelButton=\"focus\"></IonSearchbar>\n                    <IonFab className='floatingButton' vertical=\"top\" horizontal=\"start\" edge slot=\"fixed\">\n                        <IonFabButton>\n                            <IonIcon icon={cart} />\n                        </IonFabButton>\n                        <IonFabList side=\"end\">\n                            <Cart product={productToCart}/>\n                        </IonFabList>\n                    </IonFab>\n                    <IonCard>\n                        <IonTitle className='title'>Lista El Taladro</IonTitle>\n\n                        <IonItem>\n                            <IonButton color='primary' fill='solid' slot='end' size='default'>\n                                <IonIcon icon={add} />\n                                Agregar proveedor\n                            </IonButton>\n                        </IonItem>\n                        \n                        <IonGrid className='table'>\n                   \n                        \n                            <IonRow>\n                                <IonCol>Codigo</IonCol>\n                                <IonCol>Descripcion</IonCol>\n                                <IonCol>Precio</IonCol>\n                            </IonRow>\n\n                            {\n                             data\n                               \n                                .filter(\n                                    (producto: Product) => {\n\n                                        return (producto.description?.toString().toLocaleLowerCase().includes(searchText.toLocaleLowerCase()) || (producto.cod?.toString().toLocaleLowerCase().includes(searchText.toLocaleLowerCase())))\n                                    })\n                                .slice(0, rowsPerPage)\n                            \n\n                                .map((producto: Product, id: number) =>\n    \n\n                                        <IonRow key={producto.id} className=\"fila\" >\n                                            <IonCol >{producto.cod} </IonCol>\n                                            <IonCol>{producto.description}</IonCol>\n                                            <IonCol>{\"$\" + Number(producto.price).toFixed()}</IonCol>\n                                            <IonButtons>\n                                                <IonButton size='small' fill='solid' color='success' onClick={(e:any)=>{\n                                                    setProductToCart(producto);\n                                                }}>\n                                                    \n                                                    <IonIcon icon={add}/>\n                                                </IonButton>\n                                            </IonButtons>\n                                        \n                                        </IonRow>\n                                \n\n                                )}\n                            <IonInfiniteScroll\n                                onIonInfinite={loadData}\n                                threshold=\"100px\"\n                                disabled={isInfiniteDisabled}\n\n                            >\n                                <IonInfiniteScrollContent\n                                    loadingSpinner=\"bubbles\"\n                                    loadingText=\"Cargando Productos...\"\n                                ></IonInfiniteScrollContent>\n                            </IonInfiniteScroll>\n                        </IonGrid>\n                    </IonCard>\n                </IonContent>\n\n\n\n\n\n            </IonContent>\n        </IonPage>\n    );\n};\n\nexport default ProductsTaladroList;\n\n\n"]},"metadata":{},"sourceType":"module"}