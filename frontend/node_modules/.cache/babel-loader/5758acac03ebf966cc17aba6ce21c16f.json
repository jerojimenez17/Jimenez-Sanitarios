{"ast":null,"code":"const toProductCart = product => {\n  return { ...product,\n    amount: 1\n  };\n};\n\nexport const CartReducer = (state, action) => {\n  switch (action.type) {\n    // case 'addItem':\n    //     const pay=toProductCart(action.payload);\n    //     return {\n    //         ...state,\n    //         products: [...state.products, pay],\n    //         amount: state.amount + 1,\n    //         total: state.total + parseFloat(pay.price)\n    //     }\n    case 'removeItem':\n      return { ...state,\n        products: [...state.products.slice(0, action.payload), ...state.products.slice(action.payload + 1)],\n        amount: state.amount - 1,\n        total: state.total - parseFloat(state.products[action.payload].price)\n      };\n\n    case 'removeAll':\n      return { ...state,\n        products: [],\n        amount: 0,\n        total: 0\n      };\n\n    case 'updateAmount':\n      return { ...state,\n        products: state.products.map(product => {\n          if (product.id === Number(action.payload.id)) {\n            state.amount = state.amount + 1;\n            state.total = state.total + parseFloat(product.price);\n            return { ...product,\n              amount: product.amount + 1\n            };\n          }\n\n          return product;\n        })\n      };\n\n    default:\n      return state;\n  }\n};\n_c = CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/src/context/CartReducer.ts"],"names":["toProductCart","product","amount","CartReducer","state","action","type","products","slice","payload","total","parseFloat","price","map","id","Number"],"mappings":"AAWA,MAAMA,aAAa,GAAGC,OAAD,IAAkC;AACnD,SAAO,EACH,GAAGA,OADA;AAEHC,IAAAA,MAAM,EAAE;AAFL,GAAP;AAIH,CALD;;AAQA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAmBC,MAAnB,KAA0C;AACjE,UAAOA,MAAM,CAACC,IAAd;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAK,YAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHG,QAAAA,QAAQ,EAAC,CAAC,GAAGH,KAAK,CAACG,QAAN,CAAeC,KAAf,CAAqB,CAArB,EAAuBH,MAAM,CAACI,OAA9B,CAAJ,EAA4C,GAAGL,KAAK,CAACG,QAAN,CAAeC,KAAf,CAAqBH,MAAM,CAACI,OAAP,GAAe,CAApC,CAA/C,CAFN;AAGHP,QAAAA,MAAM,EAAEE,KAAK,CAACF,MAAN,GAAe,CAHpB;AAIHQ,QAAAA,KAAK,EAAEN,KAAK,CAACM,KAAN,GAAcC,UAAU,CAACP,KAAK,CAACG,QAAN,CAAeF,MAAM,CAACI,OAAtB,EAA+BG,KAAhC;AAJ5B,OAAP;;AAMJ,SAAK,WAAL;AACI,aAAO,EACH,GAAGR,KADA;AAEHG,QAAAA,QAAQ,EAAC,EAFN;AAGHL,QAAAA,MAAM,EAAE,CAHL;AAIHQ,QAAAA,KAAK,EAAE;AAJJ,OAAP;;AAMJ,SAAK,cAAL;AACI,aAAO,EACH,GAAGN,KADA;AAEHG,QAAAA,QAAQ,EAAEH,KAAK,CAACG,QAAN,CAAeM,GAAf,CAAmBZ,OAAO,IAAI;AACpC,cAAGA,OAAO,CAACa,EAAR,KAAeC,MAAM,CAAEV,MAAM,CAACI,OAAP,CAAeK,EAAjB,CAAxB,EAA6C;AACzCV,YAAAA,KAAK,CAACF,MAAN,GAAeE,KAAK,CAACF,MAAN,GAAe,CAA9B;AACAE,YAAAA,KAAK,CAACM,KAAN,GAAcN,KAAK,CAACM,KAAN,GAAcC,UAAU,CAACV,OAAO,CAACW,KAAT,CAAtC;AACA,mBAAO,EACH,GAAGX,OADA;AAEHC,cAAAA,MAAM,EAAED,OAAO,CAACC,MAAR,GAAiB;AAFtB,aAAP;AAIH;;AACD,iBAAOD,OAAP;AACH,SAVS;AAFP,OAAP;;AAeJ;AACI,aAAOG,KAAP;AAxCR;AA2CH,CA5CM;KAAMD,W","sourcesContent":["import CartState from \"../interfaces/CartState\";\nimport Product from \"../interfaces/Product\";\nimport ProductCart from \"../interfaces/ProductCart\";\n\ntype CartAction = \n   | {type:'addItem', payload: Product}\n   | {type:'removeItem', payload: number}\n    | {type:'removeAll', payload: Product}\n    | {type:'updateAmount', payload: {id:string}}\n    | {type:'updateTotal', payload: ProductCart};\n\nconst toProductCart= (product: Product):ProductCart => {\n    return {\n        ...product,\n        amount: 1,\n    }\n}\n\n\nexport const CartReducer = (state: CartState, action: CartAction) => {\n    switch(action.type){\n        // case 'addItem':\n        //     const pay=toProductCart(action.payload);\n        //     return {\n        //         ...state,\n        //         products: [...state.products, pay],\n        //         amount: state.amount + 1,\n        //         total: state.total + parseFloat(pay.price)\n        //     }\n        case 'removeItem':\n            return {\n                ...state,\n                products:[...state.products.slice(0,action.payload), ...state.products.slice(action.payload+1)],\n                amount: state.amount - 1,\n                total: state.total - parseFloat(state.products[action.payload].price)\n            }\n        case 'removeAll':\n            return {\n                ...state,\n                products:[],  \n                amount: 0,\n                total: 0  \n            }\n        case 'updateAmount':\n            return {\n                ...state,\n                products: state.products.map(product => {\n                    if(product.id === Number( action.payload.id)){\n                        state.amount = state.amount + 1;\n                        state.total = state.total + parseFloat(product.price);\n                        return {\n                            ...product,\n                            amount: product.amount + 1\n                        }\n                    }\n                    return product;\n                }),    \n            }\n\n        default:\n            return state;\n\n    }\n}"]},"metadata":{},"sourceType":"module"}