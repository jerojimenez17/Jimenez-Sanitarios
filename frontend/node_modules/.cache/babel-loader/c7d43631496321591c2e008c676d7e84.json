{"ast":null,"code":"import _asyncToGenerator from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/regenerator/index.js\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonHeader,IonIcon,IonInput,IonItem,IonLabel,IonMenuButton,IonPage,IonRow,IonTitle,IonToolbar}from'@ionic/react';import{checkmark}from'ionicons/icons';import{useState,useEffect}from'react';import{useHistory,useParams,useRouteMatch}from'react-router';import{saveSupplier,searchSupplierById}from'./SupplierApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SupplierEdit=function SupplierEdit(){var _routeMatch$params;var _useParams=useParams(),name=_useParams.name;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),supplier=_useState2[0],setSupplier=_useState2[1];var history=useHistory();var routeMatch=useRouteMatch(\"/page/supplier/:id\");var id=routeMatch===null||routeMatch===void 0?void 0:(_routeMatch$params=routeMatch.params)===null||_routeMatch$params===void 0?void 0:_routeMatch$params.id;useEffect(function(){search();},[history.location.pathname]);var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(id==='new')){_context.next=4;break;}setSupplier({});_context.next=8;break;case 4:_context.next=6;return searchSupplierById(id);case 6:result=_context.sent;setSupplier(result);case 8:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();var save=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return saveSupplier(supplier);case 2:history.push('/page/suppliers/');case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function save(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonHeader,{collapse:\"condense\",children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})})}),/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{children:id==='new'?'Agregar Proveedor':'Editar Proveedor'}),/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Nombre\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(e){return supplier.name=String(e.detail.value);},value:supplier.name,children:\" \"})]})}),/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Contacto\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(e){return supplier.contact=String(e.detail.value);},value:supplier.contact,children:\" \"})]})})]}),/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Email\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(e){return supplier.email=String(e.detail.value);},value:supplier.email,children:\" \"})]})}),/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Direccion\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(e){return supplier.address=String(e.detail.value);},value:supplier.address,children:\" \"})]})}),/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Telefono\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(e){return supplier.phone=String(e.detail.value);},value:supplier.phone,children:\" \"})]})})]}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:save,color:\"success\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:checkmark}),\"Guardar\"]})})]})})]})]});};export default SupplierEdit;","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/src/pages/suppliers/SupplierEdit.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonHeader","IonIcon","IonInput","IonItem","IonLabel","IonMenuButton","IonPage","IonRow","IonTitle","IonToolbar","checkmark","useState","useEffect","useHistory","useParams","useRouteMatch","saveSupplier","searchSupplierById","SupplierEdit","name","supplier","setSupplier","history","routeMatch","id","params","search","location","pathname","result","save","push","e","String","detail","value","contact","email","address","phone"],"mappings":"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","sourcesContent":["import { IonButton, IonButtons, IonCard, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonInput, IonItem, IonLabel, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, checkmark, close, pencil, text } from 'ionicons/icons';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useParams, useRouteMatch } from 'react-router';\nimport ExploreContainer from '../../components/ExploreContainer';\nimport Supplier from './Supplier';\nimport {removeSupplier, saveSupplier, searchSuppliers, searchSupplierById } from './SupplierApi';\n\n\nconst SupplierEdit: React.FC = () => {\n    \n    const { name} = useParams<{ name: string;}>();\n\n    const [supplier,setSupplier] = useState<Supplier>({});\n    const history = useHistory();\n\n    const routeMatch: any = useRouteMatch(\"/page/supplier/:id\");\n    const id = routeMatch?.params?.id;\n    \n    \n    useEffect(() => {\n        search();\n    }, [history.location.pathname]);\n    \n     const search = async ()=> {\n         if(id === 'new'){\n            setSupplier({});   \n         }\n         else{\n             let result = await searchSupplierById(id);\n             setSupplier(result);\n         }\n    }\n\n    const save = async() =>{\n        await saveSupplier(supplier);\n        history.push('/page/suppliers/');\n    }\n\n\n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar>\n                    <IonButtons slot=\"start\">\n                        <IonMenuButton />\n                    </IonButtons>\n                    <IonTitle>{name}</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n\n            <IonContent fullscreen>\n                <IonHeader collapse=\"condense\">\n                    <IonToolbar>\n                        <IonTitle size=\"large\">{name}</IonTitle>\n                    </IonToolbar>\n                </IonHeader>\n\n\n\n                <IonContent>\n                    <IonCard>\n                    <IonTitle>{id==='new'? 'Agregar Proveedor' : 'Editar Proveedor'}</IonTitle>\n                    \n                    \n                    \n                    <IonRow>\n                    <IonCol>\n\n                    <IonItem>\n                        <IonLabel position=\"stacked\">Nombre</IonLabel>\n                        <IonInput onIonChange={e =>supplier.name= String(e.detail.value)} value={supplier.name}> </IonInput>\n                    </IonItem>\n                    </IonCol>\n\n                    <IonCol>\n\n                        <IonItem>\n                            <IonLabel position=\"stacked\">Contacto</IonLabel>\n                            <IonInput onIonChange={e => supplier.contact =String(e.detail.value)} value={supplier.contact}> </IonInput>\n                        </IonItem>\n                    </IonCol>\n                    </IonRow>\n                    <IonRow>\n                    <IonCol>\n                        <IonItem>\n                            <IonLabel position=\"stacked\">Email</IonLabel>\n                            <IonInput onIonChange={e => supplier.email =String( e.detail.value)} value={supplier.email}> </IonInput>\n                        </IonItem>\n                    </IonCol>\n                    \n                    <IonCol>\n\n                        <IonItem>\n                        <IonLabel position=\"stacked\">Direccion</IonLabel>\n                        <IonInput onIonChange={e => supplier.address=String( e.detail.value)} value={supplier.address}> </IonInput>\n                        </IonItem>\n                    \n                    </IonCol>\n                    <IonCol>\n\n                        <IonItem>\n                            <IonLabel position=\"stacked\">Telefono</IonLabel>\n                            <IonInput onIonChange={e => supplier.phone=String( e.detail.value)  } value={supplier.phone}> </IonInput>\n                        </IonItem>\n\n                    </IonCol>\n\n                    </IonRow>\n                    \n                    <IonItem>\n                        <IonButton onClick={save} color='success' fill='solid' slot='end' size='default'>\n                            <IonIcon icon={checkmark}/>\n                            Guardar\n                        </IonButton>\n                    </IonItem>\n\n                    \n                    </IonCard>\n                </IonContent>\n\n\n\n\n\n            </IonContent>\n        </IonPage>\n    );\n};\n\nexport default SupplierEdit;\n"]},"metadata":{},"sourceType":"module"}