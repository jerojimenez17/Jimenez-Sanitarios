{"ast":null,"code":"import _slicedToArray from\"/home/jero/Documentos/IonicReactApp/cursoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonButton,IonButtons,IonCard,IonCol,IonContent,IonFab,IonFabButton,IonFabList,IonGrid,IonHeader,IonIcon,IonInfiniteScroll,IonInfiniteScrollContent,IonItem,IonMenuButton,IonPage,IonRow,IonSearchbar,IonTitle,IonToolbar}from'@ionic/react';import{add,cart}from'ionicons/icons';import{useState,useEffect}from'react';import{useHistory,useParams}from'react-router';import Cart from'../../components/cart/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";//require('./jm.json')\nvar data=require('./jm.json');var ProductsJMList=function ProductsJMList(){var _useParams=useParams(),name=_useParams.name;var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(100),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchText=_useState6[0],setSearchText=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),productToCart=_useState8[0],setProductToCart=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isInfiniteDisabled=_useState10[0],setInfiniteDisabled=_useState10[1];useEffect(function(){},[searchText,productToCart]);/* \n    const search = async ()=> {\n        let result = await searchSuppliers();\n        setProveedores(result);\n\n    }\n   const remove = async(id:string)=>{\n        await removeSupplier(id);\n        search();\n    }\n    const addSupplier = () =>{\n        history.push('/page/supplier/new')\n    }\n\n    const editSupplier = (id:string)=> {\n        history.push('/page/supplier/'+id);\n    }\n    */var loadData=function loadData(ev){setTimeout(function(){setRowsPerPage(rowsPerPage+100);console.log('Cargando Productos...');ev.target.complete();},500);};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsxs(IonHeader,{collapse:\"condense\",children:[/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:name})}),/*#__PURE__*/_jsx(IonTitle,{size:\"large\",children:\"JM\"})]}),/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsx(IonSearchbar,{value:searchText,onIonChange:function onIonChange(e){return setSearchText(e.detail.value);},placeholder:\"Buscar...\",showCancelButton:\"focus\"}),/*#__PURE__*/_jsxs(IonFab,{className:\"floatingButton\",vertical:\"top\",horizontal:\"start\",edge:true,slot:\"fixed\",children:[/*#__PURE__*/_jsx(IonFabButton,{children:/*#__PURE__*/_jsx(IonIcon,{icon:cart})}),/*#__PURE__*/_jsx(IonFabList,{side:\"end\",children:/*#__PURE__*/_jsx(Cart,{product:productToCart})})]}),/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{className:\"title\",children:\"Lista Juan Ignacio\"}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{color:\"primary\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:add}),\"Agregar proveedor\"]})}),/*#__PURE__*/_jsxs(IonGrid,{className:\"table\",children:[/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:\"Codigo\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Descripcion\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Marca\"}),/*#__PURE__*/_jsx(IonCol,{children:\"Precio\"})]}),data.filter(function(producto){var _producto$description,_producto$cod,_producto$brand;return((_producto$description=producto.description)===null||_producto$description===void 0?void 0:_producto$description.toString().toLocaleLowerCase().includes(searchText.toLowerCase()))||((_producto$cod=producto.cod)===null||_producto$cod===void 0?void 0:_producto$cod.toString().toLocaleLowerCase().includes(searchText.toLowerCase()))||((_producto$brand=producto.brand)===null||_producto$brand===void 0?void 0:_producto$brand.toString().toLocaleLowerCase().includes(searchText.toLowerCase()));}).slice(0,rowsPerPage).map(function(producto,id){return/*#__PURE__*/_jsxs(IonRow,{className:\"fila\",children:[/*#__PURE__*/_jsxs(IonCol,{children:[producto.cod,\" \"]}),/*#__PURE__*/_jsx(IonCol,{className:\"description\",children:producto.description}),/*#__PURE__*/_jsx(IonCol,{className:\"marca\",children:producto.brand}),/*#__PURE__*/_jsx(IonCol,{children:\"$\"+(Number(producto.price)*1.5).toFixed()}),/*#__PURE__*/_jsx(IonButtons,{children:/*#__PURE__*/_jsx(IonButton,{size:\"small\",fill:\"solid\",color:\"success\",onClick:function onClick(e){setProductToCart(producto);},children:/*#__PURE__*/_jsx(IonIcon,{icon:add})})})]},producto.id);}),/*#__PURE__*/_jsx(IonInfiniteScroll,{onIonInfinite:loadData,threshold:\"100px\",disabled:isInfiniteDisabled,children:/*#__PURE__*/_jsx(IonInfiniteScrollContent,{loadingSpinner:\"bubbles\",loadingText:\"Cargando Productos...\"})})]})]})]})]})]});};export default ProductsJMList;","map":{"version":3,"sources":["/home/jero/Documentos/IonicReactApp/cursoreact/src/pages/products/ProductsJMList.tsx"],"names":["IonButton","IonButtons","IonCard","IonCol","IonContent","IonFab","IonFabButton","IonFabList","IonGrid","IonHeader","IonIcon","IonInfiniteScroll","IonInfiniteScrollContent","IonItem","IonMenuButton","IonPage","IonRow","IonSearchbar","IonTitle","IonToolbar","add","cart","useState","useEffect","useHistory","useParams","Cart","data","require","ProductsJMList","name","history","page","setPage","rowsPerPage","setRowsPerPage","searchText","setSearchText","productToCart","setProductToCart","isInfiniteDisabled","setInfiniteDisabled","loadData","ev","setTimeout","console","log","target","complete","e","detail","value","filter","producto","description","toString","toLocaleLowerCase","includes","toLowerCase","cod","brand","slice","map","id","Number","price","toFixed"],"mappings":"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","sourcesContent":["\nimport { IonButton, IonButtons, IonCard, IonCol, IonContent, IonFab, IonFabButton, IonFabList, IonGrid, IonHeader, IonIcon, IonInfiniteScroll, IonInfiniteScrollContent, IonInput, IonItem, IonList, IonMenuButton, IonPage, IonRow, IonSearchbar, IonTitle, IonToolbar } from '@ionic/react';\nimport { add, cart, close, pencil } from 'ionicons/icons';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useParams, useRouteMatch } from 'react-router';\nimport Cart from '../../components/cart/Cart';\nimport ExploreContainer from '../../components/ExploreContainer';\nimport Product from './Product';\n\n//require('./jm.json')\nlet data: Product[] = require('./jm.json');\n\n\nconst ProductsJMList: React.FC = () => {\n\n    const { name } = useParams<{ name: string; }>();\n\n\n    const history = useHistory();\n\n\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(100);\n    const [searchText, setSearchText] = useState('');\n\n    const [productToCart,setProductToCart] = useState<Product>({});\n    const [isInfiniteDisabled, setInfiniteDisabled] = useState(false);\n\n\n    useEffect(() => {\n        \n    }, [ searchText, productToCart]);\n    /* \n    const search = async ()=> {\n        let result = await searchSuppliers();\n        setProveedores(result);\n\n    }\n   const remove = async(id:string)=>{\n        await removeSupplier(id);\n        search();\n    }\n    const addSupplier = () =>{\n        history.push('/page/supplier/new')\n    }\n\n    const editSupplier = (id:string)=> {\n        history.push('/page/supplier/'+id);\n    }\n    */\n    const loadData = (ev: any) => {\n        setTimeout(() => {\n            setRowsPerPage(rowsPerPage+100);\n            console.log('Cargando Productos...');\n            ev.target.complete();\n        }, 500);\n    }\n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar>\n                    <IonButtons slot=\"start\">\n                        <IonMenuButton />\n                    </IonButtons>\n                    <IonTitle>{name}</IonTitle>\n                </IonToolbar>\n            </IonHeader>\n\n            <IonContent fullscreen>\n                <IonHeader collapse=\"condense\">\n                    <IonToolbar>\n                        <IonTitle size=\"large\">{name}</IonTitle>\n                    </IonToolbar>\n                    <IonTitle size='large'>JM</IonTitle>\n                </IonHeader>\n\n\n                <IonContent>\n                    <IonSearchbar value={searchText} onIonChange={(e: any) => setSearchText(e.detail.value)} placeholder=\"Buscar...\" showCancelButton=\"focus\"></IonSearchbar>\n                    <IonFab className='floatingButton' vertical=\"top\" horizontal=\"start\" edge slot=\"fixed\">\n                        <IonFabButton>\n                            <IonIcon icon={cart} />\n                        </IonFabButton>\n                        <IonFabList side=\"end\">\n                            <Cart product={productToCart}/>\n                        </IonFabList>\n                    </IonFab>\n                    <IonCard>\n                        <IonTitle className='title'>Lista Juan Ignacio</IonTitle>\n\n                        <IonItem>\n                            <IonButton color='primary' fill='solid' slot='end' size='default'>\n                                <IonIcon icon={add} />\n                                Agregar proveedor\n                            </IonButton>\n                        </IonItem>\n\n                        <IonGrid className='table' >\n                            <IonRow>\n                                <IonCol>Codigo</IonCol>\n                                <IonCol>Descripcion</IonCol>\n                                <IonCol>Marca</IonCol>\n                                <IonCol>Precio</IonCol>\n                            </IonRow>\n\n                            {data\n\n                                .filter(\n                                    (producto: Product) => {\n\n                                        return (producto.description?.toString().toLocaleLowerCase().includes(searchText.toLowerCase()) || (producto.cod?.toString().toLocaleLowerCase().includes(searchText.toLowerCase())|| (producto.brand?.toString().toLocaleLowerCase().includes(searchText.toLowerCase()))))\n                                    })\n                                .slice(0,rowsPerPage)\n                                .map((producto: Product, id: number) =>\n\n\n                                        <IonRow key={producto.id} className='fila'>\n                                            <IonCol>{producto.cod} </IonCol>\n                                            <IonCol className='description'>{producto.description}</IonCol>\n                                            <IonCol className='marca'>{producto.brand}</IonCol>\n                                            <IonCol>{\"$\" + (Number(producto.price) * 1.5).toFixed()}</IonCol>\n                                            <IonButtons>\n                                                <IonButton size='small' fill='solid' color='success'  onClick={(e)=>{\n                                                    setProductToCart(producto)\n                                                    }}>\n                                                    \n                                                    <IonIcon icon={add}/>\n                                                </IonButton>\n                                            </IonButtons>\n                                        \n                                        </IonRow>\n\n\n                                )\n                                }\n                            <IonInfiniteScroll\n                                onIonInfinite={loadData}\n                                threshold=\"100px\"\n                                disabled={isInfiniteDisabled}\n\n                            >\n                            <IonInfiniteScrollContent\n                                loadingSpinner=\"bubbles\"\n                                loadingText=\"Cargando Productos...\"\n                            ></IonInfiniteScrollContent>\n                            </IonInfiniteScroll>\n                        </IonGrid>\n                    </IonCard>\n                </IonContent>\n            </IonContent>\n        </IonPage>\n    );\n};\n\n\nexport default ProductsJMList;"]},"metadata":{},"sourceType":"module"}